


<!DOCTYPE html>
<html class="no-js" lang="fr" prefix="og: http://ogp.me/ns#">
    
<!-- Mirrored from openclassrooms.com/courses/creez-votre-application-web-avec-java-ee/tp-fil-rouge-etape-5 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 06 Apr 2016 09:51:50 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
        <meta charset="utf-8" /><script type="text/javascript">window.NREUM||(NREUM={}),__nr_require=function(e,t,n){function r(n){if(!t[n]){var o=t[n]={exports:{}};e[n][0].call(o.exports,function(t){var o=e[n][1][t];return r(o||t)},o,o.exports)}return t[n].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<n.length;o++)r(n[o]);return r}({1:[function(e,t,n){function r(e,t){return function(){o(e,[(new Date).getTime()].concat(a(arguments)),null,t)}}var o=e("handle"),i=e(2),a=e(3);"undefined"==typeof window.newrelic&&(newrelic=NREUM);var u=["setPageViewName","addPageAction","setCustomAttribute","finished","addToTrace","inlineHit"],c=["addPageAction"],f="api-";i(u,function(e,t){newrelic[t]=r(f+t,"api")}),i(c,function(e,t){newrelic[t]=r(f+t)}),t.exports=newrelic,newrelic.noticeError=function(e){"string"==typeof e&&(e=new Error(e)),o("err",[e,(new Date).getTime()])}},{}],2:[function(e,t,n){function r(e,t){var n=[],r="",i=0;for(r in e)o.call(e,r)&&(n[i]=t(r,e[r]),i+=1);return n}var o=Object.prototype.hasOwnProperty;t.exports=r},{}],3:[function(e,t,n){function r(e,t,n){t||(t=0),"undefined"==typeof n&&(n=e?e.length:0);for(var r=-1,o=n-t||0,i=Array(0>o?0:o);++r<o;)i[r]=e[t+r];return i}t.exports=r},{}],ee:[function(e,t,n){function r(){}function o(e){function t(e){return e&&e instanceof r?e:e?u(e,a,i):i()}function n(n,r,o){e&&e(n,r,o);for(var i=t(o),a=l(n),u=a.length,c=0;u>c;c++)a[c].apply(i,r);var s=f[g[n]];return s&&s.push([m,n,r,i]),i}function p(e,t){w[e]=l(e).concat(t)}function l(e){return w[e]||[]}function d(e){return s[e]=s[e]||o(n)}function v(e,t){c(e,function(e,n){t=t||"feature",g[n]=t,t in f||(f[t]=[])})}var w={},g={},m={on:p,emit:n,get:d,listeners:l,context:t,buffer:v};return m}function i(){return new r}var a="nr@context",u=e("gos"),c=e(2),f={},s={},p=t.exports=o();p.backlog=f},{}],gos:[function(e,t,n){function r(e,t,n){if(o.call(e,t))return e[t];var r=n();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!1}),r}catch(i){}return e[t]=r,r}var o=Object.prototype.hasOwnProperty;t.exports=r},{}],handle:[function(e,t,n){function r(e,t,n,r){o.buffer([e],r),o.emit(e,t,n)}var o=e("ee").get("handle");t.exports=r,r.ee=o},{}],id:[function(e,t,n){function r(e){var t=typeof e;return!e||"object"!==t&&"function"!==t?-1:e===window?0:a(e,i,function(){return o++})}var o=1,i="nr@id",a=e("gos");t.exports=r},{}],loader:[function(e,t,n){function r(){if(!w++){var e=v.info=NREUM.info,t=s.getElementsByTagName("script")[0];if(e&&e.licenseKey&&e.applicationID&&t){c(l,function(t,n){e[t]||(e[t]=n)});var n="https"===p.split(":")[0]||e.sslForHttp;v.proto=n?"https://":"http://",u("mark",["onload",a()],null,"api");var r=s.createElement("script");r.src=v.proto+e.agent,t.parentNode.insertBefore(r,t)}}}function o(){"complete"===s.readyState&&i()}function i(){u("mark",["domContent",a()],null,"api")}function a(){return(new Date).getTime()}var u=e("handle"),c=e(2),f=window,s=f.document;NREUM.o={ST:setTimeout,CT:clearTimeout,XHR:f.XMLHttpRequest,REQ:f.Request,EV:f.Event,PR:f.Promise,MO:f.MutationObserver},e(1);var p=""+location,l={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-918.min.js"},d=window.XMLHttpRequest&&XMLHttpRequest.prototype&&XMLHttpRequest.prototype.addEventListener&&!/CriOS/.test(navigator.userAgent),v=t.exports={offset:a(),origin:p,features:{},xhrWrappable:d};s.addEventListener?(s.addEventListener("DOMContentLoaded",i,!1),f.addEventListener("load",r,!1)):(s.attachEvent("onreadystatechange",o),f.attachEvent("onload",r)),u("mark",["firstbyte",a()],null,"api");var w=0},{}]},{},["loader"]);</script>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
        <meta name="application-name" content="OpenClassrooms"/>
        <meta name="msapplication-TileColor" content="#e95325"/>
        <meta name="msapplication-TileImage" content="/fav-icon.png?v=1"/>

        <meta name="theme-color" content="#E95325">
        <link rel="icon" sizes="144x144" href="../../fav-icon3860.png?v=1">

        
        
        <link href="../../bundles/common/css/masterd0b3.css?095b5b3" type="text/css" rel="stylesheet" media="all"  />
        

        <link rel="apple-touch-icon" href="../../apple-touch-icon.png" />
        <link rel="apple-touch-icon" href="../../apple-touch-icon-iphone.png" />
        <link rel="apple-touch-icon" sizes="72x72" href="../../apple-touch-icon-ipad.png" />
        <link rel="apple-touch-icon" sizes="114x114" href="../../apple-touch-icon-iphone-retina-display.png" />
        <link rel="apple-touch-icon" sizes="144x144" href="../../apple-touch-icon-ipad-retina-display.png" />

        <link rel="apple-touch-icon-precomposed" href="../../apple-touch-icon-precomposed.png" />

            <link href="../../bundles/course/css/maind0b3.css?095b5b3" type="text/css" rel="stylesheet" media="all"/>

        <script type="text/javascript" src="../../js/modernizrd0b3.js?095b5b3"></script>

        <link rel="shortcut icon" href="https://openclassrooms.com/favicon.ico?095b5b3" />

            
    <meta property="og:locale" content="fr"/>
    <meta property="og:type" content="website"/>

    <meta property="og:title" content="Découvrez le cours &quot;TP Fil rouge - Étape 5&quot; sur @OpenClassrooms"/>
    <meta property="og:url" content="https://openclassrooms.com/courses/creez-votre-application-web-avec-java-ee/tp-fil-rouge-etape-5"/>
    <meta property="og:site_name" content="OpenClassrooms"/>
    <meta property="og:image" content="https://static.oc-static.com/prod/courses/illustrations/illu_creez-votre-application-web-avec-java-ee.png"/>
    <meta property="og:description" content="Pour réaliser des sites web en Java, on utilise l&#039;environnement Java EE (anciennement appelé J2EE). Celui-ci impose de développer de façon très structurée, ce qui explique certainement pour quoi on le retrouve dans un très grand nombre d&#039;applications web notamment en entreprise (banques, administrations...)."/>

            
    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:site" content="@OpenClassrooms"/>
    <meta name="twitter:title" content="Découvrez le cours &quot;TP Fil rouge - Étape 5&quot; sur @OpenClassrooms"/>
    <meta name="twitter:description" content=""/>

                
        <title>TP Fil rouge - Étape 5</title>

        <!-- inlined top javascript block -->


        <script type="text/javascript">
            var App = {
                startTime: (new Date()).getTime(),
                debug: false
            };

            App.user = {
                
                
                
                isPremium: false
            };


            App.preferences = {
                assetVersion: '095b5b3',
                contactMail: 'hello@openclassrooms.com',
                adyenPublicKey: '10001|889EBFD4D434B82683E21DCA26E77C3E20E0EE09A5ECE3830B0ED51F2FA721A2F7E9EC871C6AB9A1E12C4492F4717673047757E02C5256D8E265CD51E413E5EFCCFEAC41B39C662A424ADC13EE187C38C372A7FCCEC1EA5DF841989437D78B252A8EB51008E60BB55B1E55A7A80DE1A9D60D998C128A576BFAE1DDB97D514AF0A073AEDDE84CEE40D1F8F6ECE85D0FFA50C95C06DB274021C1371376C6EB16561FD65C5E2704B570A7504D617D0F3820F176A0609F6162BDF5890533289FDC3DA7DB03B50BB3BD60A613E1FF72060F22987627E8F1A29F0128A94EC4C8FF7CF6B7AB9558D8433BF86D7A388AB927641CD6C02689139CEE3AAC9ACBFFE83806CB',
                algolia: {
                    appId: 'JGRXRFVQM0',
                    apiKey: 'dfbdea500cb0b5f46e449ad334916c44', indexName: 'prod_COURSES_fr'
                },
                routes: {
                    COURSE_EVENT: '/components/courses/:courseId',
                    COURSE_PART_EVENT: '/components/courses/:courseId/parts/:partId',

                    ACCEPT_COOKIE: '/components/user-accept-consent-cookie'
                }

                                            };

            App.preferences.navigationPreference = {
                            };

            App.preferences.modules = {
                'smiley': {
                    basePath: '/bundles/common/images/smiley/'
                }
            };
        </script>
        <!-- inlined top javascript block end -->

        <script>    App.preferences.modules['course/view/internalFolding'] = {
        isBigCourse: true
    };

    App.data = App.data || {};
App.data.currentCourse = {"partId":623743,"courseId":626954};
App.preferences.modules['view/currentCoursePage'] = App.data.currentCourse;

</script>

        
        
    </head>

    <body class="course oc-body ">

        

        
    
    
    <script id="_EVENTS-PAGE" type="application/json">
        {"type":"page"}
    </script>


        <!--[if lt IE 9]>
<div class="disclaimer  disclaimer-error">
    Vous utilisez un navigateur obsolète, veuillez le <a href="http://browsehappy.com/">mettre à jour</a>.
</div>
<![endif]-->

<noscript>
    <div class="disclaimer  disclaimer--error">
        Veuillez utiliser un <a href="http://browsehappy.com/">navigateur internet moderne</a> avec JavaScript activé pour naviguer sur OpenClassrooms.com
    </div>
</noscript>


                    

<header id="oc-header" class="js-tabs-mobile mainHeader ">

        <div class="disclaimer  disclaimer--info hidden  js-cookie-disclaimer">
        <div class="disclaimer__wrapper">
            <span class="disclaimer__content">Bienvenue sur OpenClassrooms ! En poursuivant votre navigation, vous acceptez l'utilisation de cookies. <a href="https://openclassrooms.com/privacy-policy#personal-data-gathering">En savoir plus</a></span>
            <span class="disclaimer__actions">
                <a href="#" class="disclaimer__button  js-close-button">ok</a>
            </span>
        </div>
    </div>

    <div class="mainHeader__wrapper">

        <div class="mainHeader__topLine">
                <a href="https://openclassrooms.com/pole-emploi/partenariat?utm_source=SiteWeb-OC&amp;utm_medium=Lien-PhraseHeader&amp;utm_campaign=relancePE"> Vous êtes demandeur d'emploi ? On vous offre le Premium Solo en 3 clics :) ! </a>

        </div>

        <div class="mainHeader__top">
            <a href="https://openclassrooms.com/" class="mainHeader__logo" title="OpenClassrooms.com">OpenClassrooms.com</a>

            
<nav role="navigation" class="icoTabs  mainHeader__tabSet">
    <span class="mainHeader__mobileNav">

        
        
        <a class="js-tabs-tab  icoTabs__tab  is-disabled" href="#tab-courseMenu">
            <span class="icoTabs__inner--mobileRightSeparator">
                <i class="icon-plus  icoTabs__icon"></i>
            </span>
        </a>

        <a class="js-tabs-tab  icoTabs__tab  is-disabled" href="#tab-courseEditMenu">
            <span class="icoTabs__inner--mobileRightSeparator">
                <i class="icon-plus  icoTabs__icon"></i>
            </span>
        </a>

        <a class="js-tabs-tab  icoTabs__tab  is-disabled" data-tabs-default="true" href="#tab-searchMenu">
            <span class="icoTabs__inner--mobileRightSeparator">
                <i class="icon-search  icoTabs__icon"></i>
            </span>
        </a>

        <a class="js-tabs-tab  icoTabs__tab" href="#tab-main">
            <i class="icon-menu  icoTabs__icon"></i>
        </a>
    </span>

</nav>
        </div>

                <div class="js-tabs-content  mainHeader__content"></div>

        <div class="mainHeader__content">
            <div id="tab-main" class="mainHeader__tabs">
                <nav class="mainTopNav  scrollPanel  js-scrollPanel-mobileMenu">
    <div class="mainTopNav__container  scrollPanel__container  js-scrollPanel-container">
        <ul class="mainHeader__container  mainHeader__container--mainMenu  js-scrollPanel-content">
            <li class="mainHeader__containerItem">
                <a class="mainTopNav__item" href="http://openclassrooms.com/paths/">Parcours</a>
            </li>
            <li class="mainHeader__containerItem">
                <a class="mainTopNav__item" href="https://openclassrooms.com/courses">Cours</a>
            </li>
            <li class="mainHeader__containerItem">
                <a class="mainTopNav__item" href="https://openclassrooms.com/forum/">Forums</a>
            </li>

            <li class="mainHeader__containerItem">
                <a class="mainTopNav__item" href="https://openclassrooms.com/partners">Partenaires</a>
            </li>

            <li class="mainHeader__containerItem">
                <a class="mainTopNav__item" href="https://openclassrooms.com/premium">Premium</a>
            </li>
        </ul>
    </div>
</nav>

                <div class="mainHeader__contentInner">
                    <div class="mainHeader__container  mainHeader__container--search">
                                                                                                                                                                            
                                                                          
 <div class="js-courseSearch  topSearchBox">
     <form tabindex="0" class="js-courseSearch-form  oc-form" action="https://openclassrooms.com/courses" method="get">
         <div class="js-courseSearch-inputGroup oc-form__widget  inputGroup  topSearchBox__inner">
             <input id="algolia-search-input"
                    type="search"
                    class="js-courseSearch-input oc-form__control inputGroup__input  topSearchBox__input"
                    title="Rechercher"
                    autocomplete="off"
                    data-option_source="/components/courses/search?q=<%= term %>"
                    placeholder="Rechercher"
                    name="q" />

             <button class="js-courseSearch-button  oc-btn dark-btn  only-icon  inputGroup__button  topSearchBox__button" type="submit" title="Rechercher un cours">
                 <i class="inputGroup__icon icon-search"></i>
                 <i class="inputGroup__icon inputGroup__icon--load icon-spinner icon-spin"></i>
             </button>
         </div>
     </form>
 </div>
                    </div>

                                            <div class="mainHeader__container  mainHeader__container--separatorLarge  hidden-s"></div>
                    


                    
                                            <div class="mainHeader__container  mainHeader__container--login">
    <a href="https://openclassrooms.com/register" class="oc-btn orange-alt-btn js-popin-activator space-right" data-popin-selector="#popin-sign-in">
    S&#039;inscrire
</a>
<a href="https://openclassrooms.com/login" class="oc-btn dark-btn js-popin-activator" data-popin-selector="#popin-log-in">
    Se connecter
</a>
</div>


<aside  tabindex="-1"
        role="dialog"
                    aria-labelledby="popin-sign-in_popin_title"
                class="popin popin--small  js-popin"
        id="popin-sign-in"
>
    <i class="popin__close-button icon-close js-close-button"></i>

    <div class="popin__inner">
        
        <div class="popin__mainContainer">
                            <h3 id="popin-sign-in_popin_title" class="popin__title  js-popin-title">Inscription</h3>
            
            
            
            <div class="popin__content  js-popin-content">
                <div class="popin__contentWrapper">
                                                <div class="formLogin formLogin--smallSize">
            
<ul class="table table--fullwidth u--noMargin">
    <li class="formLogin__column">
        <a class="facebook-btn oc-btn fullwidth formLogin__facebook" href="https://www.facebook.com/v2.3/dialog/oauth?client_id=277769842283905&amp;redirect_uri=https%3A%2F%2Fopenclassrooms.com%2Flogin_check_facebook&amp;state=e32808f0ea97615acdb17a43284c3b3b&amp;sdk=php-sdk-4.0.23&amp;scope=public_profile%2Cemail">
            <i class="icon-facebook"></i>S&#039;inscrire avec Facebook
        </a>
        <a class="google-btn oc-btn fullwidth formLogin__google" href="https://accounts.google.com/o/oauth2/auth?response_type=code&amp;redirect_uri=https%3A%2F%2Fopenclassrooms.com%2Flogin_check_google&amp;client_id=132418960718-jdnmpug3g9e6ub2p41ergcci1492qh82.apps.googleusercontent.com&amp;scope=https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fplus.me+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile&amp;access_type=online&amp;approval_prompt=auto">
            <i class="icon-google"></i>S&#039;inscrire avec Google
        </a>
    </li>

    <li class="formLogin__column">
        
            
    
    

    <form name="register" method="post" action="https://openclassrooms.com/register" class="js-registerForm oc-form">

        <div class="accessibility-hidden">
                <label class="oc-form__row    "><span class="oc-form__label-text ">
                            Wonder&nbsp;                        </span><span class="oc-form__widget"><input type="text" id="register_wonder" name="register[wonder]" class="" /></span></label>
        </div>

        <div class="oc-form__group oc-form--requiredHidden">
                <label class="oc-form__row    "><span class="oc-form__label-text ">
                            Prénom&nbsp;<abbr class="oc-form__required" title="requis"><span>*</span></abbr></span><span class="oc-form__widget"><input type="text" id="register_firstName" name="register[firstName]" required="required" autofocus="autofocus" class="" /></span></label>
        </div>

        <div class="oc-form__group oc-form--requiredHidden">
                <label class="oc-form__row    "><span class="oc-form__label-text ">
                            Nom&nbsp;<abbr class="oc-form__required" title="requis"><span>*</span></abbr></span><span class="oc-form__widget"><input type="text" id="register_lastName" name="register[lastName]" required="required" class="" /></span></label>
        </div>

        <div class="oc-form__group oc-form--requiredHidden">
                <label class="oc-form__row    "><span class="oc-form__label-text ">
                            Adresse email&nbsp;<abbr class="oc-form__required" title="requis"><span>*</span></abbr></span><span class="oc-form__widget"><input type="email" id="register_email" name="register[email]" required="required" class="" /></span></label>
            <p>
                <em>
                    Vous recevrez votre mot de passe sur cette adresse email.
                </em>
            </p>
        </div>

        <div class="oc-form__group oc-form--requiredHidden">
                <label class="oc-form__row  oc-form__row--reversed  "><span class="oc-form__widget"><span class="ocCheckbox"><input type="checkbox" id="register_terms" name="register[terms]" required="required" class="" value="1" /><span class="ocCheckbox__check"></span></span></span><span class="oc-form__label-text"><span class="oc-form__label-text ">
                            J'ai lu et j'accepte les <a href="https://openclassrooms.com/terms-conditions/fr">Conditions Générales d'Utilisation</a>.&nbsp;<abbr class="oc-form__required" title="requis"><span>*</span></abbr></span></span></label>
        </div>


        <div class="oc-form__group  center-text">
            
    <button type="submit" id="register_create" name="register[create]" class="oc-btn orange-alt-btn oc-btn"> S'inscrire</button>
        </div>

        <input type="hidden" id="register__target_path" name="register[_target_path]" value="https://openclassrooms.com/courses/creez-votre-application-web-avec-java-ee/tp-fil-rouge-etape-5" /><input type="hidden" id="register__token" name="register[_token]" value="LEhsW-IhokD4hQHYoHva_FZzYy-PP2cG-886IBpx9HY" /></form>
    </li>
</ul>
        </div>
                    </div>
            </div>

            
                        
                    </div>
    </div>
</aside>



<aside  tabindex="-1"
        role="dialog"
                    aria-labelledby="popin-log-in_popin_title"
                class="popin popin--small  js-popin"
        id="popin-log-in"
>
    <i class="popin__close-button icon-close js-close-button"></i>

    <div class="popin__inner">
        
        <div class="popin__mainContainer">
                            <h3 id="popin-log-in_popin_title" class="popin__title  js-popin-title">Connexion</h3>
            
            
            
            <div class="popin__content  js-popin-content">
                <div class="popin__contentWrapper">
                                                <div class="formLogin formLogin--smallSize">
            
<ul class="table table--fullwidth u--noMargin">
    <li class="formLogin__column">
        <a class="facebook-btn oc-btn fullwidth formLogin__facebook" href="https://www.facebook.com/v2.3/dialog/oauth?client_id=277769842283905&amp;redirect_uri=https%3A%2F%2Fopenclassrooms.com%2Flogin_check_facebook&amp;state=e32808f0ea97615acdb17a43284c3b3b&amp;sdk=php-sdk-4.0.23&amp;scope=public_profile%2Cemail"><i class="icon-facebook"></i> Se connecter avec Facebook</a>
        <a class="google-btn oc-btn fullwidth formLogin__google" href="https://accounts.google.com/o/oauth2/auth?response_type=code&amp;redirect_uri=https%3A%2F%2Fopenclassrooms.com%2Flogin_check_google&amp;client_id=132418960718-jdnmpug3g9e6ub2p41ergcci1492qh82.apps.googleusercontent.com&amp;scope=https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fplus.me+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile&amp;access_type=online&amp;approval_prompt=auto"><i class="icon-google"></i> Se connecter avec Google</a>
    </li>

    <li class="formLogin__column">

        
            
    
    

    <form name="" method="post" action="https://openclassrooms.com/login_check" class=" oc-form">

        <div class="oc-form__group oc-form--requiredHidden">
                <label class="oc-form__row    "><span class="oc-form__label-text ">
                            Adresse email ou nom d'utilisateur&nbsp;<abbr class="oc-form__required" title="requis"><span>*</span></abbr></span><span class="oc-form__widget"><input type="text" id="_username" name="_username" required="required" autofocus="autofocus" class="" /></span></label>
        </div>

        <div class="oc-form__group oc-form--requiredHidden">
                <label class="oc-form__row    "><span class="oc-form__label-text ">
                            Mot de passe&nbsp;<abbr class="oc-form__required" title="requis"><span>*</span></abbr></span><span class="oc-form__widget"><input type="password" id="_password" name="_password" required="required" class="" /></span></label>
        </div>

        <div class="oc-form__group">
                <label class="oc-form__row  oc-form__row--reversed  "><span class="oc-form__widget"><span class="ocCheckbox"><input type="checkbox" id="_remember_me" name="_remember_me" class="" value="1" checked="checked" /><span class="ocCheckbox__check"></span></span></span><span class="oc-form__label-text"><span class="oc-form__label-text ">
                            Se souvenir de moi&nbsp;                        </span></span></label>
        </div>

        <div class="oc-form__group right-text">
            <a href="https://openclassrooms.com/set-new-password">Mot de passe oublié</a>
        </div>

        <div class="oc-form__group  center-text">
            <input type="hidden" id="_target_path" name="_target_path" value="https://openclassrooms.com/courses/creez-votre-application-web-avec-java-ee/tp-fil-rouge-etape-5" /><div>
    <button type="submit" id="login" name="login" class="orange-alt-btn oc-btn"> Se connecter</button></div><input type="hidden" id="_csrf_token" name="_csrf_token" value="WFIVlYEKEcL5v9hnQC1z3quXwgYs14KEFOLh1GUmi_I" />
        </div>

        </form>
    </li>
</ul>
<p class="text-center space-top">
    Pas encore membre ? <a href="https://openclassrooms.com/register">Inscrivez-vous gratuitement</a> en 30s.
</p>
        </div>
                    </div>
            </div>

            
                        
                    </div>
    </div>
</aside>
                    
                    <div class="mainHeader__container  mainHeader__container--langSelector">
                        <div class="js-popOut-header  popOut popOut--small  popOut--rightAlign" data-keep-it-mobile="true">
    <span class="js-popOut-button  popOut__button">
                    <a href="javascript:;" class="languageSelector__selected">Français</a>
            </span>
    <ul class="popOutList  popOut__content  popOutList--small">
                    <li class="popOutList__item">
                <a class="popOutList__link" href="https://openclassrooms.com/change-locale/en/wsADDEtTJgeOfRBlmygmpV2y0eneCLAuyYJYnverVSQ">English</a>
            </li>
                    <li class="popOutList__item">
                <a class="popOutList__link" href="https://openclassrooms.com/change-locale/es/wsADDEtTJgeOfRBlmygmpV2y0eneCLAuyYJYnverVSQ">Español</a>
            </li>
            </ul>
</div>

                    </div>
                </div>
            </div>

        </div>
    </div>
</header>

        
        <div id="mainSearch" class="centered search-content">
        </div>

        <div id="mainContentWithHeader">
            <div id="pre-main-part">
                
                                        <section class="inset no-padding">
        <div class="centered">

            <h6 class="accessibility-hidden">Fil d&#039;Ariane</h6>

            <nav class="breadcrumb">
                <ul class="breadcrumbtrail">
                                                                        <li class="home" itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
                                                                            <a href="https://openclassrooms.com/" itemprop="url">
                                <span itemprop="title">Accueil</span>
                            </a>
                                                                            <div class="arrow-right"></div>
                                                </li>
                                                                        <li itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
                                                                            <a href="https://openclassrooms.com/courses" itemprop="url">
                                <span itemprop="title">Cours</span>
                            </a>
                                                                            <div class="arrow-right"></div>
                                                </li>
                                                                        <li itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
                                                                            <a href="https://openclassrooms.com/courses/creez-votre-application-web-avec-java-ee?status=published" itemprop="url">
                                <span itemprop="title">Créez votre application web avec Java EE</span>
                            </a>
                                                                            <div class="arrow-right"></div>
                                                </li>
                                                                        <li class="current" itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
                                                                            TP Fil rouge - Étape 5
                                                                        </li>
                                    </ul>
            </nav>
        </div>
    </section>

                
                            </div>

            <div class="claire clearfix" >
                    <article itemscope itemtype="http://schema.org/Article">

                        
<header class="course-header" xmlns="http://www.w3.org/1999/html">
    <div class="centered"><div class="course-header__topPart"><div class="course-header__info"><a itemprop="url" href="https://openclassrooms.com/courses/creez-votre-application-web-avec-java-ee"><h1 data-course-title="Créez votre application web avec Java EE">Créez votre application web avec Java EE</h1></a><span class="course-header__updatedTime visible-l">Mis à jour le lundi 13 juillet 2015</span></div></div></div><div class="course-header__details-container"><div class="centered"><div class="row"><div class="col12"><div class="course-header__details  iconBar"><div class="course-header__detailsGroup  course-header__detailsGroup--formats iconBar__group"><ul data-option_popinselector="#popin-formats-availables" class="course-types iconBar__list js-course-formats-bar"><li class="iconBar__item  course-types__item  js-tooltip" title="Ce cours est visible gratuitement en ligne."><a href="https://openclassrooms.com/courses/creez-votre-application-web-avec-java-ee"><i class="icon-desktop  course-types__icon"></i><span class="course-header__format-current"></span></a></li><li class="iconBar__item  course-types__item iconBar__item--dimmed js-tooltip" title="Ce cours n&#039;est pas encore en vidéo."><span><i class="icon-video course-types__icon"></i></span></li><li class="iconBar__item  course-types__item  js-tooltip" title="Ce cours existe en livre papier."><a href="http://www.eyrolles.com/Informatique/Livre/creez-des-applications-web-avec-java-ee-9791090085244?societe=openclassrooms" target="_blank"><i class="icon-book  course-types__icon"></i></a></li><li class="iconBar__item  course-types__item  js-tooltip" title="Ce cours existe en eBook."><a href="https://openclassrooms.com/ebooks/creez-votre-application-web-avec-java-ee"><i class="icon-ebook  course-types__icon"></i></a></li><li class="iconBar__item  course-types__item iconBar__item--dimmed js-tooltip"
                                                                                            title="Vous ne pouvez pas encore obtenir de certificat de réussite à l&#039;issue de ce cours."
                                                                                ><a
                                                                                        ><i class="icon-badge  course-types__icon"></i></a></li><li class="iconBar__item  course-types__item iconBar__item--dimmed js-tooltip" title="Ce cours n&#039;est pas encore diplômant et ne vous permet pas d&#039;obtenir des crédits universitaires européens (ECTS)."><span><i class="icon-hat  course-types__icon"></i></span></li><li class="iconBar__item  course-types__item  js-tooltip" title="Vous pouvez être accompagné sur ce cours par un mentor dédié en visioconférence."><a  href="https://openclassrooms.com/premium#discover-premium-plus-offer" ><i class="icon-mentor  course-types__icon"></i></a></li></ul></div><div class="course-header__detailsGroup  course-header__detailsGroup--info  iconBar__group"><ul class="iconBar__list"><li class="iconBar__item"><i class="icon-duration iconBar__icon js-tooltip" title="Ce cours demande en moyenne 40 heures de travail pour être réussi."></i><span class="iconBar__label">40 heures</span></li><li class="iconBar__item"><i class="icon-level iconBar__icon"></i><span class="iconBar__label">
                                                                                                    Moyenne
                                                                                            </span></li></ul></div><div class="course-header__detailsGroup course-header__detailsGroup--licences iconBar__group"><a target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/2.0"><span class="iconBar__label">Licence</span><ul class="iconBar__list"><li class="iconBar__item"><i class="icon-cc iconBar__icon" title="CC"></i></li><li class="iconBar__item"><i class="icon-ccby iconBar__icon" title="BY"></i></li><li class="iconBar__item"><i class="icon-ccnc iconBar__icon" title="NC"></i></li><li class="iconBar__item"><i class="icon-ccsa iconBar__icon" title="SA"></i></li></ul></a></div></div></div></div></div></div>
    <div id="popin-formats-availables" class="popin popin--course-formats-availables">
        <i class="popin__close-button icon-close js-close-button"></i>

        <div class="course-types course-types--withSpace">
                            <a class="course-types__item" href="https://openclassrooms.com/courses/creez-votre-application-web-avec-java-ee">
                    <i class="icon-desktop course-types__icon"></i>
                </a>
            
            
                            <a class="course-types__item" href="http://www.eyrolles.com/Informatique/Livre/creez-des-applications-web-avec-java-ee-9791090085244?societe=openclassrooms">
                    <i class="icon-book course-types__icon"></i>
                </a>
            
                            <a class="course-types__item" href="https://openclassrooms.com/ebooks/creez-votre-application-web-avec-java-ee">
                    <i class="icon-ebook course-types__icon"></i>
                </a>
            
            
                                        <a class="course-types__item" href="https://openclassrooms.com/premium#discover-premium-plus-offer">
                    <i class="icon-mentor course-types__icon"></i>
                </a>
                    </div>

                    <p>Ce cours est visible <a href="https://openclassrooms.com/courses/creez-votre-application-web-avec-java-ee">gratuitement en ligne</a>.</p>
        
        
                    <p>
                Ce cours existe en livre papier.
            </p>
        
                    <p>Ce cours existe <a href="https://openclassrooms.com/ebooks/creez-votre-application-web-avec-java-ee">en eBook</a>.</p>
        
        
        
                    <p>
                Vous pouvez être <a href="https://openclassrooms.com/premium#discover-premium-plus-offer">accompagné et mentoré par un professeur particulier</a> par visioconférence sur ce cours.
            </p>
        
        <a class="oc-btn orange-alt-btn js-close-button" href="#">J&#039;ai tout compris !</a>
    </div>

    
</header>

    <div class="centered">
                            
        
            <div class="row">
        <div class="col12 col11-s">
                            <nav class="timeline">
        <div class="timeline__inner">

        <span class="timeline__iconContainer">
            <a href="https://openclassrooms.com/courses/creez-votre-application-web-avec-java-ee" title="Retour sur le sommaire du cours" class="roundIcon timeline__roundIcon">
                <i class="icon-home roundIcon__icon"></i>
            </a>
        </span>
            <div class="timeline__steps">
                
                    <span class="timeline__splitChapter"></span>

                                            
                                                        
                            <a
                                                                    href="introduction-au-java-ee.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Introduction au Java EE
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="le-java-ee-mis-a-nu.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Le Java EE mis à nu !
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="outils-et-environnement-de-developpement.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Outils et environnement de développement
                                </span>

                                                            </a>
                                            
                
                    <span class="timeline__splitChapter"></span>

                                            
                                                        
                            <a
                                                                    href="la-servlet.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    La servlet
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="servlet-avec-vue.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Servlet avec vue…
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="transmission-de-donnees.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Transmission de données
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="le-javabean.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Le JavaBean
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="la-technologie-jsp-1-2.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    La technologie JSP (1/2)
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="la-technologie-jsp-2-2.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    La technologie JSP (2/2)
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="des-problemes-de-vue.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Des problèmes de vue ?
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="tp-fil-rouge-etape-1.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    TP Fil rouge - Étape 1
                                </span>

                                                            </a>
                                            
                
                    <span class="timeline__splitChapter"></span>

                                            
                                                        
                            <a
                                                                    href="objectifs-et-configuration.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Objectifs et configuration
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="la-bibliotheque-core.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    La bibliothèque Core
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="jstl-core-exercice-d-application.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    JSTL core : exercice d&#039;application
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="la-bibliotheque-xml.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    La bibliothèque xml
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="jstl-xml-exercice-d-application.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    JSTL xml : exercice d&#039;application
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="faisons-le-point-2.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Faisons le point !
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="tp-fil-rouge-etape-2.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    TP Fil rouge - Étape 2
                                </span>

                                                            </a>
                                            
                
                    <span class="timeline__splitChapter"></span>

                                            
                                                        
                            <a
                                                                    href="formulaires-le-b-a-ba.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Formulaires : le b.a.-ba
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="formulaires-a-la-mode-mvc.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Formulaires : à la mode MVC
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="tp-fil-rouge-etape-3.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    TP Fil rouge - Étape 3
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="la-session-connectez-vos-clients.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    La session : connectez vos clients
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="le-filtre-creez-un-espace-membre.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Le filtre : créez un espace membre
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="le-cookie-le-navigateur-vous-ouvre-ses-portes.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Le cookie : le navigateur vous ouvre ses portes
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="tp-fil-rouge-etape-4.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    TP Fil rouge - Étape 4
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="formulaires-l-envoi-de-fichiers.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Formulaires : l&#039;envoi de fichiers
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="le-telechargement-de-fichiers.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Le téléchargement de fichiers
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="tp-fil-rouge-etape-5.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    TP Fil rouge - Étape 5
                                </span>

                                                                    <span class="timeline__progressMarker"></span>
                                                            </a>
                                            
                
                    <span class="timeline__splitChapter"></span>

                                            
                                                        
                            <a
                                                                    href="introduction-a-mysql-et-jdbc.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Introduction à MySQL et JDBC
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="communiquez-avec-votre-bdd.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Communiquez avec votre BDD
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="le-modele-dao.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Le modèle DAO
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="tp-fil-rouge-etape-6.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    TP Fil rouge - Étape 6
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="gerer-un-pool-de-connexions-avec-bonecp.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Gérer un pool de connexions avec BoneCP
                                </span>

                                                            </a>
                                            
                
                    <span class="timeline__splitChapter"></span>

                                            
                                                        
                            <a
                                                                    href="les-annotations.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Les annotations
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="la-persistance-des-donnees-avec-jpa.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    La persistance des données avec JPA
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="tp-fil-rouge-etape-7.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    TP Fil rouge - Étape 7
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="introduction-aux-frameworks-mvc.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Introduction aux frameworks MVC
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="premiers-pas-avec-jsf.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Premiers pas avec JSF
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="la-gestion-d-un-formulaire-avec-jsf.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    La gestion d&#039;un formulaire avec JSF
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="l-envoi-de-fichiers-avec-jsf.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    L&#039;envoi de fichiers avec JSF
                                </span>

                                                            </a>
                                            
                
                    <span class="timeline__splitChapter"></span>

                                            
                                                        
                            <a
                                                                    href="debugger-un-projet.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Débugger un projet
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="empaquetage-et-deploiement-d-un-projet.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Empaquetage et déploiement d&#039;un projet
                                </span>

                                                            </a>
                                            
                
                <span class="timeline__splitChapter"></span>

            </div>

        <span class="timeline__iconContainer">
                            <span title="Ce cours n&#039;est pas encore certifiant." class="roundIcon roundIcon--disabled">
                    <i class="icon-trophy roundIcon__icon"></i>
                </span>
                    </span>

        </div>
    </nav>
        </div>
    </div>
    </div>

        
        <div class="centered">
            <div class="contentWithSidebar  spacer  js-contentWithSidebar" >
                <main class="contentWithSidebar__content" >
                        

        <div class="relative js-sidebar-container">
        <div class="static">
    <h2 itemprop="name" data-part-title="TP Fil rouge - Étape 5" class="part-title">TP Fil rouge - Étape 5</h2>

    <section class="row space-bottom js-desktop-sticky-container">
        <div class="col9 col11-s col__small-padding--right">

                <div class="tooltipMessage tooltipMessage--noArrow">
        <i class="tooltipMessage__icon  icon-lock"></i>
        <a href="https://openclassrooms.com/login" class="js-popin-activator" data-popin-selector="#popin-log-in" >Connectez-vous</a> ou <a href="https://openclassrooms.com/register" class="js-popin-activator" data-popin-selector="#popin-sign-in" >inscrivez-vous</a> pour bénéficier de toutes les fonctionnalités de ce cours !
    </div>

            <div
                itemprop="articleBody"
                data-page-indentifier="/courses/creez-votre-application-web-avec-java-ee/tp-fil-rouge-etape-5"
                class="js-isRestrictablePage course-content js-course-container js-smilize "

                                    data-video-blocked-wrapper="<a href='https://openclassrooms.com/login#popin-log-in' class='js-popin-activator'>"
                            >

                <p id="r-2135927" data-claire-element-id="2352961">Dans cette cinquième étape du fil rouge qui clôture cette partie du cours, vous allez ajouter un champ au formulaire de création d'un client, permettant à l'utilisateur d'envoyer une image. Servlets d'upload et de download sont au programme !</p><h3 id="r-2135944" data-claire-element-id="3312318">Objectifs</h3><h4 id="r-2135943" data-claire-element-id="3312317">Fonctionnalités</h4><p id="r-2135928" data-claire-element-id="2352962">Votre mission cette fois est de permettre à l'utilisateur d'envoyer une image lors de la création d'un client via le formulaire existant. Votre application devra ensuite vérifier que le fichier envoyé est bien une image, et vous en profiterez pour vérifier que le poids de l'image ne dépasse pas 1 Mo avant de l'enregistrer dans un dossier externe au conteneur web.</p><p id="r-2135929" data-claire-element-id="2352963">Bien entendu, l'objectif suivant va être d'afficher un lien vers cette image sur la liste des clients existants. Au clic sur ce lien, l'utilisateur pourra alors visualiser l'image associée au client.</p><p id="r-2135930" data-claire-element-id="2352964">Enfin, vous devrez veiller à ce que l'utilisateur puisse toujours procéder à la création d'un client depuis le formulaire de création d'une commande, comme c'était déjà le cas jusqu'à présent.</p><p id="r-2135931" data-claire-element-id="2352965">Voici aux figure suivantes quelques exemples de rendu.</p><figure id="r-2135934" data-claire-element-id="3312312"><img id="r-2135932" data-claire-element-id="2352966" src="../../../user.oc-static.com/files/400001_401000/400123.png" alt="Image utilisateur" /></figure><figure id="r-2135937" data-claire-element-id="3312314"><img id="r-2135935" data-claire-element-id="2352969" src="../../../user.oc-static.com/files/400001_401000/400124.png" alt="Image utilisateur" /></figure><figure id="r-2135940" data-claire-element-id="3312316"><img id="r-2135938" data-claire-element-id="2352972" src="../../../user.oc-static.com/files/400001_401000/400132.png" alt="Image utilisateur" /></figure><aside id="r-2135942" data-claire-element-id="2352976" data-claire-semantic="information"><p id="r-2135941" data-claire-element-id="2352975">À propos de cette dernière capture d'écran, vous remarquerez que lorsque la taille maximale définie pour un fichier est dépassée, toutes les informations saisies dans le reste du formulaire disparaissent. Ne vous inquiétez pas, il s'agit du comportement normal de Tomcat dans ce cas d'utilisation : une <code>IllegalStateException</code> est levée, et les appels aux méthodes <code>getParameter()</code> renvoient tous <code>null</code>. Ce n'est pas très ergonomique, mais nous nous en contenterons dans le cadre de ce TP. ^^</p></aside><h3 id="r-2135986" data-claire-element-id="2838002">Conseils</h3><h4 id="r-2135947" data-claire-element-id="2352981">Envoi du fichier</h4><p id="r-2135945" data-claire-element-id="2352979">Première étape, la modification du formulaire existant. Vous allez devoir reprendre le code du fragment de JSP contenant les champs décrivant un client, et y ajouter un champ de type <code>&lt;input type=&quot;file&quot;&gt;</code> pour permettre à l'utilisateur d'envoyer une image.</p><p id="r-2135946" data-claire-element-id="2352980">En conséquence, vous allez devoir ajouter un attribut <strong>enctype</strong> aux balises <code>&lt;form&gt;</code> dans les formulaires des deux JSP responsables de la création d'un client et d'une commande, afin qu'elles gèrent correctement les requêtes contenant des données sous forme de fichiers.</p><h4 id="r-2135978" data-claire-element-id="2838001">Validation et enregistrement du fichier</h4><p id="r-2135948" data-claire-element-id="2352982">Côté serveur, vous allez devoir analyser les données reçues dans le nouveau paramètre de requête correspondant au champ de type fichier. Pour commencer, faites en sorte que ce champ soit optionnel, autrement dit que l'utilisateur puisse le laisser vide, qu'il ne soit pas obligé d'envoyer un fichier lors de la création d'un client.</p><p id="r-2135949" data-claire-element-id="2352983">Si un fichier est envoyé, alors vous allez devoir :</p><ul id="r-2135958" data-claire-element-id="2352992"><li id="r-2135951" data-claire-element-id="2352985"><p id="r-2135950" data-claire-element-id="2352984">vérifier que le poids du fichier envoyé ne dépasse pas 1 Mo ;</p></li><li id="r-2135953" data-claire-element-id="2352987"><p id="r-2135952" data-claire-element-id="2352986">vérifier que le fichier envoyé est bien une image ;</p></li><li id="r-2135955" data-claire-element-id="2352989"><p id="r-2135954" data-claire-element-id="2352988">enregistrer le fichier dans un répertoire du disque local, en dehors du conteneur ;</p></li><li id="r-2135957" data-claire-element-id="2352991"><p id="r-2135956" data-claire-element-id="2352990">ajouter le chemin vers l'image dans le bean <strong>Client</strong>, afin de pouvoir retrouver l'image par la suite.</p></li></ul><h5 id="r-2135961" data-claire-element-id="2352995">Le poids du fichier</h5><p id="r-2135959" data-claire-element-id="2352993">Comme je vous l'ai appris, avec l'API servlet 3.0 c'est très simple : les contraintes de taille sont imposées par la déclaration de la servlet dans le fichier <strong>web.xml</strong>, par l'intermédiaire de la section <code>&lt;multipart-config&gt;</code>. C'est donc ici que vous allez devoir limiter à 1 Mo la taille maximale d'un fichier envoyé.</p><p id="r-2135960" data-claire-element-id="2352994">De même, vous savez que Tomcat enverra une <strong>IllegalStateException</strong> en cas de dépassement des limites définies. Vous savez donc ce qu'il vous reste à faire pour renvoyer un message d'erreur précis à l'utilisateur, en cas d'envoi d'un fichier trop volumineux ! ;)</p><h5 id="r-2135973" data-claire-element-id="2838000">Le type du fichier</h5><p id="r-2135962" data-claire-element-id="2352996">Il s'agit de l'étape la plus délicate à réaliser. La solution la plus légère consiste à se baser uniquement sur l'extension du fichier envoyé par l'utilisateur, mais comme vous vous en doutez, ce n'est pas la solution que je vous demande d'adopter. Souvenez-vous : ne faites jamais confiance à l'utilisateur ! Qui vous dit qu'un d'entre eux ne va pas envoyer un prétendu fichier image contenant en réalité un exécutable, une archive, un script ou que sais-je encore ?...</p><p id="r-2135963" data-claire-element-id="2352997">Ainsi, vous allez devoir mettre en place un moyen plus efficace pour déterminer le type réel du fichier transmis. Pas de panique, il existe des bibliothèques qui se chargent de tout cela pour vous ! Je vous conseille ici l'utilisation de <a href="http://sourceforge.net/projects/mime-util/">MimeUtil</a>, car c'est probablement celle qui présente le moins de dépendances externes.</p><p id="r-2135964" data-claire-element-id="2352998">Voici les liens de téléchargement des deux jar nécessaires à son bon fonctionnement :</p><ul id="r-2135969" data-claire-element-id="2353003"><li id="r-2135966" data-claire-element-id="2353000"><p id="r-2135965" data-claire-element-id="2352999"><a href="http://course.oc-static.com/ftp-tutos/cours/java-ee/mime-util-2.1.3.jar">MimeUtil</a></p></li><li id="r-2135968" data-claire-element-id="2353002"><p id="r-2135967" data-claire-element-id="2353001"><a href="http://course.oc-static.com/ftp-tutos/cours/java-ee/slf4j-api-1.6.6.jar">SLF4J</a></p></li></ul><p id="r-2135970" data-claire-element-id="2353004">Il vous suffit de les déposer tous deux dans le répertoire <strong>/WEB-INF/lib</strong> de votre projet.</p><p id="r-2135971" data-claire-element-id="2353005">Je vous donne ci-dessous un exemple d'utilisation de la bibliothèque, vérifiant si un fichier est une image :</p><pre id="r-2135972" data-claire-element-id="2837999"><code data-claire-semantic="java">/* Extraction du type MIME du fichier depuis l'InputStream nommé &quot;contenu&quot; */
MimeUtil.registerMimeDetector( &quot;eu.medsea.mimeutil.detector.MagicMimeMimeDetector&quot; );
Collection&lt;?&gt; mimeTypes = MimeUtil.getMimeTypes( contenu );

/*
 * Si le fichier est bien une image, alors son en-tête MIME
 * commence par la chaîne &quot;image&quot;
 */
if ( mimeTypes.toString().startsWith( &quot;image&quot; ) ) {
    /* Appeler ici la méthode d'écriture du fichier sur le disque... */
} else {
    /* Envoyer ici une exception précisant que le fichier doit être une image... */
}</code></pre><h5 id="r-2135975" data-claire-element-id="2353009">L'enregistrement du fichier</h5><p id="r-2135974" data-claire-element-id="2353008">Rien de nouveau ici, cela se passe exactement comme nous l'avons fait dans le cours. Vous allez devoir mettre en place une méthode dédiée à l'écriture du fichier sur le disque, en manipulant proprement les flux (n'oubliez pas la traditionnelle structure <code>try/catch/finally</code>) et en gérant les différentes erreurs possibles.</p><h5 id="r-2135977" data-claire-element-id="2353011">Le chemin du fichier</h5><p id="r-2135976" data-claire-element-id="2353010">Vous devez, pour terminer, sauvegarder le chemin de l'image dans le bean <strong>Client</strong>. Il vous faudra donc le modifier pour y ajouter une propriété de type <code>String</code> que vous pouvez par exemple nommer <strong>image</strong>.</p><h4 id="r-2135982" data-claire-element-id="2353016">Affichage d'un lien vers l'image</h4><p id="r-2135979" data-claire-element-id="2353013">Depuis votre JSP, vous allez devoir récupérer le chemin vers l'image que vous avez placé dans le bean <strong>Client</strong>, et en faire un lien vers la servlet de téléchargement que vous allez par la suite mettre en place.</p><p id="r-2135980" data-claire-element-id="2353014">Pour obtenir le rendu affiché dans le paragraphe précédent, il vous suffit d'ajouter au tableau généré par la page <strong>listerClients.jsp</strong> une colonne, qui contiendra un lien HTML vers l'image si une image existe, et rien sinon.</p><p id="r-2135981" data-claire-element-id="2353015">Vous pouvez utiliser pour cela une simple condition <code>&lt;c:if&gt;</code>, testant si la propriété <strong>image</strong> du bean <strong>Client</strong> est vide ou non. Si elle n'est pas vide, alors vous afficherez un lien dont l'URL pourra par exemple prendre la forme <strong>/pro/images/nomDuFichier.ext</strong>, que vous générerez bien entendu via la balise <code>&lt;c:url&gt;</code>.</p><h4 id="r-2135985" data-claire-element-id="2353019">Ré-affichage de l'image</h4><p id="r-2135983" data-claire-element-id="2353017">La dernière étape du TP consiste à créer la servlet de téléchargement des images, qui va se charger de faire la correspondance entre l'URL que vous avez créée dans votre JSP - celle de la forme <strong>/pro/images/nomDuFichier.ext</strong> - et le répertoire du disque local dans lequel sont stockées les images.</p><p id="r-2135984" data-claire-element-id="2353018">Elle va ressembler très fortement à la servlet de download que vous avez mise en place dans le chapitre précédent, à ceci près qu'elle va cette fois uniquement traiter des images ; vous allez donc pouvoir modifier l'en-tête <code>&quot;Content-Disposition&quot;</code> de <code>&quot;attachment&quot;</code> vers <code>&quot;inline&quot;</code>. Ainsi, le navigateur du client va afficher directement l'image après un clic sur le lien &quot;Voir&quot; que vous avez mis en place, et ne va plus ouvrir une fenêtre &quot;Enregistrer sous...&quot; comme c'était le cas avec la servlet de téléchargement de fichiers.</p><h3 id="r-2136011" data-claire-element-id="2838020">Correction</h3><p id="r-2135987" data-claire-element-id="2353021">Faites attention à bien modifier tous les fichiers nécessaires au bon fonctionnement du système, vous pouvez relire les deux précédents chapitres pour vous assurer de ne rien oublier. Comme toujours, ce n'est pas la seule manière de faire, le principal est que votre solution respecte les consignes que je vous ai données !</p><p id="r-2135988" data-claire-element-id="2353022">Par ailleurs, vous allez probablement devoir adapter cette correction à la configuration de votre poste, car comme vous le savez, les déclarations des chemins dans le fichier <strong>web.xml</strong> dépendent en partie des répertoires externes que vous utilisez.</p><aside id="r-2135990" data-claire-element-id="2353024" data-claire-semantic="warning"><p id="r-2135989" data-claire-element-id="2353023">Prenez le temps de réfléchir, de chercher et coder par vous-mêmes. Si besoin, n'hésitez pas à relire le sujet ou à retourner lire les précédents chapitres. La pratique est très importante, ne vous ruez pas sur la solution !</p></aside><h4 id="r-2135993" data-claire-element-id="2838005">Le code des objets métiers</h4><pre id="r-2135991" data-claire-element-id="2838003"><code data-claire-semantic="java">package com.sdzee.tp.forms;

import java.io.BufferedInputStream;
import java.io.BufferedOutputStream;
import java.io.File;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.InputStream;
import java.util.Collection;
import java.util.HashMap;
import java.util.Map;

import javax.servlet.ServletException;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.Part;

import com.sdzee.tp.beans.Client;

import eu.medsea.mimeutil.MimeUtil;

public final class CreationClientForm {
    private static final String CHAMP_NOM       = &quot;nomClient&quot;;
    private static final String CHAMP_PRENOM    = &quot;prenomClient&quot;;
    private static final String CHAMP_ADRESSE   = &quot;adresseClient&quot;;
    private static final String CHAMP_TELEPHONE = &quot;telephoneClient&quot;;
    private static final String CHAMP_EMAIL     = &quot;emailClient&quot;;
    private static final String CHAMP_IMAGE     = &quot;imageClient&quot;;

    private static final int    TAILLE_TAMPON   = 10240;                        // 10ko

    private String              resultat;
    private Map&lt;String, String&gt; erreurs         = new HashMap&lt;String, String&gt;();

    public Map&lt;String, String&gt; getErreurs() {
        return erreurs;
    }

    public String getResultat() {
        return resultat;
    }

    public Client creerClient( HttpServletRequest request, String chemin ) {
        String nom = getValeurChamp( request, CHAMP_NOM );
        String prenom = getValeurChamp( request, CHAMP_PRENOM );
        String adresse = getValeurChamp( request, CHAMP_ADRESSE );
        String telephone = getValeurChamp( request, CHAMP_TELEPHONE );
        String email = getValeurChamp( request, CHAMP_EMAIL );
        String image = null;

        Client client = new Client();

        try {
            validationNom( nom );
        } catch ( FormValidationException e ) {
            setErreur( CHAMP_NOM, e.getMessage() );
        }
        client.setNom( nom );

        try {
            validationPrenom( prenom );
        } catch ( FormValidationException e ) {
            setErreur( CHAMP_PRENOM, e.getMessage() );
        }
        client.setPrenom( prenom );

        try {
            validationAdresse( adresse );
        } catch ( FormValidationException e ) {
            setErreur( CHAMP_ADRESSE, e.getMessage() );
        }
        client.setAdresse( adresse );

        try {
            validationTelephone( telephone );
        } catch ( FormValidationException e ) {
            setErreur( CHAMP_TELEPHONE, e.getMessage() );
        }
        client.setTelephone( telephone );

        try {
            validationEmail( email );
        } catch ( FormValidationException e ) {
            setErreur( CHAMP_EMAIL, e.getMessage() );
        }
        client.setEmail( email );

        try {
            image = validationImage( request, chemin );
        } catch ( FormValidationException e ) {
            setErreur( CHAMP_IMAGE, e.getMessage() );
        }
        client.setImage( image );

        if ( erreurs.isEmpty() ) {
            resultat = &quot;Succès de la création du client.&quot;;
        } else {
            resultat = &quot;Échec de la création du client.&quot;;
        }

        return client;
    }

    private void validationNom( String nom ) throws FormValidationException {
        if ( nom != null ) {
            if ( nom.length() &lt; 2 ) {
                throw new FormValidationException( &quot;Le nom d'utilisateur doit contenir au moins 2 caractères.&quot; );
            }
        } else {
            throw new FormValidationException( &quot;Merci d'entrer un nom d'utilisateur.&quot; );
        }
    }

    private void validationPrenom( String prenom ) throws FormValidationException {
        if ( prenom != null &amp;&amp; prenom.length() &lt; 2 ) {
            throw new FormValidationException( &quot;Le prénom d'utilisateur doit contenir au moins 2 caractères.&quot; );
        }
    }

    private void validationAdresse( String adresse ) throws FormValidationException {
        if ( adresse != null ) {
            if ( adresse.length() &lt; 10 ) {
                throw new FormValidationException( &quot;L'adresse de livraison doit contenir au moins 10 caractères.&quot; );
            }
        } else {
            throw new FormValidationException( &quot;Merci d'entrer une adresse de livraison.&quot; );
        }
    }

    private void validationTelephone( String telephone ) throws FormValidationException {
        if ( telephone != null ) {
            if ( !telephone.matches( &quot;^\\d+$&quot; ) ) {
                throw new FormValidationException( &quot;Le numéro de téléphone doit uniquement contenir des chiffres.&quot; );
            } else if ( telephone.length() &lt; 4 ) {
                throw new FormValidationException( &quot;Le numéro de téléphone doit contenir au moins 4 chiffres.&quot; );
            }
        } else {
            throw new FormValidationException( &quot;Merci d'entrer un numéro de téléphone.&quot; );
        }
    }

    private void validationEmail( String email ) throws FormValidationException {
        if ( email != null &amp;&amp; !email.matches( &quot;([^.@]+)(\\.[^.@]+)*@([^.@]+\\.)+([^.@]+)&quot; ) ) {
            throw new FormValidationException( &quot;Merci de saisir une adresse mail valide.&quot; );
        }
    }

    private String validationImage( HttpServletRequest request, String chemin ) throws FormValidationException {
        /*
         * Récupération du contenu du champ image du formulaire. Il faut ici
         * utiliser la méthode getPart().
         */
        String nomFichier = null;
        InputStream contenuFichier = null;
        try {
            Part part = request.getPart( CHAMP_IMAGE );
            nomFichier = getNomFichier( part );

            /*
             * Si la méthode getNomFichier() a renvoyé quelque chose, il s'agit
             * donc d'un champ de type fichier (input type=&quot;file&quot;).
             */
            if ( nomFichier != null &amp;&amp; !nomFichier.isEmpty() ) {
                /*
                 * Antibug pour Internet Explorer, qui transmet pour une raison
                 * mystique le chemin du fichier local à la machine du client...
                 * 
                 * Ex : C:/dossier/sous-dossier/fichier.ext
                 * 
                 * On doit donc faire en sorte de ne sélectionner que le nom et
                 * l'extension du fichier, et de se débarrasser du superflu.
                 */
                nomFichier = nomFichier.substring( nomFichier.lastIndexOf( '/' ) + 1 )
                        .substring( nomFichier.lastIndexOf( '\\' ) + 1 );

                /* Récupération du contenu du fichier */
                contenuFichier = part.getInputStream();

                /* Extraction du type MIME du fichier depuis l'InputStream */
                MimeUtil.registerMimeDetector( &quot;eu.medsea.mimeutil.detector.MagicMimeMimeDetector&quot; );
                Collection&lt;?&gt; mimeTypes = MimeUtil.getMimeTypes( contenuFichier );

                /*
                 * Si le fichier est bien une image, alors son en-tête MIME
                 * commence par la chaîne &quot;image&quot;
                 */
                if ( mimeTypes.toString().startsWith( &quot;image&quot; ) ) {
                    /* Ecriture du fichier sur le disque */
                    ecrireFichier( contenuFichier, nomFichier, chemin );
                } else {
                    throw new FormValidationException( &quot;Le fichier envoyé doit être une image.&quot; );
                }
            }
        } catch ( IllegalStateException e ) {
            /*
             * Exception retournée si la taille des données dépasse les limites
             * définies dans la section &lt;multipart-config&gt; de la déclaration de
             * notre servlet d'upload dans le fichier web.xml
             */
            e.printStackTrace();
            throw new FormValidationException( &quot;Le fichier envoyé ne doit pas dépasser 1Mo.&quot; );
        } catch ( IOException e ) {
            /*
             * Exception retournée si une erreur au niveau des répertoires de
             * stockage survient (répertoire inexistant, droits d'accès
             * insuffisants, etc.)
             */
            e.printStackTrace();
            throw new FormValidationException( &quot;Erreur de configuration du serveur.&quot; );
        } catch ( ServletException e ) {
            /*
             * Exception retournée si la requête n'est pas de type
             * multipart/form-data.
             */
            e.printStackTrace();
            throw new FormValidationException(
                    &quot;Ce type de requête n'est pas supporté, merci d'utiliser le formulaire prévu pour envoyer votre fichier.&quot; );
        }

        return nomFichier;
    }

    /*
     * Ajoute un message correspondant au champ spécifié à la map des erreurs.
     */
    private void setErreur( String champ, String message ) {
        erreurs.put( champ, message );
    }

    /*
     * Méthode utilitaire qui retourne null si un champ est vide, et son contenu
     * sinon.
     */
    private static String getValeurChamp( HttpServletRequest request, String nomChamp ) {
        String valeur = request.getParameter( nomChamp );
        if ( valeur == null || valeur.trim().length() == 0 ) {
            return null;
        } else {
            return valeur;
        }
    }

    /*
     * Méthode utilitaire qui a pour unique but d'analyser l'en-tête
     * &quot;content-disposition&quot;, et de vérifier si le paramètre &quot;filename&quot; y est
     * présent. Si oui, alors le champ traité est de type File et la méthode
     * retourne son nom, sinon il s'agit d'un champ de formulaire classique et
     * la méthode retourne null.
     */
    private static String getNomFichier( Part part ) {
        /* Boucle sur chacun des paramètres de l'en-tête &quot;content-disposition&quot;. */
        for ( String contentDisposition : part.getHeader( &quot;content-disposition&quot; ).split( &quot;;&quot; ) ) {
            /* Recherche de l'éventuelle présence du paramètre &quot;filename&quot;. */
            if ( contentDisposition.trim().startsWith( &quot;filename&quot; ) ) {
                /*
                 * Si &quot;filename&quot; est présent, alors renvoi de sa valeur,
                 * c'est-à-dire du nom de fichier sans guillemets.
                 */
                return contentDisposition.substring( contentDisposition.indexOf( '=' ) + 1 ).trim().replace( &quot;\&quot;&quot;, &quot;&quot; );
            }
        }
        /* Et pour terminer, si rien n'a été trouvé... */
        return null;
    }

    /*
     * Méthode utilitaire qui a pour but d'écrire le fichier passé en paramètre
     * sur le disque, dans le répertoire donné et avec le nom donné.
     */
    private void ecrireFichier( InputStream contenuFichier, String nomFichier, String chemin )
            throws FormValidationException {
        /* Prépare les flux. */
        BufferedInputStream entree = null;
        BufferedOutputStream sortie = null;
        try {
            /* Ouvre les flux. */
            entree = new BufferedInputStream( contenuFichier, TAILLE_TAMPON );
            sortie = new BufferedOutputStream( new FileOutputStream( new File( chemin + nomFichier ) ),
                    TAILLE_TAMPON );

            /*
             * Lit le fichier reçu et écrit son contenu dans un fichier sur le
             * disque.
             */
            byte[] tampon = new byte[TAILLE_TAMPON];
            int longueur = 0;
            while ( ( longueur = entree.read( tampon ) ) &gt; 0 ) {
                sortie.write( tampon, 0, longueur );
            }
        } catch ( Exception e ) {
            throw new FormValidationException( &quot;Erreur lors de l'écriture du fichier sur le disque.&quot; );
        } finally {
            try {
                sortie.close();
            } catch ( IOException ignore ) {
            }
            try {
                entree.close();
            } catch ( IOException ignore ) {
            }
        }
    }
}</code></pre><pre id="r-2135992" data-claire-element-id="2838004"><code data-claire-semantic="java">package com.sdzee.tp.forms;

import java.util.HashMap;
import java.util.Map;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpSession;

import org.joda.time.DateTime;
import org.joda.time.format.DateTimeFormat;
import org.joda.time.format.DateTimeFormatter;

import com.sdzee.tp.beans.Client;
import com.sdzee.tp.beans.Commande;

public final class CreationCommandeForm {
    private static final String CHAMP_CHOIX_CLIENT     = &quot;choixNouveauClient&quot;;
    private static final String CHAMP_LISTE_CLIENTS    = &quot;listeClients&quot;;
    private static final String CHAMP_DATE             = &quot;dateCommande&quot;;
    private static final String CHAMP_MONTANT          = &quot;montantCommande&quot;;
    private static final String CHAMP_MODE_PAIEMENT    = &quot;modePaiementCommande&quot;;
    private static final String CHAMP_STATUT_PAIEMENT  = &quot;statutPaiementCommande&quot;;
    private static final String CHAMP_MODE_LIVRAISON   = &quot;modeLivraisonCommande&quot;;
    private static final String CHAMP_STATUT_LIVRAISON = &quot;statutLivraisonCommande&quot;;

    private static final String ANCIEN_CLIENT          = &quot;ancienClient&quot;;
    private static final String SESSION_CLIENTS        = &quot;clients&quot;;
    private static final String FORMAT_DATE            = &quot;dd/MM/yyyy HH:mm:ss&quot;;

    private String              resultat;
    private Map&lt;String, String&gt; erreurs                = new HashMap&lt;String, String&gt;();

    public Map&lt;String, String&gt; getErreurs() {
        return erreurs;
    }

    public String getResultat() {
        return resultat;
    }

    public Commande creerCommande( HttpServletRequest request, String chemin ) {
        Client client;
        /*
         * Si l'utilisateur choisit un client déjà existant, pas de validation à
         * effectuer
         */
        String choixNouveauClient = getValeurChamp( request, CHAMP_CHOIX_CLIENT );
        if ( ANCIEN_CLIENT.equals( choixNouveauClient ) ) {
            /* Récupération du nom du client choisi */
            String nomAncienClient = getValeurChamp( request, CHAMP_LISTE_CLIENTS );
            /* Récupération de l'objet client correspondant dans la session */
            HttpSession session = request.getSession();
            client = ( (Map&lt;String, Client&gt;) session.getAttribute( SESSION_CLIENTS ) ).get( nomAncienClient );
        } else {
            /*
             * Sinon on garde l'ancien mode, pour la validation des champs.
             * 
             * L'objet métier pour valider la création d'un client existe déjà,
             * il est donc déconseillé de dupliquer ici son contenu ! A la
             * place, il suffit de passer la requête courante à l'objet métier
             * existant et de récupérer l'objet Client créé.
             */
            CreationClientForm clientForm = new CreationClientForm();
            client = clientForm.creerClient( request, chemin );

            /*
             * Et très important, il ne faut pas oublier de récupérer le contenu
             * de la map d'erreur créée par l'objet métier CreationClientForm
             * dans la map d'erreurs courante, actuellement vide.
             */
            erreurs = clientForm.getErreurs();
        }

        /*
         * Ensuite, il suffit de procéder normalement avec le reste des champs
         * spécifiques à une commande.
         */

        /*
         * Récupération et conversion de la date en String selon le format
         * choisi.
         */
        DateTime dt = new DateTime();
        DateTimeFormatter formatter = DateTimeFormat.forPattern( FORMAT_DATE );
        String date = dt.toString( formatter );

        String montant = getValeurChamp( request, CHAMP_MONTANT );
        String modePaiement = getValeurChamp( request, CHAMP_MODE_PAIEMENT );
        String statutPaiement = getValeurChamp( request, CHAMP_STATUT_PAIEMENT );
        String modeLivraison = getValeurChamp( request, CHAMP_MODE_LIVRAISON );
        String statutLivraison = getValeurChamp( request, CHAMP_STATUT_LIVRAISON );

        Commande commande = new Commande();

        commande.setClient( client );

        double valeurMontant = -1;
        try {
            valeurMontant = validationMontant( montant );
        } catch ( FormValidationException e ) {
            setErreur( CHAMP_MONTANT, e.getMessage() );
        }
        commande.setMontant( valeurMontant );

        commande.setDate( date );

        try {
            validationModePaiement( modePaiement );
        } catch ( FormValidationException e ) {
            setErreur( CHAMP_MODE_PAIEMENT, e.getMessage() );
        }
        commande.setModePaiement( modePaiement );

        try {
            validationStatutPaiement( statutPaiement );
        } catch ( FormValidationException e ) {
            setErreur( CHAMP_STATUT_PAIEMENT, e.getMessage() );
        }
        commande.setStatutPaiement( statutPaiement );

        try {
            validationModeLivraison( modeLivraison );
        } catch ( FormValidationException e ) {
            setErreur( CHAMP_MODE_LIVRAISON, e.getMessage() );
        }
        commande.setModeLivraison( modeLivraison );

        try {
            validationStatutLivraison( statutLivraison );
        } catch ( FormValidationException e ) {
            setErreur( CHAMP_STATUT_LIVRAISON, e.getMessage() );
        }
        commande.setStatutLivraison( statutLivraison );

        if ( erreurs.isEmpty() ) {
            resultat = &quot;Succès de la création de la commande.&quot;;
        } else {
            resultat = &quot;Échec de la création de la commande.&quot;;
        }
        return commande;
    }

    private double validationMontant( String montant ) throws FormValidationException {
        double temp;
        if ( montant != null ) {
            try {
                temp = Double.parseDouble( montant );
                if ( temp &lt; 0 ) {
                    throw new FormValidationException( &quot;Le montant doit être un nombre positif.&quot; );
                }
            } catch ( NumberFormatException e ) {
                temp = -1;
                throw new FormValidationException( &quot;Le montant doit être un nombre.&quot; );
            }
        } else {
            temp = -1;
            throw new FormValidationException( &quot;Merci d'entrer un montant.&quot; );
        }
        return temp;
    }

    private void validationModePaiement( String modePaiement ) throws FormValidationException {
        if ( modePaiement != null ) {
            if ( modePaiement.length() &lt; 2 ) {
                throw new FormValidationException( &quot;Le mode de paiement doit contenir au moins 2 caractères.&quot; );
            }
        } else {
            throw new FormValidationException( &quot;Merci d'entrer un mode de paiement.&quot; );
        }
    }

    private void validationStatutPaiement( String statutPaiement ) throws FormValidationException {
        if ( statutPaiement != null &amp;&amp; statutPaiement.length() &lt; 2 ) {
            throw new FormValidationException( &quot;Le statut de paiement doit contenir au moins 2 caractères.&quot; );
        }
    }

    private void validationModeLivraison( String modeLivraison ) throws FormValidationException {
        if ( modeLivraison != null ) {
            if ( modeLivraison.length() &lt; 2 ) {
                throw new FormValidationException( &quot;Le mode de livraison doit contenir au moins 2 caractères.&quot; );
            }
        } else {
            throw new FormValidationException( &quot;Merci d'entrer un mode de livraison.&quot; );
        }
    }

    private void validationStatutLivraison( String statutLivraison ) throws FormValidationException {
        if ( statutLivraison != null &amp;&amp; statutLivraison.length() &lt; 2 ) {
            throw new FormValidationException( &quot;Le statut de livraison doit contenir au moins 2 caractères.&quot; );
        }
    }

    /*
     * Ajoute un message correspondant au champ spécifié à la map des erreurs.
     */
    private void setErreur( String champ, String message ) {
        erreurs.put( champ, message );
    }

    /*
     * Méthode utilitaire qui retourne null si un champ est vide, et son contenu
     * sinon.
     */
    private static String getValeurChamp( HttpServletRequest request, String nomChamp ) {
        String valeur = request.getParameter( nomChamp );
        if ( valeur == null || valeur.trim().length() == 0 ) {
            return null;
        } else {
            return valeur;
        }
    }
}</code></pre><h4 id="r-2135996" data-claire-element-id="2838007">Le code de l'exception personnalisée</h4><p id="r-2135994" data-claire-element-id="2353028">Optionnelle, cette exception permet de mieux s'y retrouver dans le code des objets métiers, et d'y reconnaître rapidement les exceptions gérées. L'intérêt principal est on ne peut plus simple : un <code>throw new FormValidationException(...)</code> est bien plus explicite qu'un banal <code>throw new Exception(...)</code> ! C'est d'autant plus utile que nous allons bientôt faire intervenir une base de données, et ainsi être amenés à gérer d'autres types d'exceptions. En prenant l'habitude de spécialiser vos exceptions, vous rendrez votre code bien plus lisible ! :)</p><pre id="r-2135995" data-claire-element-id="2838006"><code data-claire-semantic="java">package com.sdzee.tp.forms;

public class FormValidationException extends Exception {
    /*
     * Constructeur
     */
    public FormValidationException( String message ) {
        super( message );
    }
}</code></pre><h4 id="r-2136001" data-claire-element-id="2838012">Le code des servlets</h4><pre id="r-2135997" data-claire-element-id="2838008"><code data-claire-semantic="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;web-app&gt;
    &lt;filter&gt;
        &lt;filter-name&gt;Set Character Encoding&lt;/filter-name&gt;
        &lt;filter-class&gt;org.apache.catalina.filters.SetCharacterEncodingFilter&lt;/filter-class&gt;
        &lt;init-param&gt;
            &lt;param-name&gt;encoding&lt;/param-name&gt;
            &lt;param-value&gt;UTF-8&lt;/param-value&gt;
        &lt;/init-param&gt;
        &lt;init-param&gt;
            &lt;param-name&gt;ignore&lt;/param-name&gt;
            &lt;param-value&gt;false&lt;/param-value&gt;
        &lt;/init-param&gt;
    &lt;/filter&gt;
    &lt;filter-mapping&gt;
        &lt;filter-name&gt;Set Character Encoding&lt;/filter-name&gt;
        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;
    &lt;/filter-mapping&gt;
    
	&lt;servlet&gt;
		&lt;servlet-name&gt;CreationClient&lt;/servlet-name&gt;
		&lt;servlet-class&gt;com.sdzee.tp.servlets.CreationClient&lt;/servlet-class&gt;
		&lt;init-param&gt;
			&lt;param-name&gt;chemin&lt;/param-name&gt; 
			&lt;param-value&gt;/fichiers/images/&lt;/param-value&gt; 
		&lt;/init-param&gt;
		&lt;multipart-config&gt;
			&lt;location&gt;c:/fichiers/images&lt;/location&gt;
			&lt;max-file-size&gt;2097152&lt;/max-file-size&gt; &lt;!-- 2 Mo --&gt;
			&lt;max-request-size&gt;10485760&lt;/max-request-size&gt; &lt;!-- 5 x 2Mo --&gt;
			&lt;file-size-threshold&gt;1048576&lt;/file-size-threshold&gt; &lt;!-- 1 Mo --&gt;
		&lt;/multipart-config&gt;
	&lt;/servlet&gt;
	&lt;servlet&gt;
		&lt;servlet-name&gt;ListeClients&lt;/servlet-name&gt;
		&lt;servlet-class&gt;com.sdzee.tp.servlets.ListeClients&lt;/servlet-class&gt;
	&lt;/servlet&gt;
	&lt;servlet&gt;
		&lt;servlet-name&gt;SuppressionClient&lt;/servlet-name&gt;
		&lt;servlet-class&gt;com.sdzee.tp.servlets.SuppressionClient&lt;/servlet-class&gt;
	&lt;/servlet&gt;
	&lt;servlet&gt;
		&lt;servlet-name&gt;CreationCommande&lt;/servlet-name&gt;
		&lt;servlet-class&gt;com.sdzee.tp.servlets.CreationCommande&lt;/servlet-class&gt;
		&lt;init-param&gt;
			&lt;param-name&gt;chemin&lt;/param-name&gt; 
			&lt;param-value&gt;/fichiers/images/&lt;/param-value&gt; 
		&lt;/init-param&gt;
		&lt;multipart-config&gt;
			&lt;location&gt;c:/fichiers/images&lt;/location&gt;
			&lt;max-file-size&gt;2097152&lt;/max-file-size&gt; &lt;!-- 2 Mo --&gt;
			&lt;max-request-size&gt;10485760&lt;/max-request-size&gt; &lt;!-- 5 x 2Mo --&gt;
			&lt;file-size-threshold&gt;1048576&lt;/file-size-threshold&gt; &lt;!-- 1 Mo --&gt;
		&lt;/multipart-config&gt;
	&lt;/servlet&gt;
	&lt;servlet&gt;
		&lt;servlet-name&gt;ListeCommandes&lt;/servlet-name&gt;
		&lt;servlet-class&gt;com.sdzee.tp.servlets.ListeCommandes&lt;/servlet-class&gt;
	&lt;/servlet&gt;
	&lt;servlet&gt;
		&lt;servlet-name&gt;SuppressionCommande&lt;/servlet-name&gt;
		&lt;servlet-class&gt;com.sdzee.tp.servlets.SuppressionCommande&lt;/servlet-class&gt;
	&lt;/servlet&gt;
	&lt;servlet&gt;
		&lt;servlet-name&gt;Image&lt;/servlet-name&gt;
		&lt;servlet-class&gt;com.sdzee.tp.servlets.Image&lt;/servlet-class&gt;
		&lt;init-param&gt;
			&lt;param-name&gt;chemin&lt;/param-name&gt; 
			&lt;param-value&gt;/fichiers/images/&lt;/param-value&gt; 
		&lt;/init-param&gt;
	&lt;/servlet&gt;

	
	&lt;servlet-mapping&gt;
		&lt;servlet-name&gt;CreationClient&lt;/servlet-name&gt;
		&lt;url-pattern&gt;/creationClient&lt;/url-pattern&gt;
	&lt;/servlet-mapping&gt;
	&lt;servlet-mapping&gt;
		&lt;servlet-name&gt;ListeClients&lt;/servlet-name&gt;
		&lt;url-pattern&gt;/listeClients&lt;/url-pattern&gt;
	&lt;/servlet-mapping&gt;
	&lt;servlet-mapping&gt;
		&lt;servlet-name&gt;SuppressionClient&lt;/servlet-name&gt;
		&lt;url-pattern&gt;/suppressionClient&lt;/url-pattern&gt;
	&lt;/servlet-mapping&gt;
	&lt;servlet-mapping&gt;
		&lt;servlet-name&gt;CreationCommande&lt;/servlet-name&gt;
		&lt;url-pattern&gt;/creationCommande&lt;/url-pattern&gt;
	&lt;/servlet-mapping&gt;
	&lt;servlet-mapping&gt;
		&lt;servlet-name&gt;ListeCommandes&lt;/servlet-name&gt;
		&lt;url-pattern&gt;/listeCommandes&lt;/url-pattern&gt;
	&lt;/servlet-mapping&gt;
	&lt;servlet-mapping&gt;
		&lt;servlet-name&gt;SuppressionCommande&lt;/servlet-name&gt;
		&lt;url-pattern&gt;/suppressionCommande&lt;/url-pattern&gt;
	&lt;/servlet-mapping&gt;
	&lt;servlet-mapping&gt;
		&lt;servlet-name&gt;Image&lt;/servlet-name&gt;
		&lt;url-pattern&gt;/images/*&lt;/url-pattern&gt;
	&lt;/servlet-mapping&gt;
&lt;/web-app&gt;</code></pre><pre id="r-2135998" data-claire-element-id="2838009"><code data-claire-semantic="java">package com.sdzee.tp.servlets;

import java.io.BufferedInputStream;
import java.io.BufferedOutputStream;
import java.io.File;
import java.io.FileInputStream;
import java.io.IOException;
import java.net.URLDecoder;

import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

public class Image extends HttpServlet {
    public static final int TAILLE_TAMPON = 10240; // 10ko

    public void doGet( HttpServletRequest request, HttpServletResponse response ) throws ServletException, IOException {
        /*
         * Lecture du paramètre 'chemin' passé à la servlet via la déclaration
         * dans le web.xml
         */
        String chemin = this.getServletConfig().getInitParameter( &quot;chemin&quot; );

        /*
         * Récupération du chemin du fichier demandé au sein de l'URL de la
         * requête
         */
        String fichierRequis = request.getPathInfo();

        /* Vérifie qu'un fichier a bien été fourni */
        if ( fichierRequis == null || &quot;/&quot;.equals( fichierRequis ) ) {
            /*
             * Si non, alors on envoie une erreur 404, qui signifie que la
             * ressource demandée n'existe pas
             */
            response.sendError( HttpServletResponse.SC_NOT_FOUND );
            return;
        }

        /*
         * Décode le nom de fichier récupéré, susceptible de contenir des
         * espaces et autres caractères spéciaux, et prépare l'objet File
         */
        fichierRequis = URLDecoder.decode( fichierRequis, &quot;UTF-8&quot; );
        File fichier = new File( chemin, fichierRequis );

        /* Vérifie que le fichier existe bien */
        if ( !fichier.exists() ) {
            /*
             * Si non, alors on envoie une erreur 404, qui signifie que la
             * ressource demandée n'existe pas
             */
            response.sendError( HttpServletResponse.SC_NOT_FOUND );
            return;
        }

        /* Récupère le type du fichier */
        String type = getServletContext().getMimeType( fichier.getName() );

        /*
         * Si le type de fichier est inconnu, alors on initialise un type par
         * défaut
         */
        if ( type == null ) {
            type = &quot;application/octet-stream&quot;;
        }

        /* Initialise la réponse HTTP */
        response.reset();
        response.setBufferSize( TAILLE_TAMPON );
        response.setContentType( type );
        response.setHeader( &quot;Content-Length&quot;, String.valueOf( fichier.length() ) );
        response.setHeader( &quot;Content-Disposition&quot;, &quot;inline; filename=\&quot;&quot; + fichier.getName() + &quot;\&quot;&quot; );

        /* Prépare les flux */
        BufferedInputStream entree = null;
        BufferedOutputStream sortie = null;
        try {
            /* Ouvre les flux */
            entree = new BufferedInputStream( new FileInputStream( fichier ), TAILLE_TAMPON );
            sortie = new BufferedOutputStream( response.getOutputStream(), TAILLE_TAMPON );

            /* Lit le fichier et écrit son contenu dans la réponse HTTP */
            byte[] tampon = new byte[TAILLE_TAMPON];
            int longueur;
            while ( ( longueur = entree.read( tampon ) ) &gt; 0 ) {
                sortie.write( tampon, 0, longueur );
            }
        } finally {
            try {
                sortie.close();
            } catch ( IOException ignore ) {
            }
            try {
                entree.close();
            } catch ( IOException ignore ) {
            }
        }
    }
}</code></pre><pre id="r-2135999" data-claire-element-id="2838010"><code data-claire-semantic="java">package com.sdzee.tp.servlets;

import java.io.IOException;
import java.util.HashMap;
import java.util.Map;

import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;

import com.sdzee.tp.beans.Client;
import com.sdzee.tp.forms.CreationClientForm;

public class CreationClient extends HttpServlet {
    public static final String CHEMIN          = &quot;chemin&quot;;
    public static final String ATT_CLIENT      = &quot;client&quot;;
    public static final String ATT_FORM        = &quot;form&quot;;
    public static final String SESSION_CLIENTS = &quot;clients&quot;;

    public static final String VUE_SUCCES      = &quot;/WEB-INF/afficherClient.jsp&quot;;
    public static final String VUE_FORM        = &quot;/WEB-INF/creerClient.jsp&quot;;

    public void doGet( HttpServletRequest request, HttpServletResponse response ) throws ServletException, IOException {
        /* À la réception d'une requête GET, simple affichage du formulaire */
        this.getServletContext().getRequestDispatcher( VUE_FORM ).forward( request, response );
    }

    public void doPost( HttpServletRequest request, HttpServletResponse response ) throws ServletException, IOException {
        /*
         * Lecture du paramètre 'chemin' passé à la servlet via la déclaration
         * dans le web.xml
         */
        String chemin = this.getServletConfig().getInitParameter( CHEMIN );

        /* Préparation de l'objet formulaire */
        CreationClientForm form = new CreationClientForm();

        /* Traitement de la requête et récupération du bean en résultant */
        Client client = form.creerClient( request, chemin );

        /* Ajout du bean et de l'objet métier à l'objet requête */
        request.setAttribute( ATT_CLIENT, client );
        request.setAttribute( ATT_FORM, form );

        /* Si aucune erreur */
        if ( form.getErreurs().isEmpty() ) {
            /* Alors récupération de la map des clients dans la session */
            HttpSession session = request.getSession();
            Map&lt;String, Client&gt; clients = (HashMap&lt;String, Client&gt;) session.getAttribute( SESSION_CLIENTS );
            /* Si aucune map n'existe, alors initialisation d'une nouvelle map */
            if ( clients == null ) {
                clients = new HashMap&lt;String, Client&gt;();
            }
            /* Puis ajout du client courant dans la map */
            clients.put( client.getNom(), client );
            /* Et enfin (ré)enregistrement de la map en session */
            session.setAttribute( SESSION_CLIENTS, clients );

            /* Affichage de la fiche récapitulative */
            this.getServletContext().getRequestDispatcher( VUE_SUCCES ).forward( request, response );
        } else {
            /* Sinon, ré-affichage du formulaire de création avec les erreurs */
            this.getServletContext().getRequestDispatcher( VUE_FORM ).forward( request, response );
        }
    }
}</code></pre><pre id="r-2136000" data-claire-element-id="2838011"><code data-claire-semantic="java">package com.sdzee.tp.servlets;

import java.io.IOException;
import java.util.HashMap;
import java.util.Map;

import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;

import com.sdzee.tp.beans.Client;
import com.sdzee.tp.beans.Commande;
import com.sdzee.tp.forms.CreationCommandeForm;

public class CreationCommande extends HttpServlet {
    public static final String CHEMIN            = &quot;chemin&quot;;
    public static final String ATT_COMMANDE      = &quot;commande&quot;;
    public static final String ATT_FORM          = &quot;form&quot;;
    public static final String SESSION_CLIENTS   = &quot;clients&quot;;
    public static final String SESSION_COMMANDES = &quot;commandes&quot;;

    public static final String VUE_SUCCES        = &quot;/WEB-INF/afficherCommande.jsp&quot;;
    public static final String VUE_FORM          = &quot;/WEB-INF/creerCommande.jsp&quot;;

    public void doGet( HttpServletRequest request, HttpServletResponse response ) throws ServletException, IOException {
        /* À la réception d'une requête GET, simple affichage du formulaire */
        this.getServletContext().getRequestDispatcher( VUE_FORM ).forward( request, response );
    }

    public void doPost( HttpServletRequest request, HttpServletResponse response ) throws ServletException, IOException {
        /*
         * Lecture du paramètre 'chemin' passé à la servlet via la déclaration
         * dans le web.xml
         */
        String chemin = this.getServletConfig().getInitParameter( CHEMIN );

        /* Préparation de l'objet formulaire */
        CreationCommandeForm form = new CreationCommandeForm();

        /* Traitement de la requête et récupération du bean en résultant */
        Commande commande = form.creerCommande( request, chemin );

        /* Ajout du bean et de l'objet métier à l'objet requête */
        request.setAttribute( ATT_COMMANDE, commande );
        request.setAttribute( ATT_FORM, form );

        /* Si aucune erreur */
        if ( form.getErreurs().isEmpty() ) {
            /* Alors récupération de la map des clients dans la session */
            HttpSession session = request.getSession();
            Map&lt;String, Client&gt; clients = (HashMap&lt;String, Client&gt;) session.getAttribute( SESSION_CLIENTS );
            /* Si aucune map n'existe, alors initialisation d'une nouvelle map */
            if ( clients == null ) {
                clients = new HashMap&lt;String, Client&gt;();
            }
            /* Puis ajout du client de la commande courante dans la map */
            clients.put( commande.getClient().getNom(), commande.getClient() );
            /* Et enfin (ré)enregistrement de la map en session */
            session.setAttribute( SESSION_CLIENTS, clients );

            /* Ensuite récupération de la map des commandes dans la session */
            Map&lt;String, Commande&gt; commandes = (HashMap&lt;String, Commande&gt;) session.getAttribute( SESSION_COMMANDES );
            /* Si aucune map n'existe, alors initialisation d'une nouvelle map */
            if ( commandes == null ) {
                commandes = new HashMap&lt;String, Commande&gt;();
            }
            /* Puis ajout de la commande courante dans la map */
            commandes.put( commande.getDate(), commande );
            /* Et enfin (ré)enregistrement de la map en session */
            session.setAttribute( SESSION_COMMANDES, commandes );

            /* Affichage de la fiche récapitulative */
            this.getServletContext().getRequestDispatcher( VUE_SUCCES ).forward( request, response );
        } else {
            /* Sinon, ré-affichage du formulaire de création avec les erreurs */
            this.getServletContext().getRequestDispatcher( VUE_FORM ).forward( request, response );
        }
    }
}</code></pre><h4 id="r-2136010" data-claire-element-id="2838019">Le code des JSP</h4><pre id="r-2136002" data-claire-element-id="2838013"><code data-claire-semantic="jsp">&lt;%@ page pageEncoding=&quot;UTF-8&quot; %&gt;
&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;meta charset=&quot;utf-8&quot; /&gt;
        &lt;title&gt;Liste des clients existants&lt;/title&gt;
        &lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;&lt;c:url value=&quot;/inc/style.css&quot;/&gt;&quot; /&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;c:import url=&quot;/inc/menu.jsp&quot; /&gt;
        &lt;div id=&quot;corps&quot;&gt;
        &lt;c:choose&gt;
            &lt;%-- Si aucun client n'existe en session, affichage d'un message par défaut. --%&gt;
            &lt;c:when test=&quot;${ empty sessionScope.clients }&quot;&gt;
                &lt;p class=&quot;erreur&quot;&gt;Aucun client enregistré.&lt;/p&gt;
            &lt;/c:when&gt;
            &lt;%-- Sinon, affichage du tableau. --%&gt;
            &lt;c:otherwise&gt;
            &lt;table&gt;
                &lt;tr&gt;
                    &lt;th&gt;Nom&lt;/th&gt;
                    &lt;th&gt;Prénom&lt;/th&gt;
                    &lt;th&gt;Adresse&lt;/th&gt;
                    &lt;th&gt;Téléphone&lt;/th&gt;
                    &lt;th&gt;Email&lt;/th&gt;
                    &lt;th&gt;Image&lt;/th&gt;
                    &lt;th class=&quot;action&quot;&gt;Action&lt;/th&gt;                    
                &lt;/tr&gt;
                &lt;%-- Parcours de la Map des clients en session, et utilisation de l'objet varStatus. --%&gt;
                &lt;c:forEach items=&quot;${ sessionScope.clients }&quot; var=&quot;mapClients&quot; varStatus=&quot;boucle&quot;&gt;
                &lt;%-- Simple test de parité sur l'index de parcours, pour alterner la couleur de fond de chaque ligne du tableau. --%&gt;
                &lt;tr class=&quot;${boucle.index % 2 == 0 ? 'pair' : 'impair'}&quot;&gt;
                    &lt;%-- Affichage des propriétés du bean Client, qui est stocké en tant que valeur de l'entrée courante de la map --%&gt;
                    &lt;td&gt;&lt;c:out value=&quot;${ mapClients.value.nom }&quot;/&gt;&lt;/td&gt;
                    &lt;td&gt;&lt;c:out value=&quot;${ mapClients.value.prenom }&quot;/&gt;&lt;/td&gt;
                    &lt;td&gt;&lt;c:out value=&quot;${ mapClients.value.adresse }&quot;/&gt;&lt;/td&gt;
                    &lt;td&gt;&lt;c:out value=&quot;${ mapClients.value.telephone }&quot;/&gt;&lt;/td&gt;
                    &lt;td&gt;&lt;c:out value=&quot;${ mapClients.value.email }&quot;/&gt;&lt;/td&gt;
                    &lt;td&gt;
                        &lt;%-- On ne construit et affiche un lien vers l'image que si elle existe. --%&gt;
                        &lt;c:if test=&quot;${ !empty mapClients.value.image }&quot;&gt;
                            &lt;c:set var=&quot;image&quot;&gt;&lt;c:out value=&quot;${ mapClients.value.image }&quot;/&gt;&lt;/c:set&gt;
                            &lt;a href=&quot;&lt;c:url value=&quot;/images/${ image }&quot;/&gt;&quot;&gt;Voir&lt;/a&gt;
                        &lt;/c:if&gt;
                    &lt;/td&gt;
                    &lt;%-- Lien vers la servlet de suppression, avec passage du nom du client - c'est-à-dire la clé de la Map - en paramètre grâce à la balise &lt;c:param/&gt;. --%&gt;
                    &lt;td class=&quot;action&quot;&gt;
                        &lt;a href=&quot;&lt;c:url value=&quot;/suppressionClient&quot;&gt;&lt;c:param name=&quot;nomClient&quot; value=&quot;${ mapClients.key }&quot; /&gt;&lt;/c:url&gt;&quot;&gt;
                            &lt;img src=&quot;&lt;c:url value=&quot;/inc/supprimer.png&quot;/&gt;&quot; alt=&quot;Supprimer&quot; /&gt;
                        &lt;/a&gt;
                    &lt;/td&gt;
                &lt;/tr&gt;
                &lt;/c:forEach&gt;
            &lt;/table&gt;
            &lt;/c:otherwise&gt;
        &lt;/c:choose&gt;
        &lt;/div&gt;
    &lt;/body&gt;
&lt;/html&gt;</code></pre><pre id="r-2136003" data-claire-element-id="2838014"><code data-claire-semantic="jsp">&lt;%@ page pageEncoding=&quot;UTF-8&quot; %&gt;
&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;
&lt;label for=&quot;nomClient&quot;&gt;Nom &lt;span class=&quot;requis&quot;&gt;*&lt;/span&gt;&lt;/label&gt;
&lt;input type=&quot;text&quot; id=&quot;nomClient&quot; name=&quot;nomClient&quot; value=&quot;&lt;c:out value=&quot;${client.nom}&quot;/&gt;&quot; size=&quot;30&quot; maxlength=&quot;30&quot; /&gt;
&lt;span class=&quot;erreur&quot;&gt;${form.erreurs['nomClient']}&lt;/span&gt;
&lt;br /&gt;

&lt;label for=&quot;prenomClient&quot;&gt;Prénom &lt;/label&gt;
&lt;input type=&quot;text&quot; id=&quot;prenomClient&quot; name=&quot;prenomClient&quot; value=&quot;&lt;c:out value=&quot;${client.prenom}&quot;/&gt;&quot; size=&quot;30&quot; maxlength=&quot;30&quot; /&gt;
&lt;span class=&quot;erreur&quot;&gt;${form.erreurs['prenomClient']}&lt;/span&gt;
&lt;br /&gt;

&lt;label for=&quot;adresseClient&quot;&gt;Adresse de livraison &lt;span class=&quot;requis&quot;&gt;*&lt;/span&gt;&lt;/label&gt;
&lt;input type=&quot;text&quot; id=&quot;adresseClient&quot; name=&quot;adresseClient&quot; value=&quot;&lt;c:out value=&quot;${client.adresse}&quot;/&gt;&quot; size=&quot;30&quot; maxlength=&quot;60&quot; /&gt;
&lt;span class=&quot;erreur&quot;&gt;${form.erreurs['adresseClient']}&lt;/span&gt;
&lt;br /&gt;

&lt;label for=&quot;telephoneClient&quot;&gt;Numéro de téléphone &lt;span class=&quot;requis&quot;&gt;*&lt;/span&gt;&lt;/label&gt;
&lt;input type=&quot;text&quot; id=&quot;telephoneClient&quot; name=&quot;telephoneClient&quot; value=&quot;&lt;c:out value=&quot;${client.telephone}&quot;/&gt;&quot; size=&quot;30&quot; maxlength=&quot;30&quot; /&gt;
&lt;span class=&quot;erreur&quot;&gt;${form.erreurs['telephoneClient']}&lt;/span&gt;
&lt;br /&gt;

&lt;label for=&quot;emailClient&quot;&gt;Adresse email&lt;/label&gt;
&lt;input type=&quot;email&quot; id=&quot;emailClient&quot; name=&quot;emailClient&quot; value=&quot;&lt;c:out value=&quot;${client.email}&quot;/&gt;&quot; size=&quot;30&quot; maxlength=&quot;60&quot; /&gt;
&lt;span class=&quot;erreur&quot;&gt;${form.erreurs['emailClient']}&lt;/span&gt;
&lt;br /&gt;

&lt;label for=&quot;imageClient&quot;&gt;Image&lt;/label&gt;
&lt;input type=&quot;file&quot; id=&quot;imageClient&quot; name=&quot;imageClient&quot; /&gt;
&lt;span class=&quot;erreur&quot;&gt;${form.erreurs['imageClient']}&lt;/span&gt;
&lt;br /&gt;</code></pre><pre id="r-2136004" data-claire-element-id="2838015"><code data-claire-semantic="jsp">&lt;%@ page pageEncoding=&quot;UTF-8&quot; %&gt;
&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;meta charset=&quot;utf-8&quot; /&gt;
        &lt;title&gt;Création d'un client&lt;/title&gt;
        &lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;&lt;c:url value=&quot;/inc/style.css&quot;/&gt;&quot; /&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;c:import url=&quot;/inc/menu.jsp&quot; /&gt;
        &lt;div&gt;
            &lt;form method=&quot;post&quot; action=&quot;&lt;c:url value=&quot;/creationClient&quot;/&gt;&quot; enctype=&quot;multipart/form-data&quot;&gt;
                &lt;fieldset&gt;
                    &lt;legend&gt;Informations client&lt;/legend&gt;
                    &lt;c:import url=&quot;/inc/inc_client_form.jsp&quot; /&gt;
                &lt;/fieldset&gt;  
                &lt;p class=&quot;info&quot;&gt;${ form.resultat }&lt;/p&gt;
                &lt;input type=&quot;submit&quot; value=&quot;Valider&quot;  /&gt;
                &lt;input type=&quot;reset&quot; value=&quot;Remettre à zéro&quot; /&gt; &lt;br /&gt;
            &lt;/form&gt;
        &lt;/div&gt;
    &lt;/body&gt;
&lt;/html&gt;</code></pre><pre id="r-2136005" data-claire-element-id="2838016"><code data-claire-semantic="jsp">&lt;%@ page pageEncoding=&quot;UTF-8&quot; %&gt;
&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;meta charset=&quot;utf-8&quot; /&gt;
        &lt;title&gt;Création d'une commande&lt;/title&gt;
        &lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;&lt;c:url value=&quot;/inc/style.css&quot;/&gt;&quot; /&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;c:import url=&quot;/inc/menu.jsp&quot; /&gt;
        &lt;div&gt;
            &lt;form method=&quot;post&quot; action=&quot;&lt;c:url value=&quot;/creationCommande&quot;/&gt;&quot; enctype=&quot;multipart/form-data&quot;&gt;
                &lt;fieldset&gt;
                    &lt;legend&gt;Informations client&lt;/legend&gt;
                    &lt;%-- Si et seulement si la Map des clients en session n'est pas vide, alors on propose un choix à l'utilisateur --%&gt;
                    &lt;c:if test=&quot;${ !empty sessionScope.clients }&quot;&gt;
                        &lt;label for=&quot;choixNouveauClient&quot;&gt;Nouveau client ? &lt;span class=&quot;requis&quot;&gt;*&lt;/span&gt;&lt;/label&gt;
                        &lt;input type=&quot;radio&quot; id=&quot;choixNouveauClient&quot; name=&quot;choixNouveauClient&quot; value=&quot;nouveauClient&quot; checked /&gt; Oui
                        &lt;input type=&quot;radio&quot; id=&quot;choixNouveauClient&quot; name=&quot;choixNouveauClient&quot; value=&quot;ancienClient&quot; /&gt; Non
                        &lt;br/&gt;&lt;br /&gt;
                    &lt;/c:if&gt;
                    
                    &lt;c:set var=&quot;client&quot; value=&quot;${ commande.client }&quot; scope=&quot;request&quot; /&gt;
                    &lt;div id=&quot;nouveauClient&quot;&gt;
                        &lt;c:import url=&quot;/inc/inc_client_form.jsp&quot; /&gt;
                    &lt;/div&gt;
                    
                    &lt;%-- Si et seulement si la Map des clients en session n'est pas vide, alors on crée la liste déroulante --%&gt;
                    &lt;c:if test=&quot;${ !empty sessionScope.clients }&quot;&gt;
                    &lt;div id=&quot;ancienClient&quot;&gt;
                        &lt;select name=&quot;listeClients&quot; id=&quot;listeClients&quot;&gt;
                            &lt;option value=&quot;&quot;&gt;Choisissez un client...&lt;/option&gt;
                            &lt;%-- Boucle sur la map des clients --%&gt;
                            &lt;c:forEach items=&quot;${ sessionScope.clients }&quot; var=&quot;mapClients&quot;&gt;
                            &lt;%--  L'expression EL ${mapClients.value} permet de cibler l'objet Client stocké en tant que valeur dans la Map, 
                                  et on cible ensuite simplement ses propriétés nom et prenom comme on le ferait avec n'importe quel bean. --%&gt;
                            &lt;option value=&quot;${ mapClients.value.nom }&quot;&gt;${ mapClients.value.prenom } ${ mapClients.value.nom }&lt;/option&gt;
                            &lt;/c:forEach&gt;
                        &lt;/select&gt;
                    &lt;/div&gt;
                    &lt;/c:if&gt;
                &lt;/fieldset&gt;
                &lt;fieldset&gt;
                    &lt;legend&gt;Informations commande&lt;/legend&gt;
                    
                    &lt;label for=&quot;dateCommande&quot;&gt;Date &lt;span class=&quot;requis&quot;&gt;*&lt;/span&gt;&lt;/label&gt;
                    &lt;input type=&quot;text&quot; id=&quot;v&quot; name=&quot;dateCommande&quot; value=&quot;&lt;c:out value=&quot;${commande.date}&quot;/&gt;&quot; size=&quot;30&quot; maxlength=&quot;30&quot; disabled /&gt;
                    &lt;span class=&quot;erreur&quot;&gt;${form.erreurs['dateCommande']}&lt;/span&gt;
                    &lt;br /&gt;
                    
                    &lt;label for=&quot;montantCommande&quot;&gt;Montant &lt;span class=&quot;requis&quot;&gt;*&lt;/span&gt;&lt;/label&gt;
                    &lt;input type=&quot;text&quot; id=&quot;montantCommande&quot; name=&quot;montantCommande&quot; value=&quot;&lt;c:out value=&quot;${commande.montant}&quot;/&gt;&quot; size=&quot;30&quot; maxlength=&quot;30&quot; /&gt;
                    &lt;span class=&quot;erreur&quot;&gt;${form.erreurs['montantCommande']}&lt;/span&gt;
                    &lt;br /&gt;
                    
                    &lt;label for=&quot;modePaiementCommande&quot;&gt;Mode de paiement &lt;span class=&quot;requis&quot;&gt;*&lt;/span&gt;&lt;/label&gt;
                    &lt;input type=&quot;text&quot; id=&quot;modePaiementCommande&quot; name=&quot;modePaiementCommande&quot; value=&quot;&lt;c:out value=&quot;${commande.modePaiement}&quot;/&gt;&quot; size=&quot;30&quot; maxlength=&quot;30&quot; /&gt;
                    &lt;span class=&quot;erreur&quot;&gt;${form.erreurs['modePaiementCommande']}&lt;/span&gt;
                    &lt;br /&gt;
                    
                    &lt;label for=&quot;statutPaiementCommande&quot;&gt;Statut du paiement&lt;/label&gt;
                    &lt;input type=&quot;text&quot; id=&quot;statutPaiementCommande&quot; name=&quot;statutPaiementCommande&quot; value=&quot;&lt;c:out value=&quot;${commande.statutPaiement}&quot;/&gt;&quot; size=&quot;30&quot; maxlength=&quot;30&quot; /&gt;
                    &lt;span class=&quot;erreur&quot;&gt;${form.erreurs['statutPaiementCommande']}&lt;/span&gt;
                    &lt;br /&gt;
                    
                    &lt;label for=&quot;modeLivraisonCommande&quot;&gt;Mode de livraison &lt;span class=&quot;requis&quot;&gt;*&lt;/span&gt;&lt;/label&gt;
                    &lt;input type=&quot;text&quot; id=&quot;modeLivraisonCommande&quot; name=&quot;modeLivraisonCommande&quot; value=&quot;&lt;c:out value=&quot;${commande.modeLivraison}&quot;/&gt;&quot; size=&quot;30&quot; maxlength=&quot;30&quot; /&gt;
                    &lt;span class=&quot;erreur&quot;&gt;${form.erreurs['modeLivraisonCommande']}&lt;/span&gt;
                    &lt;br /&gt;
                    
                    &lt;label for=&quot;statutLivraisonCommande&quot;&gt;Statut de la livraison&lt;/label&gt;
                    &lt;input type=&quot;text&quot; id=&quot;statutLivraisonCommande&quot; name=&quot;statutLivraisonCommande&quot; value=&quot;&lt;c:out value=&quot;${commande.statutLivraison}&quot;/&gt;&quot; size=&quot;30&quot; maxlength=&quot;30&quot; /&gt;
                    &lt;span class=&quot;erreur&quot;&gt;${form.erreurs['statutLivraisonCommande']}&lt;/span&gt;
                    &lt;br /&gt;
                    
                    &lt;p class=&quot;info&quot;&gt;${ form.resultat }&lt;/p&gt;
                &lt;/fieldset&gt;
                &lt;input type=&quot;submit&quot; value=&quot;Valider&quot;  /&gt;
                &lt;input type=&quot;reset&quot; value=&quot;Remettre à zéro&quot; /&gt; &lt;br /&gt;
            &lt;/form&gt;
        &lt;/div&gt;
        
        &lt;%-- Inclusion de la bibliothèque jQuery. Vous trouverez des cours sur JavaScript et jQuery aux adresses suivantes :
               - http://www.siteduzero.com/tutoriel-3-309961-dynamisez-vos-sites-web-avec-javascript.html 
               - http://www.siteduzero.com/tutoriel-3-659477-un-site-web-dynamique-avec-jquery.html 
               
             Si vous ne souhaitez pas télécharger et ajouter jQuery à votre projet, vous pouvez utiliser la version fournie directement en ligne par Google :
             &lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js&quot;&gt;&lt;/script&gt; 
        --%&gt;
        &lt;script src=&quot;&lt;c:url value=&quot;/inc/jquery.js&quot;/&gt;&quot;&gt;&lt;/script&gt;
        
        &lt;%-- Petite fonction jQuery permettant le remplacement de la première partie du formulaire par la liste déroulante, au clic sur le bouton radio. --%&gt;
        &lt;script&gt;
        	jQuery(document).ready(function(){
        		/* 1 - Au lancement de la page, on cache le bloc d'éléments du formulaire correspondant aux clients existants */
        		$(&quot;div#ancienClient&quot;).hide();
        		/* 2 - Au clic sur un des deux boutons radio &quot;choixNouveauClient&quot;, on affiche le bloc d'éléments correspondant (nouveau ou ancien client) */
                jQuery('input[name=choixNouveauClient]:radio').click(function(){
                	$(&quot;div#nouveauClient&quot;).hide();
                	$(&quot;div#ancienClient&quot;).hide();
                    var divId = jQuery(this).val();
                    $(&quot;div#&quot;+divId).show();
                });
            });
        &lt;/script&gt;
    &lt;/body&gt;
&lt;/html&gt;</code></pre><pre id="r-2136006" data-claire-element-id="2838017"><code data-claire-semantic="jsp">&lt;%@ page pageEncoding=&quot;UTF-8&quot; %&gt;
&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;meta charset=&quot;utf-8&quot; /&gt;
        &lt;title&gt;Affichage d'un client&lt;/title&gt;
        &lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;&lt;c:url value=&quot;/inc/style.css&quot;/&gt;&quot; /&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;c:import url=&quot;/inc/menu.jsp&quot; /&gt;
        &lt;div id=&quot;corps&quot;&gt;
            &lt;p class=&quot;info&quot;&gt;${ form.resultat }&lt;/p&gt;
            &lt;p&gt;Nom : &lt;c:out value=&quot;${ client.nom }&quot;/&gt;&lt;/p&gt;
            &lt;p&gt;Prénom : &lt;c:out value=&quot;${ client.prenom }&quot;/&gt;&lt;/p&gt;
            &lt;p&gt;Adresse : &lt;c:out value=&quot;${ client.adresse }&quot;/&gt;&lt;/p&gt;
            &lt;p&gt;Numéro de téléphone : &lt;c:out value=&quot;${ client.telephone }&quot;/&gt;&lt;/p&gt;
            &lt;p&gt;Email : &lt;c:out value=&quot;${ client.email }&quot;/&gt;&lt;/p&gt;
            &lt;p&gt;Image : &lt;c:out value=&quot;${ client.image }&quot;/&gt;&lt;/p&gt;
        &lt;/div&gt;
    &lt;/body&gt;
&lt;/html&gt;</code></pre><pre id="r-2136007" data-claire-element-id="2838018"><code data-claire-semantic="jsp">&lt;%@ page pageEncoding=&quot;UTF-8&quot; %&gt;
&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;meta charset=&quot;utf-8&quot; /&gt;
        &lt;title&gt;Affichage d'une commande&lt;/title&gt;
        &lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;&lt;c:url value=&quot;/inc/style.css&quot;/&gt;&quot; /&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;c:import url=&quot;/inc/menu.jsp&quot; /&gt;
        &lt;div id=&quot;corps&quot;&gt;
            &lt;p class=&quot;info&quot;&gt;${ form.resultat }&lt;/p&gt;
            &lt;p&gt;Client&lt;/p&gt;
            &lt;p&gt;Nom : &lt;c:out value=&quot;${ commande.client.nom }&quot;/&gt;&lt;/p&gt;
            &lt;p&gt;Prénom : &lt;c:out value=&quot;${ commande.client.prenom }&quot;/&gt;&lt;/p&gt;
            &lt;p&gt;Adresse : &lt;c:out value=&quot;${ commande.client.adresse }&quot;/&gt;&lt;/p&gt;
            &lt;p&gt;Numéro de téléphone : &lt;c:out value=&quot;${ commande.client.telephone }&quot;/&gt;&lt;/p&gt;
            &lt;p&gt;Email : &lt;c:out value=&quot;${ commande.client.email }&quot;/&gt;&lt;/p&gt;
            &lt;p&gt;Image : &lt;c:out value=&quot;${ commande.client.image }&quot;/&gt;&lt;/p&gt;
            &lt;p&gt;Commande&lt;/p&gt;
            &lt;p&gt;Date  : &lt;c:out value=&quot;${ commande.date }&quot;/&gt;&lt;/p&gt; 
            &lt;p&gt;Montant  : &lt;c:out value=&quot;${ commande.montant }&quot;/&gt;&lt;/p&gt; 
            &lt;p&gt;Mode de paiement  : &lt;c:out value=&quot;${ commande.modePaiement }&quot;/&gt;&lt;/p&gt; 
            &lt;p&gt;Statut du paiement  : &lt;c:out value=&quot;${ commande.statutPaiement }&quot;/&gt;&lt;/p&gt; 
            &lt;p&gt;Mode de livraison  : &lt;c:out value=&quot;${ commande.modeLivraison }&quot;/&gt;&lt;/p&gt; 
            &lt;p&gt;Statut de la livraison  : &lt;c:out value=&quot;${ commande.statutLivraison }&quot;/&gt;&lt;/p&gt; 
        &lt;/div&gt;
    &lt;/body&gt;
&lt;/html&gt;</code></pre><p id="r-2136008" data-claire-element-id="2353042">Nous avons pris les choses par le bon bout, en faisant de gros efforts d'organisation et de découpage du code pour suivre les recommandations MVC.</p><p id="r-2136009" data-claire-element-id="2353043">C'est un très gros morceau que nous venons d'engloutir, mais nous sommes loin d'avoir terminé et j'espère que vous avez encore de l'appétit !<br /> Ce qu'il nous faut maintenant, c'est un moyen de stocker nos données : en route vers les bases de données...</p>

                <div class="js-courseSelementActions sideActions">
    <ul class="sideActions__container">
        <li>
            <a class="sideActions__item  js-courseElementActions-copyUrl  js-tooltip"
               href="#" data-tooltip="Copier le lien"
               data-tooltip-done="Lien copié !">
            #
            </a>
        </li>
    </ul>
</div>
            </div>

            
            <nav class="course-pagination    clearfix">

            <a href="le-telechargement-de-fichiers.html" class="oc-btn dark-btn course-pagination__btn course-pagination__btn--previous">
            <i class="icon-previous"></i>
            <span>Le téléchargement de fichiers</span>
        </a>
    
    <span class="course-pagination__separator"></span>

            <a href="introduction-a-mysql-et-jdbc.html" class="oc-btn dark-btn course-pagination__btn course-pagination__btn--next">
            <span>Introduction à MySQL et JDBC</span>
            <i class="icon-next"></i>
        </a>
    
</nav>

            
<aside  tabindex="-1"
        role="dialog"
                    aria-labelledby="popin-view-restriction_popin_title"
                class="popin popin--illustrated  js-popin"
        id="popin-view-restriction"
>
    <i class="popin__close-button icon-close js-close-button"></i>

    <div class="popin__inner">
                    <div class="popin__illustrationWrapper">
                <div class="popin__illustration illustration--balloon"></div>
            </div>
        
        <div class="popin__mainContainer">
                            <h3 id="popin-view-restriction_popin_title" class="popin__title  js-popin-title">Waouh !</h3>
            
            
            
            <div class="popin__content  js-popin-content">
                <div class="popin__contentWrapper">
                                                <p>
            Très heureux de voir que nos cours vous plaisent, déjà 3 pages lues aujourd&#039;hui ! Vous pouvez continuer la lecture de nos cours en devenant un Roomie, un membre de la communauté d&#039;OpenClassrooms. C&#039;est gratuit !
        </p>
        <p>
            Vous pourrez aussi suivre votre avancement dans le cours, faire les exercices et discuter avec les autres Roomies.
        </p>
                    </div>
            </div>

                            <div class="popin__actions  js-popin-actions">
                                                                        <a class="oc-btn orange-alt-btn "  href="https://openclassrooms.com/register">S'inscrire</a>
                                                    <a class="oc-btn dark-btn "  href="https://openclassrooms.com/login">Se connecter</a>
                                                            </div>
            
                        
                    </div>
    </div>
</aside>

        </div>


    </section>
</div>
    </div>

    
    <div id="popin-not-certifying-yet"
     class="popin"
     data-popin-title="Vous ne pouvez pas encore obtenir de certificat de réussite à l&#039;issue de ce cours.
                            <a href='https://openclassrooms.com/premium'><i class='icon-star'></i> Devenez Premium</a>
                    ">
    <img alt="Exemple de certificat de réussite" src="../../../static.oc-static.com/prod/images/courses/certif.jpg"/>
</div>


                </main>

                <aside class="contentWithSidebar__sidebar  js-contentWithSidebar-slidingElement" >
                        <nav class="col-nav">
    <div id="tab-courseMenu" class="col-nav__inner js-sidebar-inner">
        <div class="col-nav__block  col-nav__block--summary">

            <div class="side-paginate">
                                    <a href="le-telechargement-de-fichiers.html" class="side-paginate__previous">
                        <i class="icon-previous"></i>
                    </a>

                    <span class="side-paginate__separator"></span>
                
                <h6 class="side-paginate__title">
                    Une application interactive !
                </h6>

                                    <span class="side-paginate__separator"></span>

                    <a href="introduction-a-mysql-et-jdbc.html" class="side-paginate__next">
                        <i class="icon-next"></i>
                    </a>
                            </div>

                            <div class="col-nav__block--summary-list">
                    <ol class="col-nav__chapters">
                                                    <li class="">
                                                                                                    <a class="col-nav__chapterTitle" href="formulaires-le-b-a-ba.html">Formulaires : le b.a.-ba</a>
                                                            </li>
                                                    <li class="">
                                                                                                    <a class="col-nav__chapterTitle" href="formulaires-a-la-mode-mvc.html">Formulaires : à la mode MVC</a>
                                                            </li>
                                                    <li class="">
                                                                                                    <a class="col-nav__chapterTitle" href="tp-fil-rouge-etape-3.html">TP Fil rouge - Étape 3</a>
                                                            </li>
                                                    <li class="">
                                                                                                    <a class="col-nav__chapterTitle" href="la-session-connectez-vos-clients.html">La session : connectez vos clients</a>
                                                            </li>
                                                    <li class="">
                                                                                                    <a class="col-nav__chapterTitle" href="le-filtre-creez-un-espace-membre.html">Le filtre : créez un espace membre</a>
                                                            </li>
                                                    <li class="">
                                                                                                    <a class="col-nav__chapterTitle" href="le-cookie-le-navigateur-vous-ouvre-ses-portes.html">Le cookie : le navigateur vous ouvre ses portes</a>
                                                            </li>
                                                    <li class="">
                                                                                                    <a class="col-nav__chapterTitle" href="tp-fil-rouge-etape-4.html">TP Fil rouge - Étape 4</a>
                                                            </li>
                                                    <li class="">
                                                                                                    <a class="col-nav__chapterTitle" href="formulaires-l-envoi-de-fichiers.html">Formulaires : l&#039;envoi de fichiers</a>
                                                            </li>
                                                    <li class="">
                                                                                                    <a class="col-nav__chapterTitle" href="le-telechargement-de-fichiers.html">Le téléchargement de fichiers</a>
                                                            </li>
                                                    <li class="selected">
                                                                                                    <span class="col-nav__chapterTitle">TP Fil rouge - Étape 5</span>
                                                            </li>
                                            </ol>

                                    </div>
                    </div>

        
        
            <div class="col-nav__block  col-nav__block--subscribe">
            <a href="https://openclassrooms.com/login" class="oc-btn orange-alt-btn js-popin-activator" data-popin-selector="#popin-log-in">
                <i class="icon-lock"></i>
                Suivre ce cours
            </a>

            <a href="https://openclassrooms.com/how-does-it-work">
                <small>Comment ça marche ?</small>
            </a>
        </div>
    


        
                    <div class="col-nav__block col-nav__block--institution">
    <h2>Créé par</h2>
            <a  href="https://openclassrooms.com/partners/openclassrooms" target="_blank">
            <img src="../../../sdz-upload.s3.amazonaws.com/prod/partners/img/logo_logo-oc.png" alt="logo OpenClassrooms" class="col-nav__institutionLogo"/>
            <p class="col-nav__block--institutionDescription">
                OpenClassrooms, 1ère plateforme  <span class='nowrap'>e-Education<span> en Europe
            </p>
        </a>
    </div>
        
        
        
    
                        
            
    <div class="socialNetwork col-nav__block">
        <ul class="socialButtons  js-socialButtons"
    data-options="
                title: 'Découvrez le cours &quot;TP Fil rouge - Étape 5&quot; sur @OpenClassrooms',
        mailTitle: 'Cours &quot;TP Fil rouge - Étape 5&quot; sur OpenClassrooms',
        mailContent: 'Découvrez le cours &quot;TP Fil rouge - Étape 5&quot; sur OpenClassrooms.'">

    <li>
        <a class="roundIcon  roundIcon--twitter addthis_button_twitter  js-socialButtons-btn" data-tooltip="Partagez sur Twitter" >
            <i class="roundIcon__icon  icon-twitter"></i>
        </a>
    </li>

    <li>
        <a class="roundIcon  roundIcon--facebook  addthis_button_facebook  js-socialButtons-btn" data-tooltip="Partagez sur Facebook">
            <i class="roundIcon__icon  icon-facebook"></i>
        </a>
    </li>

    <li>
        <a class="roundIcon  roundIcon--googlePlus  addthis_button_google_plusone_share  js-socialButtons-btn" data-tooltip="Partagez sur Google+" >
            <i class="roundIcon__icon  icon-google"></i>
        </a>
    </li>

    <li>
        <a class="roundIcon  addthis_button_email  js-socialButtons-btn  js-socialButtons-email" data-tooltip="Partagez par e-mail">
            <i class="roundIcon__icon  icon-letter"></i>
        </a>
    </li>

</ul>

    </div>
    </div>
</nav>
                </aside>
            </div>
        </div>

                    <footer class="alt-section">
    <div class="centered">

        <div class="row">
                            <div class="col4 course-bottom__category">
                    <h2 class="highlighted">
                        L&#039;auteur
                    </h2>
                    <div>
                                                    <a itemprop="author" itemscope itemtype="http://schema.org/Person" href="https://openclassrooms.com/membres/coyote-92394" class="no-underlined">
                                <div class="course-bottom__text-illustrated">
                                    <span data-author="Médéric Munier" style="background-image: url(../../../www.gravatar.com/avatar/15c349ac5313535fba91e5dbfa8803ec/indexd6dc.html?s=256&amp;r=g&amp;d=https%3A%2F%2Fopenclassrooms.com%2Fbundles%2Fcommon%2Fimages%2Favatar_defaut.png);"></span>
                                    <h4 itemprop="name">Médéric Munier</h4>
                                                                            <p itemprop="description">
                                            Auteur du livre sur le Java EE.
                                        </p>
                                                                    </div>
                            </a>
                                            </div>
                </div>
            
                            <div class="col8 course-bottom__category">
                    <h2 class="highlighted">Découvrez aussi ce cours en...</h2>

                    <ul class="course-bottom__format">
                                                    <li>
                                <a
                                                                                    href="https://openclassrooms.com/ebooks/creez-votre-application-web-avec-java-ee" class="text-decoration-none"
                                                                        >
                                    <div class="circle circle--x-small">
                                        <span class="circle__content"></span>
                                        <i class="icon-ebook"></i>
                                                                                    <div class="ribbon ribbon--orange">
                                                <div class="ribbon__content">
                                                    <span>Premium</span>
                                                </div>
                                            </div>
                                                                            </div>
                                    <div class="course-bottom__format-entitled">eBook</div>
                                </a>
                            </li>
                                                    <li>
                                <a
                                                                                    href="http://www.eyrolles.com/Informatique/Livre/creez-des-applications-web-avec-java-ee-9791090085244?societe=openclassrooms" target="_blank" class="text-decoration-none"
                                                                        >
                                    <div class="circle circle--x-small">
                                        <span class="circle__content"></span>
                                        <i class="icon-book"></i>
                                                                            </div>
                                    <div class="course-bottom__format-entitled">Livre papier</div>
                                </a>
                            </li>
                                                    <li>
                                <a
                                                                                    href="https://openclassrooms.com/ebooks/creez-votre-application-web-avec-java-ee" class="text-decoration-none"
                                                                        >
                                    <div class="circle circle--x-small">
                                        <span class="circle__content"></span>
                                        <i class="icon-ebook pdf"></i>
                                                                                    <div class="ribbon ribbon--orange">
                                                <div class="ribbon__content">
                                                    <span>Premium</span>
                                                </div>
                                            </div>
                                                                            </div>
                                    <div class="course-bottom__format-entitled">PDF</div>
                                </a>
                            </li>
                                            </ul>
                </div>
                    </div>

    </div>
</footer>


    </article>
            </div>
        </div>

                    <footer class="footer">
    <div class="centered">
        <div class="row">

            <div class="col3 col6-s  footer__item  linksList  foldable  js-foldable" data-options="mobileOnly: true, disableOnLargeScreen: true, initialState: 'closed'">
                <h2 class="linksList__title  foldable__button  js-foldable-button">
                    OpenClassrooms
                    <i class="icon-next  foldable__icon"></i>
                </h2>

                <ul class="linksList__content foldable__content">
                    <li>
                        <a href="https://openclassrooms.com/about-us" class="footer__link">Qui sommes-nous ?</a>
                    </li>
                    <li>
                        <a href="https://openclassrooms.com/how-does-it-work" class="footer__link">Fonctionnement de nos cours</a>
                    </li>
                    <li>
                        <a href="https://openclassrooms.com/jobs" class="footer__link">Recrutement</a>
                    </li>
                    <li>
                        <a href="#" class="js-zendesk-show footer__link">Nous contacter</a>
                    </li>
                </ul>
            </div>

            <div class="col3 col6-s  footer__item  linksList  foldable  js-foldable" data-options="mobileOnly: true, disableOnLargeScreen: true, initialState: 'closed'">
                <h2 class="linksList__title  foldable__button  js-foldable-button">
                    Professionnels
                    <i class="icon-next  foldable__icon"></i>
                </h2>

                <ul class="linksList__content foldable__content">
                    <li>
                        <a href="https://openclassrooms.com/affiliation" class="footer__link">
                            Affiliation
                        </a>
                    </li>
                    <li>
                        <a href="https://openclassrooms.com/business" class="footer__link">Entreprises</a>
                    </li>
                    <li>
                        <a href="https://openclassrooms.com/universities" class="footer__link">Universités et écoles</a>
                    </li>
                </ul>
            </div>

            <div class="col3 col6-s  footer__item  linksList  foldable  js-foldable" data-options="mobileOnly: true, disableOnLargeScreen: true, initialState: 'closed'">
                <h2 class="linksList__title  foldable__button  js-foldable-button">
                    Participez
                    <i class="icon-next  foldable__icon"></i>
                </h2>

                <ul class="linksList__content foldable__content">
                    <li>
                        <a href="https://openclassrooms.com/new-teachers" class="footer__link">Créer un cours</a>
                    </li>
                    <li>
                        <a href="https://openclassrooms.com/courses/courselab" class="footer__link">CourseLab</a>
                    </li>
                    <li>
                        <a href="https://openclassrooms.com/terms-conditions/fr" class="footer__link">
                            <strong>Conditions Générales d&#039;Utilisation</strong>
                        </a>
                    </li>
                </ul>
            </div>

            <div class="col3 col6-s  footer__item  linksList  foldable  js-foldable" data-options="mobileOnly: true, disableOnLargeScreen: true, initialState: 'closed'">
                <h2 class="linksList__title  foldable__button  js-foldable-button">
                    Suivez-nous
                    <i class="icon-next  foldable__icon"></i>
                </h2>
                                                                    <ul class="linksList__content foldable__content">
                    <li>
                        <a href="http://blog.openclassrooms.com/" class="footer__link">Le blog OpenClassrooms</a>
                    </li>
                    <li>
                        <ul class="footer__socialNetwork">
                            <li>
                                <a href="https://www.facebook.com/openclassrooms" target="_blank" class="roundIcon roundIcon--facebook footer__socialButtons">
                                    <i class="icon-facebook roundIcon__icon"></i>
                                </a>
                            </li>
                            <li>
                                <a href="https://twitter.com/openclassrooms" target="_blank" class="roundIcon roundIcon--twitter footer__socialButtons">
                                    <i class="icon-twitter roundIcon__icon"></i>
                                </a>
                            </li>
                            <li>
                                <a href="https://plus.google.com/+OpenClassrooms/posts" target="_blank" class="roundIcon roundIcon--youtube footer__socialButtons">
                                    <i class="icon-google roundIcon__icon"></i>
                                </a>
                            </li>
                            <li>
                                <a href="http://instagram.com/openclassrooms" target="_blank" class="roundIcon roundIcon--instagram footer__socialButtons">
                                    <i class="icon-instagram roundIcon__icon"></i>
                                </a>
                            </li>
                            <li>
                                <a href="https://www.youtube.com/user/TheOpenClassrooms" target="_blank" class="roundIcon roundIcon--googlePlus footer__socialButtons">
                                    <i class="icon-youtube roundIcon__icon"></i>
                                </a>
                            </li>
                            <li>
                                <a href="https://www.linkedin.com/company/openclassrooms" target="_blank" class="roundIcon roundIcon--linkedin footer__socialButtons">
                                    <i class="icon-linkedin roundIcon__icon"></i>
                                </a>
                            </li>
                        </ul>
                    </li>
                </ul>

            </div>
        </div>
    </div>
</footer>
        
        <!-- loaded javascript block -->

            
            <script type="text/javascript" src="../../js/maind0b3.js?095b5b3"></script>

        

    <script type="text/javascript" src="../../js/oc/courseViewd0b3.js?095b5b3"></script>


        <!-- loaded javascript block -->

        <script type="text/javascript">
    window.analytics=window.analytics||[],window.analytics.methods=["identify","group","track","page","pageview","alias","ready","on","once","off","trackLink","trackForm","trackClick","trackSubmit"],window.analytics.factory=function(t){return function(){var a=Array.prototype.slice.call(arguments);return a.unshift(t),window.analytics.push(a),window.analytics}};for(var i=0;i<window.analytics.methods.length;i++){var key=window.analytics.methods[i];window.analytics[key]=window.analytics.factory(key)}window.analytics.load=function(t){if(!document.getElementById("analytics-js")){var a=document.createElement("script");a.type="text/javascript",a.id="analytics-js",a.async=!0,a.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.io/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n)}},window.analytics.SNIPPET_VERSION="2.0.9",
    window.analytics.load('mou95e6tdn');
</script>

                            
        <!-- inlined javascript block -->

        <script type="text/javascript">
            
            if (App.modules) {
                App.modules.startAll();
            }
        </script>

                        
    <script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"beacon":"bam.nr-data.net","licenseKey":"90dc06697a","applicationID":"20302107","transactionName":"NANaYkJXC0ICAhdYVw1Je0NDQgpcTA4AblsPB1FEVWkGXhYTEFRnEwdKQm9GBEMXPhVYXRQ=","queueTime":0,"applicationTime":483,"atts":"GERZFApNGEw=","errorBeacon":"bam.nr-data.net","agent":""}</script></body>

<!-- Mirrored from openclassrooms.com/courses/creez-votre-application-web-avec-java-ee/tp-fil-rouge-etape-5 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 06 Apr 2016 09:51:52 GMT -->
</html>
