


<!DOCTYPE html>
<html class="no-js" lang="fr" prefix="og: http://ogp.me/ns#">
    
<!-- Mirrored from openclassrooms.com/courses/creez-votre-application-web-avec-java-ee/le-filtre-creez-un-espace-membre by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 06 Apr 2016 09:51:20 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
        <meta charset="utf-8" /><script type="text/javascript">window.NREUM||(NREUM={}),__nr_require=function(e,t,n){function r(n){if(!t[n]){var o=t[n]={exports:{}};e[n][0].call(o.exports,function(t){var o=e[n][1][t];return r(o||t)},o,o.exports)}return t[n].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<n.length;o++)r(n[o]);return r}({1:[function(e,t,n){function r(e,t){return function(){o(e,[(new Date).getTime()].concat(a(arguments)),null,t)}}var o=e("handle"),i=e(2),a=e(3);"undefined"==typeof window.newrelic&&(newrelic=NREUM);var u=["setPageViewName","addPageAction","setCustomAttribute","finished","addToTrace","inlineHit"],c=["addPageAction"],f="api-";i(u,function(e,t){newrelic[t]=r(f+t,"api")}),i(c,function(e,t){newrelic[t]=r(f+t)}),t.exports=newrelic,newrelic.noticeError=function(e){"string"==typeof e&&(e=new Error(e)),o("err",[e,(new Date).getTime()])}},{}],2:[function(e,t,n){function r(e,t){var n=[],r="",i=0;for(r in e)o.call(e,r)&&(n[i]=t(r,e[r]),i+=1);return n}var o=Object.prototype.hasOwnProperty;t.exports=r},{}],3:[function(e,t,n){function r(e,t,n){t||(t=0),"undefined"==typeof n&&(n=e?e.length:0);for(var r=-1,o=n-t||0,i=Array(0>o?0:o);++r<o;)i[r]=e[t+r];return i}t.exports=r},{}],ee:[function(e,t,n){function r(){}function o(e){function t(e){return e&&e instanceof r?e:e?u(e,a,i):i()}function n(n,r,o){e&&e(n,r,o);for(var i=t(o),a=l(n),u=a.length,c=0;u>c;c++)a[c].apply(i,r);var s=f[g[n]];return s&&s.push([m,n,r,i]),i}function p(e,t){w[e]=l(e).concat(t)}function l(e){return w[e]||[]}function d(e){return s[e]=s[e]||o(n)}function v(e,t){c(e,function(e,n){t=t||"feature",g[n]=t,t in f||(f[t]=[])})}var w={},g={},m={on:p,emit:n,get:d,listeners:l,context:t,buffer:v};return m}function i(){return new r}var a="nr@context",u=e("gos"),c=e(2),f={},s={},p=t.exports=o();p.backlog=f},{}],gos:[function(e,t,n){function r(e,t,n){if(o.call(e,t))return e[t];var r=n();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!1}),r}catch(i){}return e[t]=r,r}var o=Object.prototype.hasOwnProperty;t.exports=r},{}],handle:[function(e,t,n){function r(e,t,n,r){o.buffer([e],r),o.emit(e,t,n)}var o=e("ee").get("handle");t.exports=r,r.ee=o},{}],id:[function(e,t,n){function r(e){var t=typeof e;return!e||"object"!==t&&"function"!==t?-1:e===window?0:a(e,i,function(){return o++})}var o=1,i="nr@id",a=e("gos");t.exports=r},{}],loader:[function(e,t,n){function r(){if(!w++){var e=v.info=NREUM.info,t=s.getElementsByTagName("script")[0];if(e&&e.licenseKey&&e.applicationID&&t){c(l,function(t,n){e[t]||(e[t]=n)});var n="https"===p.split(":")[0]||e.sslForHttp;v.proto=n?"https://":"http://",u("mark",["onload",a()],null,"api");var r=s.createElement("script");r.src=v.proto+e.agent,t.parentNode.insertBefore(r,t)}}}function o(){"complete"===s.readyState&&i()}function i(){u("mark",["domContent",a()],null,"api")}function a(){return(new Date).getTime()}var u=e("handle"),c=e(2),f=window,s=f.document;NREUM.o={ST:setTimeout,CT:clearTimeout,XHR:f.XMLHttpRequest,REQ:f.Request,EV:f.Event,PR:f.Promise,MO:f.MutationObserver},e(1);var p=""+location,l={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-918.min.js"},d=window.XMLHttpRequest&&XMLHttpRequest.prototype&&XMLHttpRequest.prototype.addEventListener&&!/CriOS/.test(navigator.userAgent),v=t.exports={offset:a(),origin:p,features:{},xhrWrappable:d};s.addEventListener?(s.addEventListener("DOMContentLoaded",i,!1),f.addEventListener("load",r,!1)):(s.attachEvent("onreadystatechange",o),f.attachEvent("onload",r)),u("mark",["firstbyte",a()],null,"api");var w=0},{}]},{},["loader"]);</script>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
        <meta name="application-name" content="OpenClassrooms"/>
        <meta name="msapplication-TileColor" content="#e95325"/>
        <meta name="msapplication-TileImage" content="/fav-icon.png?v=1"/>

        <meta name="theme-color" content="#E95325">
        <link rel="icon" sizes="144x144" href="../../fav-icon3860.png?v=1">

        
        
        <link href="../../bundles/common/css/masterd0b3.css?095b5b3" type="text/css" rel="stylesheet" media="all"  />
        

        <link rel="apple-touch-icon" href="../../apple-touch-icon.png" />
        <link rel="apple-touch-icon" href="../../apple-touch-icon-iphone.png" />
        <link rel="apple-touch-icon" sizes="72x72" href="../../apple-touch-icon-ipad.png" />
        <link rel="apple-touch-icon" sizes="114x114" href="../../apple-touch-icon-iphone-retina-display.png" />
        <link rel="apple-touch-icon" sizes="144x144" href="../../apple-touch-icon-ipad-retina-display.png" />

        <link rel="apple-touch-icon-precomposed" href="../../apple-touch-icon-precomposed.png" />

            <link href="../../bundles/course/css/maind0b3.css?095b5b3" type="text/css" rel="stylesheet" media="all"/>

        <script type="text/javascript" src="../../js/modernizrd0b3.js?095b5b3"></script>

        <link rel="shortcut icon" href="https://openclassrooms.com/favicon.ico?095b5b3" />

            
    <meta property="og:locale" content="fr"/>
    <meta property="og:type" content="website"/>

    <meta property="og:title" content="Découvrez le cours &quot;Le filtre : créez un espace membre&quot; sur @OpenClassrooms"/>
    <meta property="og:url" content="https://openclassrooms.com/courses/creez-votre-application-web-avec-java-ee/le-filtre-creez-un-espace-membre"/>
    <meta property="og:site_name" content="OpenClassrooms"/>
    <meta property="og:image" content="https://static.oc-static.com/prod/courses/illustrations/illu_creez-votre-application-web-avec-java-ee.png"/>
    <meta property="og:description" content="Pour réaliser des sites web en Java, on utilise l&#039;environnement Java EE (anciennement appelé J2EE). Celui-ci impose de développer de façon très structurée, ce qui explique certainement pour quoi on le retrouve dans un très grand nombre d&#039;applications web notamment en entreprise (banques, administrations...)."/>

            
    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:site" content="@OpenClassrooms"/>
    <meta name="twitter:title" content="Découvrez le cours &quot;Le filtre : créez un espace membre&quot; sur @OpenClassrooms"/>
    <meta name="twitter:description" content=""/>

                
        <title>Le filtre : créez un espace membre</title>

        <!-- inlined top javascript block -->


        <script type="text/javascript">
            var App = {
                startTime: (new Date()).getTime(),
                debug: false
            };

            App.user = {
                
                
                
                isPremium: false
            };


            App.preferences = {
                assetVersion: '095b5b3',
                contactMail: 'hello@openclassrooms.com',
                adyenPublicKey: '10001|889EBFD4D434B82683E21DCA26E77C3E20E0EE09A5ECE3830B0ED51F2FA721A2F7E9EC871C6AB9A1E12C4492F4717673047757E02C5256D8E265CD51E413E5EFCCFEAC41B39C662A424ADC13EE187C38C372A7FCCEC1EA5DF841989437D78B252A8EB51008E60BB55B1E55A7A80DE1A9D60D998C128A576BFAE1DDB97D514AF0A073AEDDE84CEE40D1F8F6ECE85D0FFA50C95C06DB274021C1371376C6EB16561FD65C5E2704B570A7504D617D0F3820F176A0609F6162BDF5890533289FDC3DA7DB03B50BB3BD60A613E1FF72060F22987627E8F1A29F0128A94EC4C8FF7CF6B7AB9558D8433BF86D7A388AB927641CD6C02689139CEE3AAC9ACBFFE83806CB',
                algolia: {
                    appId: 'JGRXRFVQM0',
                    apiKey: 'dfbdea500cb0b5f46e449ad334916c44', indexName: 'prod_COURSES_fr'
                },
                routes: {
                    COURSE_EVENT: '/components/courses/:courseId',
                    COURSE_PART_EVENT: '/components/courses/:courseId/parts/:partId',

                    ACCEPT_COOKIE: '/components/user-accept-consent-cookie'
                }

                                            };

            App.preferences.navigationPreference = {
                            };

            App.preferences.modules = {
                'smiley': {
                    basePath: '/bundles/common/images/smiley/'
                }
            };
        </script>
        <!-- inlined top javascript block end -->

        <script>    App.preferences.modules['course/view/internalFolding'] = {
        isBigCourse: true
    };

    App.data = App.data || {};
App.data.currentCourse = {"partId":622893,"courseId":626954};
App.preferences.modules['view/currentCoursePage'] = App.data.currentCourse;

</script>

        
        
    </head>

    <body class="course oc-body ">

        

        
    
    
    <script id="_EVENTS-PAGE" type="application/json">
        {"type":"page"}
    </script>


        <!--[if lt IE 9]>
<div class="disclaimer  disclaimer-error">
    Vous utilisez un navigateur obsolète, veuillez le <a href="http://browsehappy.com/">mettre à jour</a>.
</div>
<![endif]-->

<noscript>
    <div class="disclaimer  disclaimer--error">
        Veuillez utiliser un <a href="http://browsehappy.com/">navigateur internet moderne</a> avec JavaScript activé pour naviguer sur OpenClassrooms.com
    </div>
</noscript>


                    

<header id="oc-header" class="js-tabs-mobile mainHeader ">

        <div class="disclaimer  disclaimer--info hidden  js-cookie-disclaimer">
        <div class="disclaimer__wrapper">
            <span class="disclaimer__content">Bienvenue sur OpenClassrooms ! En poursuivant votre navigation, vous acceptez l'utilisation de cookies. <a href="https://openclassrooms.com/privacy-policy#personal-data-gathering">En savoir plus</a></span>
            <span class="disclaimer__actions">
                <a href="#" class="disclaimer__button  js-close-button">ok</a>
            </span>
        </div>
    </div>

    <div class="mainHeader__wrapper">

        <div class="mainHeader__topLine">
                <a href="https://openclassrooms.com/pole-emploi/partenariat?utm_source=SiteWeb-OC&amp;utm_medium=Lien-PhraseHeader&amp;utm_campaign=relancePE"> Vous êtes demandeur d'emploi ? On vous offre le Premium Solo en 3 clics :) ! </a>

        </div>

        <div class="mainHeader__top">
            <a href="https://openclassrooms.com/" class="mainHeader__logo" title="OpenClassrooms.com">OpenClassrooms.com</a>

            
<nav role="navigation" class="icoTabs  mainHeader__tabSet">
    <span class="mainHeader__mobileNav">

        
        
        <a class="js-tabs-tab  icoTabs__tab  is-disabled" href="#tab-courseMenu">
            <span class="icoTabs__inner--mobileRightSeparator">
                <i class="icon-plus  icoTabs__icon"></i>
            </span>
        </a>

        <a class="js-tabs-tab  icoTabs__tab  is-disabled" href="#tab-courseEditMenu">
            <span class="icoTabs__inner--mobileRightSeparator">
                <i class="icon-plus  icoTabs__icon"></i>
            </span>
        </a>

        <a class="js-tabs-tab  icoTabs__tab  is-disabled" data-tabs-default="true" href="#tab-searchMenu">
            <span class="icoTabs__inner--mobileRightSeparator">
                <i class="icon-search  icoTabs__icon"></i>
            </span>
        </a>

        <a class="js-tabs-tab  icoTabs__tab" href="#tab-main">
            <i class="icon-menu  icoTabs__icon"></i>
        </a>
    </span>

</nav>
        </div>

                <div class="js-tabs-content  mainHeader__content"></div>

        <div class="mainHeader__content">
            <div id="tab-main" class="mainHeader__tabs">
                <nav class="mainTopNav  scrollPanel  js-scrollPanel-mobileMenu">
    <div class="mainTopNav__container  scrollPanel__container  js-scrollPanel-container">
        <ul class="mainHeader__container  mainHeader__container--mainMenu  js-scrollPanel-content">
            <li class="mainHeader__containerItem">
                <a class="mainTopNav__item" href="http://openclassrooms.com/paths/">Parcours</a>
            </li>
            <li class="mainHeader__containerItem">
                <a class="mainTopNav__item" href="https://openclassrooms.com/courses">Cours</a>
            </li>
            <li class="mainHeader__containerItem">
                <a class="mainTopNav__item" href="https://openclassrooms.com/forum/">Forums</a>
            </li>

            <li class="mainHeader__containerItem">
                <a class="mainTopNav__item" href="https://openclassrooms.com/partners">Partenaires</a>
            </li>

            <li class="mainHeader__containerItem">
                <a class="mainTopNav__item" href="https://openclassrooms.com/premium">Premium</a>
            </li>
        </ul>
    </div>
</nav>

                <div class="mainHeader__contentInner">
                    <div class="mainHeader__container  mainHeader__container--search">
                                                                                                                                                                            
                                                                          
 <div class="js-courseSearch  topSearchBox">
     <form tabindex="0" class="js-courseSearch-form  oc-form" action="https://openclassrooms.com/courses" method="get">
         <div class="js-courseSearch-inputGroup oc-form__widget  inputGroup  topSearchBox__inner">
             <input id="algolia-search-input"
                    type="search"
                    class="js-courseSearch-input oc-form__control inputGroup__input  topSearchBox__input"
                    title="Rechercher"
                    autocomplete="off"
                    data-option_source="/components/courses/search?q=<%= term %>"
                    placeholder="Rechercher"
                    name="q" />

             <button class="js-courseSearch-button  oc-btn dark-btn  only-icon  inputGroup__button  topSearchBox__button" type="submit" title="Rechercher un cours">
                 <i class="inputGroup__icon icon-search"></i>
                 <i class="inputGroup__icon inputGroup__icon--load icon-spinner icon-spin"></i>
             </button>
         </div>
     </form>
 </div>
                    </div>

                                            <div class="mainHeader__container  mainHeader__container--separatorLarge  hidden-s"></div>
                    


                    
                                            <div class="mainHeader__container  mainHeader__container--login">
    <a href="https://openclassrooms.com/register" class="oc-btn orange-alt-btn js-popin-activator space-right" data-popin-selector="#popin-sign-in">
    S&#039;inscrire
</a>
<a href="https://openclassrooms.com/login" class="oc-btn dark-btn js-popin-activator" data-popin-selector="#popin-log-in">
    Se connecter
</a>
</div>


<aside  tabindex="-1"
        role="dialog"
                    aria-labelledby="popin-sign-in_popin_title"
                class="popin popin--small  js-popin"
        id="popin-sign-in"
>
    <i class="popin__close-button icon-close js-close-button"></i>

    <div class="popin__inner">
        
        <div class="popin__mainContainer">
                            <h3 id="popin-sign-in_popin_title" class="popin__title  js-popin-title">Inscription</h3>
            
            
            
            <div class="popin__content  js-popin-content">
                <div class="popin__contentWrapper">
                                                <div class="formLogin formLogin--smallSize">
            
<ul class="table table--fullwidth u--noMargin">
    <li class="formLogin__column">
        <a class="facebook-btn oc-btn fullwidth formLogin__facebook" href="https://www.facebook.com/v2.3/dialog/oauth?client_id=277769842283905&amp;redirect_uri=https%3A%2F%2Fopenclassrooms.com%2Flogin_check_facebook&amp;state=6e814f4076f2ace7da3681621706ba65&amp;sdk=php-sdk-4.0.23&amp;scope=public_profile%2Cemail">
            <i class="icon-facebook"></i>S&#039;inscrire avec Facebook
        </a>
        <a class="google-btn oc-btn fullwidth formLogin__google" href="https://accounts.google.com/o/oauth2/auth?response_type=code&amp;redirect_uri=https%3A%2F%2Fopenclassrooms.com%2Flogin_check_google&amp;client_id=132418960718-jdnmpug3g9e6ub2p41ergcci1492qh82.apps.googleusercontent.com&amp;scope=https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fplus.me+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile&amp;access_type=online&amp;approval_prompt=auto">
            <i class="icon-google"></i>S&#039;inscrire avec Google
        </a>
    </li>

    <li class="formLogin__column">
        
            
    
    

    <form name="register" method="post" action="https://openclassrooms.com/register" class="js-registerForm oc-form">

        <div class="accessibility-hidden">
                <label class="oc-form__row    "><span class="oc-form__label-text ">
                            Wonder&nbsp;                        </span><span class="oc-form__widget"><input type="text" id="register_wonder" name="register[wonder]" class="" /></span></label>
        </div>

        <div class="oc-form__group oc-form--requiredHidden">
                <label class="oc-form__row    "><span class="oc-form__label-text ">
                            Prénom&nbsp;<abbr class="oc-form__required" title="requis"><span>*</span></abbr></span><span class="oc-form__widget"><input type="text" id="register_firstName" name="register[firstName]" required="required" autofocus="autofocus" class="" /></span></label>
        </div>

        <div class="oc-form__group oc-form--requiredHidden">
                <label class="oc-form__row    "><span class="oc-form__label-text ">
                            Nom&nbsp;<abbr class="oc-form__required" title="requis"><span>*</span></abbr></span><span class="oc-form__widget"><input type="text" id="register_lastName" name="register[lastName]" required="required" class="" /></span></label>
        </div>

        <div class="oc-form__group oc-form--requiredHidden">
                <label class="oc-form__row    "><span class="oc-form__label-text ">
                            Adresse email&nbsp;<abbr class="oc-form__required" title="requis"><span>*</span></abbr></span><span class="oc-form__widget"><input type="email" id="register_email" name="register[email]" required="required" class="" /></span></label>
            <p>
                <em>
                    Vous recevrez votre mot de passe sur cette adresse email.
                </em>
            </p>
        </div>

        <div class="oc-form__group oc-form--requiredHidden">
                <label class="oc-form__row  oc-form__row--reversed  "><span class="oc-form__widget"><span class="ocCheckbox"><input type="checkbox" id="register_terms" name="register[terms]" required="required" class="" value="1" /><span class="ocCheckbox__check"></span></span></span><span class="oc-form__label-text"><span class="oc-form__label-text ">
                            J'ai lu et j'accepte les <a href="https://openclassrooms.com/terms-conditions/fr">Conditions Générales d'Utilisation</a>.&nbsp;<abbr class="oc-form__required" title="requis"><span>*</span></abbr></span></span></label>
        </div>


        <div class="oc-form__group  center-text">
            
    <button type="submit" id="register_create" name="register[create]" class="oc-btn orange-alt-btn oc-btn"> S'inscrire</button>
        </div>

        <input type="hidden" id="register__target_path" name="register[_target_path]" value="https://openclassrooms.com/courses/creez-votre-application-web-avec-java-ee/le-filtre-creez-un-espace-membre" /><input type="hidden" id="register__token" name="register[_token]" value="LEhsW-IhokD4hQHYoHva_FZzYy-PP2cG-886IBpx9HY" /></form>
    </li>
</ul>
        </div>
                    </div>
            </div>

            
                        
                    </div>
    </div>
</aside>



<aside  tabindex="-1"
        role="dialog"
                    aria-labelledby="popin-log-in_popin_title"
                class="popin popin--small  js-popin"
        id="popin-log-in"
>
    <i class="popin__close-button icon-close js-close-button"></i>

    <div class="popin__inner">
        
        <div class="popin__mainContainer">
                            <h3 id="popin-log-in_popin_title" class="popin__title  js-popin-title">Connexion</h3>
            
            
            
            <div class="popin__content  js-popin-content">
                <div class="popin__contentWrapper">
                                                <div class="formLogin formLogin--smallSize">
            
<ul class="table table--fullwidth u--noMargin">
    <li class="formLogin__column">
        <a class="facebook-btn oc-btn fullwidth formLogin__facebook" href="https://www.facebook.com/v2.3/dialog/oauth?client_id=277769842283905&amp;redirect_uri=https%3A%2F%2Fopenclassrooms.com%2Flogin_check_facebook&amp;state=6e814f4076f2ace7da3681621706ba65&amp;sdk=php-sdk-4.0.23&amp;scope=public_profile%2Cemail"><i class="icon-facebook"></i> Se connecter avec Facebook</a>
        <a class="google-btn oc-btn fullwidth formLogin__google" href="https://accounts.google.com/o/oauth2/auth?response_type=code&amp;redirect_uri=https%3A%2F%2Fopenclassrooms.com%2Flogin_check_google&amp;client_id=132418960718-jdnmpug3g9e6ub2p41ergcci1492qh82.apps.googleusercontent.com&amp;scope=https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fplus.me+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile&amp;access_type=online&amp;approval_prompt=auto"><i class="icon-google"></i> Se connecter avec Google</a>
    </li>

    <li class="formLogin__column">

        
            
    
    

    <form name="" method="post" action="https://openclassrooms.com/login_check" class=" oc-form">

        <div class="oc-form__group oc-form--requiredHidden">
                <label class="oc-form__row    "><span class="oc-form__label-text ">
                            Adresse email ou nom d'utilisateur&nbsp;<abbr class="oc-form__required" title="requis"><span>*</span></abbr></span><span class="oc-form__widget"><input type="text" id="_username" name="_username" required="required" autofocus="autofocus" class="" /></span></label>
        </div>

        <div class="oc-form__group oc-form--requiredHidden">
                <label class="oc-form__row    "><span class="oc-form__label-text ">
                            Mot de passe&nbsp;<abbr class="oc-form__required" title="requis"><span>*</span></abbr></span><span class="oc-form__widget"><input type="password" id="_password" name="_password" required="required" class="" /></span></label>
        </div>

        <div class="oc-form__group">
                <label class="oc-form__row  oc-form__row--reversed  "><span class="oc-form__widget"><span class="ocCheckbox"><input type="checkbox" id="_remember_me" name="_remember_me" class="" value="1" checked="checked" /><span class="ocCheckbox__check"></span></span></span><span class="oc-form__label-text"><span class="oc-form__label-text ">
                            Se souvenir de moi&nbsp;                        </span></span></label>
        </div>

        <div class="oc-form__group right-text">
            <a href="https://openclassrooms.com/set-new-password">Mot de passe oublié</a>
        </div>

        <div class="oc-form__group  center-text">
            <input type="hidden" id="_target_path" name="_target_path" value="https://openclassrooms.com/courses/creez-votre-application-web-avec-java-ee/le-filtre-creez-un-espace-membre" /><div>
    <button type="submit" id="login" name="login" class="orange-alt-btn oc-btn"> Se connecter</button></div><input type="hidden" id="_csrf_token" name="_csrf_token" value="WFIVlYEKEcL5v9hnQC1z3quXwgYs14KEFOLh1GUmi_I" />
        </div>

        </form>
    </li>
</ul>
<p class="text-center space-top">
    Pas encore membre ? <a href="https://openclassrooms.com/register">Inscrivez-vous gratuitement</a> en 30s.
</p>
        </div>
                    </div>
            </div>

            
                        
                    </div>
    </div>
</aside>
                    
                    <div class="mainHeader__container  mainHeader__container--langSelector">
                        <div class="js-popOut-header  popOut popOut--small  popOut--rightAlign" data-keep-it-mobile="true">
    <span class="js-popOut-button  popOut__button">
                    <a href="javascript:;" class="languageSelector__selected">Français</a>
            </span>
    <ul class="popOutList  popOut__content  popOutList--small">
                    <li class="popOutList__item">
                <a class="popOutList__link" href="https://openclassrooms.com/change-locale/en/wsADDEtTJgeOfRBlmygmpV2y0eneCLAuyYJYnverVSQ">English</a>
            </li>
                    <li class="popOutList__item">
                <a class="popOutList__link" href="https://openclassrooms.com/change-locale/es/wsADDEtTJgeOfRBlmygmpV2y0eneCLAuyYJYnverVSQ">Español</a>
            </li>
            </ul>
</div>

                    </div>
                </div>
            </div>

        </div>
    </div>
</header>

        
        <div id="mainSearch" class="centered search-content">
        </div>

        <div id="mainContentWithHeader">
            <div id="pre-main-part">
                
                                        <section class="inset no-padding">
        <div class="centered">

            <h6 class="accessibility-hidden">Fil d&#039;Ariane</h6>

            <nav class="breadcrumb">
                <ul class="breadcrumbtrail">
                                                                        <li class="home" itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
                                                                            <a href="https://openclassrooms.com/" itemprop="url">
                                <span itemprop="title">Accueil</span>
                            </a>
                                                                            <div class="arrow-right"></div>
                                                </li>
                                                                        <li itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
                                                                            <a href="https://openclassrooms.com/courses" itemprop="url">
                                <span itemprop="title">Cours</span>
                            </a>
                                                                            <div class="arrow-right"></div>
                                                </li>
                                                                        <li itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
                                                                            <a href="https://openclassrooms.com/courses/creez-votre-application-web-avec-java-ee?status=published" itemprop="url">
                                <span itemprop="title">Créez votre application web avec Java EE</span>
                            </a>
                                                                            <div class="arrow-right"></div>
                                                </li>
                                                                        <li class="current" itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
                                                                            Le filtre : créez un espace membre
                                                                        </li>
                                    </ul>
            </nav>
        </div>
    </section>

                
                            </div>

            <div class="claire clearfix" >
                    <article itemscope itemtype="http://schema.org/Article">

                        
<header class="course-header" xmlns="http://www.w3.org/1999/html">
    <div class="centered"><div class="course-header__topPart"><div class="course-header__info"><a itemprop="url" href="https://openclassrooms.com/courses/creez-votre-application-web-avec-java-ee"><h1 data-course-title="Créez votre application web avec Java EE">Créez votre application web avec Java EE</h1></a><span class="course-header__updatedTime visible-l">Mis à jour le lundi 13 juillet 2015</span></div></div></div><div class="course-header__details-container"><div class="centered"><div class="row"><div class="col12"><div class="course-header__details  iconBar"><div class="course-header__detailsGroup  course-header__detailsGroup--formats iconBar__group"><ul data-option_popinselector="#popin-formats-availables" class="course-types iconBar__list js-course-formats-bar"><li class="iconBar__item  course-types__item  js-tooltip" title="Ce cours est visible gratuitement en ligne."><a href="https://openclassrooms.com/courses/creez-votre-application-web-avec-java-ee"><i class="icon-desktop  course-types__icon"></i><span class="course-header__format-current"></span></a></li><li class="iconBar__item  course-types__item iconBar__item--dimmed js-tooltip" title="Ce cours n&#039;est pas encore en vidéo."><span><i class="icon-video course-types__icon"></i></span></li><li class="iconBar__item  course-types__item  js-tooltip" title="Ce cours existe en livre papier."><a href="http://www.eyrolles.com/Informatique/Livre/creez-des-applications-web-avec-java-ee-9791090085244?societe=openclassrooms" target="_blank"><i class="icon-book  course-types__icon"></i></a></li><li class="iconBar__item  course-types__item  js-tooltip" title="Ce cours existe en eBook."><a href="https://openclassrooms.com/ebooks/creez-votre-application-web-avec-java-ee"><i class="icon-ebook  course-types__icon"></i></a></li><li class="iconBar__item  course-types__item iconBar__item--dimmed js-tooltip"
                                                                                            title="Vous ne pouvez pas encore obtenir de certificat de réussite à l&#039;issue de ce cours."
                                                                                ><a
                                                                                        ><i class="icon-badge  course-types__icon"></i></a></li><li class="iconBar__item  course-types__item iconBar__item--dimmed js-tooltip" title="Ce cours n&#039;est pas encore diplômant et ne vous permet pas d&#039;obtenir des crédits universitaires européens (ECTS)."><span><i class="icon-hat  course-types__icon"></i></span></li><li class="iconBar__item  course-types__item  js-tooltip" title="Vous pouvez être accompagné sur ce cours par un mentor dédié en visioconférence."><a  href="https://openclassrooms.com/premium#discover-premium-plus-offer" ><i class="icon-mentor  course-types__icon"></i></a></li></ul></div><div class="course-header__detailsGroup  course-header__detailsGroup--info  iconBar__group"><ul class="iconBar__list"><li class="iconBar__item"><i class="icon-duration iconBar__icon js-tooltip" title="Ce cours demande en moyenne 40 heures de travail pour être réussi."></i><span class="iconBar__label">40 heures</span></li><li class="iconBar__item"><i class="icon-level iconBar__icon"></i><span class="iconBar__label">
                                                                                                    Moyenne
                                                                                            </span></li></ul></div><div class="course-header__detailsGroup course-header__detailsGroup--licences iconBar__group"><a target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/2.0"><span class="iconBar__label">Licence</span><ul class="iconBar__list"><li class="iconBar__item"><i class="icon-cc iconBar__icon" title="CC"></i></li><li class="iconBar__item"><i class="icon-ccby iconBar__icon" title="BY"></i></li><li class="iconBar__item"><i class="icon-ccnc iconBar__icon" title="NC"></i></li><li class="iconBar__item"><i class="icon-ccsa iconBar__icon" title="SA"></i></li></ul></a></div></div></div></div></div></div>
    <div id="popin-formats-availables" class="popin popin--course-formats-availables">
        <i class="popin__close-button icon-close js-close-button"></i>

        <div class="course-types course-types--withSpace">
                            <a class="course-types__item" href="https://openclassrooms.com/courses/creez-votre-application-web-avec-java-ee">
                    <i class="icon-desktop course-types__icon"></i>
                </a>
            
            
                            <a class="course-types__item" href="http://www.eyrolles.com/Informatique/Livre/creez-des-applications-web-avec-java-ee-9791090085244?societe=openclassrooms">
                    <i class="icon-book course-types__icon"></i>
                </a>
            
                            <a class="course-types__item" href="https://openclassrooms.com/ebooks/creez-votre-application-web-avec-java-ee">
                    <i class="icon-ebook course-types__icon"></i>
                </a>
            
            
                                        <a class="course-types__item" href="https://openclassrooms.com/premium#discover-premium-plus-offer">
                    <i class="icon-mentor course-types__icon"></i>
                </a>
                    </div>

                    <p>Ce cours est visible <a href="https://openclassrooms.com/courses/creez-votre-application-web-avec-java-ee">gratuitement en ligne</a>.</p>
        
        
                    <p>
                Ce cours existe en livre papier.
            </p>
        
                    <p>Ce cours existe <a href="https://openclassrooms.com/ebooks/creez-votre-application-web-avec-java-ee">en eBook</a>.</p>
        
        
        
                    <p>
                Vous pouvez être <a href="https://openclassrooms.com/premium#discover-premium-plus-offer">accompagné et mentoré par un professeur particulier</a> par visioconférence sur ce cours.
            </p>
        
        <a class="oc-btn orange-alt-btn js-close-button" href="#">J&#039;ai tout compris !</a>
    </div>

    
</header>

    <div class="centered">
                            
        
            <div class="row">
        <div class="col12 col11-s">
                            <nav class="timeline">
        <div class="timeline__inner">

        <span class="timeline__iconContainer">
            <a href="https://openclassrooms.com/courses/creez-votre-application-web-avec-java-ee" title="Retour sur le sommaire du cours" class="roundIcon timeline__roundIcon">
                <i class="icon-home roundIcon__icon"></i>
            </a>
        </span>
            <div class="timeline__steps">
                
                    <span class="timeline__splitChapter"></span>

                                            
                                                        
                            <a
                                                                    href="introduction-au-java-ee.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Introduction au Java EE
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="le-java-ee-mis-a-nu.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Le Java EE mis à nu !
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="outils-et-environnement-de-developpement.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Outils et environnement de développement
                                </span>

                                                            </a>
                                            
                
                    <span class="timeline__splitChapter"></span>

                                            
                                                        
                            <a
                                                                    href="la-servlet.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    La servlet
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="servlet-avec-vue.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Servlet avec vue…
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="transmission-de-donnees.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Transmission de données
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="le-javabean.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Le JavaBean
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="la-technologie-jsp-1-2.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    La technologie JSP (1/2)
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="la-technologie-jsp-2-2.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    La technologie JSP (2/2)
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="des-problemes-de-vue.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Des problèmes de vue ?
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="tp-fil-rouge-etape-1.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    TP Fil rouge - Étape 1
                                </span>

                                                            </a>
                                            
                
                    <span class="timeline__splitChapter"></span>

                                            
                                                        
                            <a
                                                                    href="objectifs-et-configuration.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Objectifs et configuration
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="la-bibliotheque-core.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    La bibliothèque Core
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="jstl-core-exercice-d-application.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    JSTL core : exercice d&#039;application
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="la-bibliotheque-xml.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    La bibliothèque xml
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="jstl-xml-exercice-d-application.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    JSTL xml : exercice d&#039;application
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="faisons-le-point-2.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Faisons le point !
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="tp-fil-rouge-etape-2.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    TP Fil rouge - Étape 2
                                </span>

                                                            </a>
                                            
                
                    <span class="timeline__splitChapter"></span>

                                            
                                                        
                            <a
                                                                    href="formulaires-le-b-a-ba.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Formulaires : le b.a.-ba
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="formulaires-a-la-mode-mvc.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Formulaires : à la mode MVC
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="tp-fil-rouge-etape-3.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    TP Fil rouge - Étape 3
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="la-session-connectez-vos-clients.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    La session : connectez vos clients
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="le-filtre-creez-un-espace-membre.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Le filtre : créez un espace membre
                                </span>

                                                                    <span class="timeline__progressMarker"></span>
                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="le-cookie-le-navigateur-vous-ouvre-ses-portes.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Le cookie : le navigateur vous ouvre ses portes
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="tp-fil-rouge-etape-4.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    TP Fil rouge - Étape 4
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="formulaires-l-envoi-de-fichiers.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Formulaires : l&#039;envoi de fichiers
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="le-telechargement-de-fichiers.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Le téléchargement de fichiers
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="tp-fil-rouge-etape-5.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    TP Fil rouge - Étape 5
                                </span>

                                                            </a>
                                            
                
                    <span class="timeline__splitChapter"></span>

                                            
                                                        
                            <a
                                                                    href="introduction-a-mysql-et-jdbc.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Introduction à MySQL et JDBC
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="communiquez-avec-votre-bdd.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Communiquez avec votre BDD
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="le-modele-dao.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Le modèle DAO
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="tp-fil-rouge-etape-6.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    TP Fil rouge - Étape 6
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="gerer-un-pool-de-connexions-avec-bonecp.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Gérer un pool de connexions avec BoneCP
                                </span>

                                                            </a>
                                            
                
                    <span class="timeline__splitChapter"></span>

                                            
                                                        
                            <a
                                                                    href="les-annotations.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Les annotations
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="la-persistance-des-donnees-avec-jpa.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    La persistance des données avec JPA
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="tp-fil-rouge-etape-7.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    TP Fil rouge - Étape 7
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="introduction-aux-frameworks-mvc.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Introduction aux frameworks MVC
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="premiers-pas-avec-jsf.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Premiers pas avec JSF
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="la-gestion-d-un-formulaire-avec-jsf.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    La gestion d&#039;un formulaire avec JSF
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="l-envoi-de-fichiers-avec-jsf.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    L&#039;envoi de fichiers avec JSF
                                </span>

                                                            </a>
                                            
                
                    <span class="timeline__splitChapter"></span>

                                            
                                                        
                            <a
                                                                    href="debugger-un-projet.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Débugger un projet
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="empaquetage-et-deploiement-d-un-projet.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Empaquetage et déploiement d&#039;un projet
                                </span>

                                                            </a>
                                            
                
                <span class="timeline__splitChapter"></span>

            </div>

        <span class="timeline__iconContainer">
                            <span title="Ce cours n&#039;est pas encore certifiant." class="roundIcon roundIcon--disabled">
                    <i class="icon-trophy roundIcon__icon"></i>
                </span>
                    </span>

        </div>
    </nav>
        </div>
    </div>
    </div>

        
        <div class="centered">
            <div class="contentWithSidebar  spacer  js-contentWithSidebar" >
                <main class="contentWithSidebar__content" >
                        

        <div class="relative js-sidebar-container">
        <div class="static">
    <h2 itemprop="name" data-part-title="Le filtre : créez un espace membre" class="part-title">Le filtre : créez un espace membre</h2>

    <section class="row space-bottom js-desktop-sticky-container">
        <div class="col9 col11-s col__small-padding--right">

                <div class="tooltipMessage tooltipMessage--noArrow">
        <i class="tooltipMessage__icon  icon-lock"></i>
        <a href="https://openclassrooms.com/login" class="js-popin-activator" data-popin-selector="#popin-log-in" >Connectez-vous</a> ou <a href="https://openclassrooms.com/register" class="js-popin-activator" data-popin-selector="#popin-sign-in" >inscrivez-vous</a> pour bénéficier de toutes les fonctionnalités de ce cours !
    </div>

            <div
                itemprop="articleBody"
                data-page-indentifier="/courses/creez-votre-application-web-avec-java-ee/le-filtre-creez-un-espace-membre"
                class="js-isRestrictablePage course-content js-course-container js-smilize "

                                    data-video-blocked-wrapper="<a href='https://openclassrooms.com/login#popin-log-in' class='js-popin-activator'>"
                            >

                <p id="r-2134887" data-claire-element-id="2351900">Maintenant que nous savons manipuler les sessions et connecter nos utilisateurs, il serait intéressant de pouvoir mettre en place un espace membre dans notre application : c'est un ensemble de pages web qui est uniquement accessible aux utilisateurs connectés.</p><p id="r-2134888" data-claire-element-id="2351901">Pour ce faire, nous allons commencer par étudier le principe sur une seule page, via une servlet classique. Puis nous allons étendre ce système à tout un ensemble de pages, et découvrir un nouveau composant, cousin de la servlet : <strong>le filtre</strong> !</p><h3 id="r-622654" data-claire-element-id="2837811">Restreindre l'accès à une page</h3><p id="r-2134889" data-claire-element-id="2351902">Ce principe est massivement utilisé dans la plupart des applications web : les utilisateurs enregistrés et connectés à un site ont bien souvent accès à plus de contenu et de fonctionnalités que les simples visiteurs.</p><div id="r-2134891" data-claire-element-id="2351904" data-claire-semantic="question"><p id="r-2134890" data-claire-element-id="2351903">Comment mettre en place une telle restriction d'accès ?</p></div><p id="r-2134892" data-claire-element-id="2351905">Jusqu'à présent, nous avons pris l'habitude de placer toutes nos JSP sous le répertoire <strong>/WEB-INF</strong>, et de les rendre accessibles à travers des servlets. Nous savons donc que chaque requête qui leur est adressée passe d'abord par une servlet. Ainsi pour limiter l'accès à une page donnée, la première intuition qui nous vient à l'esprit, c'est de nous servir de la servlet qui lui est associée pour effectuer un test sur le contenu de la session, afin de vérifier si le client est déjà connecté ou non.</p><h4 id="r-2134904" data-claire-element-id="2837807">Les pages d'exemple</h4><p id="r-2134893" data-claire-element-id="2351906">Mettons en place pour commencer deux pages JSP :</p><ul id="r-2134898" data-claire-element-id="2351911"><li id="r-2134895" data-claire-element-id="2351908"><p id="r-2134894" data-claire-element-id="2351907">une dont nous allons plus tard restreindre l'accès aux utilisateurs connectés uniquement, nommée <strong>accesRestreint.jsp</strong> et placée sous <strong>/WEB-INF</strong> ;</p></li><li id="r-2134897" data-claire-element-id="2351910"><p id="r-2134896" data-claire-element-id="2351909">une qui sera accessible à tous les visiteurs, nommée <strong>accesPublic.jsp</strong> et placée sous la racine du projet (symbolisée par le dossier <strong>WebContent</strong> sous Eclipse).</p></li></ul><p id="r-2134899" data-claire-element-id="2351912">Le contenu de ces pages importe peu, voici l'exemple basique que je vous propose :</p><pre id="r-2134900" data-claire-element-id="2837805"><code data-claire-semantic="jsp">&lt;%@ page pageEncoding=&quot;UTF-8&quot; %&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;meta charset=&quot;utf-8&quot; /&gt;
        &lt;title&gt;Accès restreint&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;p&gt;Vous êtes connecté(e) avec l'adresse ${sessionScope.sessionUtilisateur.email}, vous avez bien accès à l'espace restreint.&lt;/p&gt;
    &lt;/body&gt;
&lt;/html&gt;</code></pre><p id="r-2134901" data-claire-element-id="2351914">Reprenez alors la page <strong>accesPublic.jsp</strong> créée dans le chapitre précédent et modifiez son code ainsi :</p><pre id="r-2134902" data-claire-element-id="2837806"><code data-claire-semantic="jsp">&lt;%@ page pageEncoding=&quot;UTF-8&quot; %&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;meta charset=&quot;utf-8&quot; /&gt;
        &lt;title&gt;Accès public&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;p&gt;Vous n'avez pas accès à l'espace restreint : vous devez vous &lt;a href=&quot;connexion&quot;&gt;connecter&lt;/a&gt; d'abord. &lt;/p&gt;
    &lt;/body&gt;
&lt;/html&gt;</code></pre><p id="r-2134903" data-claire-element-id="2351916">Rien de particulier à signaler ici, si ce n'est l'utilisation d'une expression EL dans la page restreinte, afin d'accéder à l'adresse mail de l'utilisateur enregistré en session, à travers l'objet implicite <strong>sessionScope</strong>.</p><h4 id="r-2134924" data-claire-element-id="2837810">La servlet de contrôle</h4><p id="r-2134905" data-claire-element-id="2351918">Ce qu'il nous faut réaliser maintenant, c'est ce fameux contrôle sur le contenu de la session avant d'autoriser l'accès à la page <strong>accesRestreint.jsp</strong>. Voyez plutôt :</p><pre id="r-2134906" data-claire-element-id="2837808"><code data-claire-semantic="java">package com.sdzee.servlets;

import java.io.IOException;

import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;

public class Restriction extends HttpServlet {
    public static final String ACCES_PUBLIC     = &quot;/accesPublic.jsp&quot;;
    public static final String ACCES_RESTREINT  = &quot;/WEB-INF/accesRestreint.jsp&quot;;
    public static final String ATT_SESSION_USER = &quot;sessionUtilisateur&quot;;

    public void doGet( HttpServletRequest request, HttpServletResponse response ) throws ServletException, IOException {
        /* Récupération de la session depuis la requête */
        HttpSession session = request.getSession();

        /*
         * Si l'objet utilisateur n'existe pas dans la session en cours, alors
         * l'utilisateur n'est pas connecté.
         */
        if ( session.getAttribute( ATT_SESSION_USER ) == null ) {
            /* Redirection vers la page publique */
            response.sendRedirect( request.getContextPath() + ACCES_PUBLIC );
        } else {
            /* Affichage de la page restreinte */
            this.getServletContext().getRequestDispatcher( ACCES_RESTREINT ).forward( request, response );
        }
    }
}</code></pre><p id="r-2134907" data-claire-element-id="2351920">Comme vous le voyez, le procédé est très simple : il suffit de récupérer la session, de tester si l'attribut <strong>sessionUtilisateur</strong> y existe déjà, et de rediriger vers la page restreinte ou publique selon le résultat du test.</p><aside id="r-2134909" data-claire-element-id="2351922" data-claire-semantic="information"><p id="r-2134908" data-claire-element-id="2351921">Remarquez au passage l'emploi d'une redirection dans le cas de la page publique, et d'un <em>forwarding</em> dans le cas de la page privée. Vous devez maintenant être familiers avec le principe, je vous l'ai expliqué dans le chapitre précédent. Ici, si je mettais en place un <em>forwarding</em> vers la page publique au lieu d'une redirection HTTP, alors l'URL dans le navigateur d'un utilisateur non connecté ne changerait pas lorsqu'il échoue à accéder à la page restreinte. Autrement dit, il serait redirigé vers la page publique de manière transparente, et l'URL de son navigateur lui suggèrerait donc qu'il se trouve sur la page restreinte, ce qui n'est évidemment pas le cas.</p></aside><p id="r-2134910" data-claire-element-id="2351923">Par ailleurs, vous devez également prêter attention à la manière dont j'ai construit l'URL utilisée pour la redirection, à la ligne 26. Vous êtes déjà au courant que, contrairement au <em>forwarding</em> qui est limité aux pages internes, la redirection HTTP permet d'envoyer la requête à n'importe quelle page, y compris des pages provenant d'autres sites. Ce que vous ne savez pas encore, à moins d'avoir lu attentivement les documentations des méthodes <code><a href="http://docs.oracle.com/javaee/6/api/javax/servlet/ServletContext.html#getRequestDispatcher%28java.lang.String%29">getRequestDispatcher()</a></code> et <code><a href="http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletResponse.html#sendRedirect%28java.lang.String%29">sendRedirect()</a></code>, c'est que l'URL prise en argument par la méthode de <em>forwarding</em> est relative au <strong>contexte de l'application</strong>, alors que l'URL prise en argument par la méthode de redirection est relative à la <strong>racine de l'application</strong> !</p><div id="r-2134912" data-claire-element-id="2351925" data-claire-semantic="question"><p id="r-2134911" data-claire-element-id="2351924">Concrètement, qu'est-ce que ça implique ?</p></div><p id="r-2134913" data-claire-element-id="2351926">Cette différence est très importante :</p><ul id="r-2134918" data-claire-element-id="2351931"><li id="r-2134915" data-claire-element-id="2351928"><p id="r-2134914" data-claire-element-id="2351927">l'URL passée à la méthode <code>getRequestDispatcher()</code> doit être interne à l'application. En l’occurrence, dans notre projet cela signifie qu'il est impossible de préciser une URL qui cible une page en dehors du projet <strong>pro</strong>. Ainsi, un appel à <code>getRequestDispatcher( &quot;/accesPublic.jsp&quot; )</code> ciblera automatiquement la page /pro/accesPublic.jsp, vous n'avez pas à préciser vous-mêmes le contexte /pro ;</p></li><li id="r-2134917" data-claire-element-id="2351930"><p id="r-2134916" data-claire-element-id="2351929">l'URL passée à la méthode <code>sendRedirect()</code> peut être externe à l'application. Cela veut dire que vous devez manuellement spécifier l'application dans laquelle se trouve votre page, et non pas, faire comme avec la méthode de <em>forwarding</em>, dans laquelle par défaut toute URL est considérée comme étant interne à l'application. Cela signifie donc que nous devons préciser le contexte de l'application dans l'URL passée à <code>sendRedirect()</code>. En l'occurrence, nous devons lui dire que nous souhaitons joindre une page contenue dans le projet <strong>pro</strong> : plutôt que d'écrire en dur /pro/accesPublic.jsp, et risquer de devoir manuellement modifier cette URL si nous changeons le nom du contexte du projet plus tard, nous utilisons ici un appel à <code>request.getContextPath()</code>, qui retourne automatiquement le contexte de l'application courante, c'est-à-dire /pro dans notre cas.</p></li></ul><aside id="r-2134920" data-claire-element-id="2351933" data-claire-semantic="warning"><p id="r-2134919" data-claire-element-id="2351932">Bref, vous l'aurez compris, vous devez être attentifs aux méthodes que vous employez et à la manière dont elles vont gérer les URL que vous leur transmettez. Entre les URL absolues, les URL relatives à la racine de l'application, les URL relatives au contexte de l'application et les URL relatives au répertoire courant, il est parfois difficile de ne pas s'emmêler les crayons ! &gt;_</p></aside><p id="r-2134921" data-claire-element-id="2351934">Pour terminer, voici sa configuration dans le fichier <strong>web.xml</strong> de notre application :</p><pre id="r-2134922" data-claire-element-id="2837809"><code data-claire-semantic="xml">...

&lt;servlet&gt;
	&lt;servlet-name&gt;Restriction&lt;/servlet-name&gt;
	&lt;servlet-class&gt;com.sdzee.servlets.Restriction&lt;/servlet-class&gt;
&lt;/servlet&gt;

...

&lt;servlet-mapping&gt;
	&lt;servlet-name&gt;Restriction&lt;/servlet-name&gt;
	&lt;url-pattern&gt;/restriction&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;

...</code></pre><p id="r-2134923" data-claire-element-id="2351936">N'oubliez pas de redémarrer Tomcat pour que ces modifications soient prises en compte.</p><h4 id="r-2134940" data-claire-element-id="2351953">Test du système</h4><p id="r-2134925" data-claire-element-id="2351938">Pour vérifier le bon fonctionnement de cet exemple d'accès restreint, suivez le scénario suivant :</p><ol id="r-2134938" data-claire-element-id="2351951"><li id="r-2134927" data-claire-element-id="2351940"><p id="r-2134926" data-claire-element-id="2351939">redémarrez Tomcat, afin de faire disparaître toute session qui serait encore active ;</p></li><li id="r-2134929" data-claire-element-id="2351942"><p id="r-2134928" data-claire-element-id="2351941">rendez-vous sur la page <a href="http://localhost:8080/pro/restriction">http://localhost:8080/pro/restriction</a>, et constatez au passage la redirection (changement d'URL) ;</p></li><li id="r-2134931" data-claire-element-id="2351944"><p id="r-2134930" data-claire-element-id="2351943">cliquez alors sur le lien vers la page de connexion, entrez des informations valides et connectez-vous ;</p></li><li id="r-2134933" data-claire-element-id="2351946"><p id="r-2134932" data-claire-element-id="2351945">rendez-vous à nouveau sur la page <a href="http://localhost:8080/pro/restriction">http://localhost:8080/pro/restriction</a>, et constatez au passage l'absence de redirection (l'URL ne change pas) ;</p></li><li id="r-2134935" data-claire-element-id="2351948"><p id="r-2134934" data-claire-element-id="2351947">allez maintenant sur la page <a href="http://localhost:8080/pro/deconnexion">http://localhost:8080/pro/deconnexion</a> ;</p></li><li id="r-2134937" data-claire-element-id="2351950"><p id="r-2134936" data-claire-element-id="2351949">retournez une dernière fois sur la page <a href="http://localhost:8080/pro/restriction">http://localhost:8080/pro/restriction</a>.</p></li></ol><p id="r-2134939" data-claire-element-id="2351952">Sans grande surprise, le système fonctionne bien : nous devons être connectés pour accéder à la page dont l'accès est restreint, sinon nous sommes redirigés vers la page publique.</p><h4 id="r-2134943" data-claire-element-id="2351956">Le problème</h4><p id="r-2134941" data-claire-element-id="2351954">Oui, parce qu'il y a un léger problème ! Dans cet exemple, nous nous sommes occupés de deux pages : une page privée, une page publique. C'était rapide, simple et efficace. Maintenant si je vous demande d'étendre la restriction à 100 pages privées, comment comptez-vous vous y prendre ?</p><p id="r-2134942" data-claire-element-id="2351955">En l'état actuel de vos connaissances, vous n'avez pas d'autres moyens que de mettre en place un test sur le contenu de la session dans chacune des 100 servlets contrôlant l'accès aux 100 pages privées. Vous vous doutez bien que ce n'est absolument pas viable, et qu'il nous faut apprendre une autre méthode. La réponse à nos soucis s'appelle le <strong>filtre</strong>, et nous allons le découvrir dans le paragraphe suivant.</p><h3 id="r-622705" data-claire-element-id="3312374">Le principe du filtre</h3><h4 id="r-2134974" data-claire-element-id="3312373">Généralités</h4><div id="r-2134945" data-claire-element-id="2351959" data-claire-semantic="question"><p id="r-2134944" data-claire-element-id="2351958">Qu'est-ce qu'un filtre ?</p></div><p id="r-2134946" data-claire-element-id="2351960">Un filtre est un objet Java qui peut modifier les en-têtes et le contenu d'une requête ou d'une réponse. Il se positionne avant la servlet, et intervient donc en amont dans le cycle de traitement d'une requête par le serveur. Il peut être associé à une ou plusieurs servlets. Voici à la figure suivante un schéma représentant le cas où plusieurs filtres seraient associés à notre servlet de connexion.</p><figure id="r-2134949" data-claire-element-id="3312372"><img id="r-2134947" data-claire-element-id="2351961" src="../../../user.oc-static.com/files/382001_383000/382897.png" alt="Plusieurs filtres associés à la servlet connexion" /></figure><p id="r-2134950" data-claire-element-id="2351964">Vous pouvez d'ores et déjà remarquer sur cette illustration que les filtres peuvent intervenir à la fois sur la requête entrante et sur la réponse émise, et qu'ils s'appliquent dans un ordre précis, en cascade.</p><div id="r-2134952" data-claire-element-id="2351966" data-claire-semantic="question"><p id="r-2134951" data-claire-element-id="2351965">Quelle est la différence entre un filtre et une servlet ?</p></div><p id="r-2134953" data-claire-element-id="2351967">Alors qu'un composant web comme la servlet est utilisé pour générer une réponse HTTP à envoyer au client, le filtre ne crée habituellement pas de réponse ; il se contente généralement d'appliquer d'éventuelles modifications à la paire requête / réponse existante. Voici une liste des actions les plus communes réalisables par un filtre :</p><ul id="r-2134962" data-claire-element-id="2351976"><li id="r-2134955" data-claire-element-id="2351969"><p id="r-2134954" data-claire-element-id="2351968">interroger une requête et agir en conséquence ;</p></li><li id="r-2134957" data-claire-element-id="2351971"><p id="r-2134956" data-claire-element-id="2351970">empêcher la paire requête / réponse d'être transmise plus loin, autrement dit bloquer son cheminement dans l'application ;</p></li><li id="r-2134959" data-claire-element-id="2351973"><p id="r-2134958" data-claire-element-id="2351972">modifier les en-têtes et le contenu de la requête courante ;</p></li><li id="r-2134961" data-claire-element-id="2351975"><p id="r-2134960" data-claire-element-id="2351974">modifier les en-têtes et le contenu de la réponse courante.</p></li></ul><div id="r-2134964" data-claire-element-id="2351978" data-claire-semantic="question"><p id="r-2134963" data-claire-element-id="2351977">Quel est l'intérêt d'un filtre ?</p></div><p id="r-2134965" data-claire-element-id="2351979">Le filtre offre trois avantages majeurs, qui sont interdépendants :</p><ul id="r-2134972" data-claire-element-id="2351986"><li id="r-2134967" data-claire-element-id="2351981"><p id="r-2134966" data-claire-element-id="2351980">il permet de modifier de manière transparente un échange HTTP. En effet, il n'implique pas nécessairement la création d'une réponse, et peut se contenter de modifier la paire requête / réponse existante ;</p></li><li id="r-2134969" data-claire-element-id="2351983"><p id="r-2134968" data-claire-element-id="2351982">tout comme la servlet, il est défini par un <em>mapping</em>, et peut ainsi être appliqué à plusieurs requêtes ;</p></li><li id="r-2134971" data-claire-element-id="2351985"><p id="r-2134970" data-claire-element-id="2351984">plusieurs filtres peuvent être appliqués en cascade à la même requête.</p></li></ul><p id="r-2134973" data-claire-element-id="2351987">C'est la combinaison de ces trois propriétés qui fait du filtre un composant parfaitement adapté à tous les traitements de masse, nécessitant d'être appliqués systématiquement à tout ou partie des pages d'une application. À titre d'exemple, on peut citer les usages suivants : l'authentification des visiteurs, la génération de logs, la conversion d'images, la compression de données ou encore le chiffrement de données.</p><h4 id="r-2134989" data-claire-element-id="2837817">Fonctionnement</h4><p id="r-2134975" data-claire-element-id="2351989">Regardons maintenant comment est construit un filtre. À l'instar de sa cousine la servlet, qui doit obligatoirement implémenter l'interface <code><a href="http://docs.oracle.com/javaee/6/api/javax/servlet/Servlet.html">Servlet</a></code>, le filtre doit implémenter l'interface <code><a href="http://docs.oracle.com/javaee/6/api/javax/servlet/Filter.html">Filter</a></code>. Mais cette fois, contrairement au cas de la servlet qui peut par exemple hériter de <code>HttpServlet</code>, il n'existe ici pas de classe fille. Lorsque nous étudions la documentation de l'interface, nous remarquons qu'elle est plutôt succincte, elle ne contient que trois définitions de méthodes : <code>init()</code>, <code>doFilter()</code> et <code>destroy()</code>.</p><p id="r-2134976" data-claire-element-id="2351990">Vous le savez, lorsqu'une classe Java implémente une interface, elle doit redéfinir chaque méthode présente dans cette interface. Ainsi, voici le code de la structure à vide d'un filtre :</p><pre id="r-2134977" data-claire-element-id="2837815"><code data-claire-semantic="java">import java.io.IOException;

import javax.servlet.Filter;
import javax.servlet.FilterChain;
import javax.servlet.FilterConfig;
import javax.servlet.ServletException;
import javax.servlet.ServletRequest;
import javax.servlet.ServletResponse;

public class ExempleFilter implements Filter {
    public void init( FilterConfig config ) throws ServletException {
        // ...
    }

    public void doFilter( ServletRequest request, ServletResponse response, FilterChain chain ) throws IOException,
            ServletException {
        // ...
    }

    public void destroy() {
        // ...
    }
}</code></pre><p id="r-2134978" data-claire-element-id="2351992">Les méthodes <code>init()</code> et <code>destroy()</code> concernent le cycle de vie du filtre dans l'application. Nous allons y revenir en aparté dans le paragraphe suivant. La méthode qui va contenir les traitements effectués par le filtre est donc <code>doFilter()</code>. Vous pouvez d'ailleurs le deviner en regardant les arguments qui lui sont transmis : elle reçoit en effet la requête et la réponse, ainsi qu'un troisième élément, <strong>la chaîne des filtres</strong>.</p><div id="r-2134980" data-claire-element-id="2351994" data-claire-semantic="question"><p id="r-2134979" data-claire-element-id="2351993">À quoi sert cette chaîne ?</p></div><p id="r-2134981" data-claire-element-id="2351995">Elle vous est encore inconnue, mais elle est en réalité un objet relativement simple : je vous laisse jeter un œil à <a href="http://docs.oracle.com/javaee/6/api/javax/servlet/FilterChain.html">sa courte documentation</a>. Je vous ai annoncé un peu plus tôt que plusieurs filtres pouvaient être appliqués à la même requête. Eh bien c'est à travers cette chaîne qu'un ordre va pouvoir être établi : chaque filtre qui doit être appliqué à la requête va être inclus à la chaîne, qui ressemble en fin de compte à une file d'invocations.</p><p id="r-2134982" data-claire-element-id="2351996">Cette chaîne est entièrement gérée par le conteneur, vous n'avez pas à vous en soucier. La seule chose que vous allez contrôler, c'est le passage d'un filtre à l'autre dans cette chaîne via l'appel de sa seule et unique méthode, elle aussi nommée <code><a href="http://docs.oracle.com/javaee/6/api/javax/servlet/FilterChain.html#doFilter%28javax.servlet.ServletRequest,%20javax.servlet.ServletResponse%29">doFilter()</a></code>.</p><div id="r-2134984" data-claire-element-id="2351998" data-claire-semantic="question"><p id="r-2134983" data-claire-element-id="2351997">Comment l'ordre des filtres dans la chaîne est-il établi ?</p></div><p id="r-2134985" data-claire-element-id="2351999">Tout comme une servlet, un filtre doit être déclaré dans le fichier <strong>web.xml</strong> de l'application pour être reconnu :</p><pre id="r-2134986" data-claire-element-id="2837816"><code data-claire-semantic="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;web-app&gt;
    ...

    &lt;filter&gt;
        &lt;filter-name&gt;Exemple&lt;/filter-name&gt;
        &lt;filter-class&gt;package.ExempleFilter&lt;/filter-class&gt;
    &lt;/filter&gt;
    &lt;filter&gt;
        &lt;filter-name&gt;SecondExemple&lt;/filter-name&gt;
        &lt;filter-class&gt;package.SecondExempleFilter&lt;/filter-class&gt;
    &lt;/filter&gt;

    &lt;filter-mapping&gt;
        &lt;filter-name&gt;Exemple&lt;/filter-name&gt;
        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;
    &lt;/filter-mapping&gt;
    &lt;filter-mapping&gt;
        &lt;filter-name&gt;SecondExemple&lt;/filter-name&gt;
        &lt;url-pattern&gt;/page&lt;/url-pattern&gt;
    &lt;/filter-mapping&gt;

    ...
&lt;/web-app&gt;</code></pre><p id="r-2134987" data-claire-element-id="2352001">Vous reconnaissez ici la structure des blocs utilisés pour déclarer une servlet, la seule différence réside dans le nommage des champs : <code>&lt;servlet&gt;</code> devient <code>&lt;filter&gt;</code>, <code>&lt;servlet-name&gt;</code> devient <code>&lt;filter-name&gt;</code>, etc.</p><p id="r-2134988" data-claire-element-id="2352002">Eh bien là encore, de la même manière que pour les servlets, l'ordre des déclarations des mappings des filtres dans le fichier est important : c'est cet ordre qui va être suivi lors de l'invocation de plusieurs filtres appliqués à une même requête. En d'autres termes, c'est dans cet ordre que la chaîne des filtres va être automatiquement initialisée par le conteneur. Ainsi, si vous souhaitez qu'un filtre soit appliqué avant un autre, placez son mapping avant le mapping du second dans le fichier web.xml de votre application.</p><h4 id="r-2134993" data-claire-element-id="2352007">Cycle de vie</h4><p id="r-2134990" data-claire-element-id="2352004">Avant de passer à l'application pratique et à la mise en place d'un filtre, penchons-nous un instant sur la manière dont le conteneur le gère. Une fois n'est pas coutume, il y a là encore de fortes similitudes avec une servlet. Lorsque l'application web démarre, le conteneur de servlets va créer une instance du filtre et la garder en mémoire durant toute l'existence de l'application. La même instance va être réutilisée pour chaque requête entrante dont l'URL correspond au contenu du champ <code>&lt;url-pattern&gt;</code> du mapping du filtre. Lors de l'instanciation, la méthode <code>init()</code> est appelée par le conteneur : si vous souhaitez passer des paramètres d'initialisation au filtre, vous pouvez alors les récupérer depuis l'objet <code><a href="http://docs.oracle.com/javaee/6/api/javax/servlet/FilterConfig.html">FilterConfig</a></code> passé en argument à la méthode.</p><p id="r-2134991" data-claire-element-id="2352005">Pour chacune de ces requêtes, la méthode <code>doFilter()</code> va être appelée. Ensuite c'est évidemment au développeur, à vous donc, de décider quoi faire dans cette méthode : une fois vos traitements appliqués, soit vous appelez la méthode <code><a href="http://docs.oracle.com/javaee/6/api/javax/servlet/FilterChain.html#doFilter%28javax.servlet.ServletRequest,%20javax.servlet.ServletResponse%29">doFilter()</a></code> de l'objet <code>FilterChain</code> pour passer au filtre suivant dans la liste, soit vous effectuez une redirection ou un <em>forwarding</em> pour changer la destination d'origine de la requête.</p><p id="r-2134992" data-claire-element-id="2352006">Enfin, je me répète mais il est possible de faire en sorte que plusieurs filtres s'appliquent à la même URL. Ils seront alors appelés dans le même ordre que celui de leurs déclarations de mapping dans le fichier web.xml de l'application.</p><h3 id="r-622852" data-claire-element-id="3312394">Restreindre l'accès à un ensemble de pages</h3><h4 id="r-2135044" data-claire-element-id="3312379">Restreindre un répertoire</h4><p id="r-2134994" data-claire-element-id="2352009">Après cette longue introduction plutôt abstraite, lançons-nous et essayons d'utiliser un filtre pour répondre à notre problème : mettre en place une restriction d'accès sur un groupe de pages. C'est probablement l'utilisation la plus classique du filtre dans une application web !</p><p id="r-2134995" data-claire-element-id="2352010">Dans notre cas, nous allons nous en servir pour vérifier la présence d'un utilisateur dans la session :</p><ul id="r-2135000" data-claire-element-id="2352015"><li id="r-2134997" data-claire-element-id="2352012"><p id="r-2134996" data-claire-element-id="2352011">s'il est présent, notre filtre laissera la requête poursuivre son cheminement jusqu'à la page souhaitée ;</p></li><li id="r-2134999" data-claire-element-id="2352014"><p id="r-2134998" data-claire-element-id="2352013">s'il n'existe pas, notre filtre redirigera l'utilisateur vers la page publique.</p></li></ul><p id="r-2135001" data-claire-element-id="2352016">Pour cela, nous allons commencer par créer un répertoire nommé <strong>restreint</strong> que nous allons placer à la racine de notre projet, dans lequel nous allons déplacer le fichier <strong>accesRestreint.jsp</strong> et y placer les deux fichiers suivants :</p><pre id="r-2135002" data-claire-element-id="2837819"><code data-claire-semantic="jsp">&lt;%@ page pageEncoding=&quot;UTF-8&quot; %&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;meta charset=&quot;utf-8&quot; /&gt;
        &lt;title&gt;Accès restreint 2&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;p&gt;Vous êtes connecté(e) avec l'adresse ${sessionScope.sessionUtilisateur.email}, vous avez bien accès à l'espace restreint numéro 2.&lt;/p&gt;
    &lt;/body&gt;
&lt;/html&gt;</code></pre><pre id="r-2135003" data-claire-element-id="2837820"><code data-claire-semantic="jsp">&lt;%@ page pageEncoding=&quot;UTF-8&quot; %&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;meta charset=&quot;utf-8&quot; /&gt;
        &lt;title&gt;Accès restreint 3&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;p&gt;Vous êtes connecté(e) avec l'adresse ${sessionScope.sessionUtilisateur.email}, vous avez bien accès à l'espace restreint numéro 3.&lt;/p&gt;
    &lt;/body&gt;
&lt;/html&gt;</code></pre><p id="r-2135004" data-claire-element-id="2352019">Voici à la figure suivante un aperçu de l’arborescence que vous devez alors obtenir.</p><figure id="r-2135007" data-claire-element-id="3312376"><img id="r-2135005" data-claire-element-id="2352020" src="../../../user.oc-static.com/files/380001_381000/380731.png" alt="Arborescence sous Eclipse." /><figcaption>Arborescence sous Eclipse.</figcaption></figure><p id="r-2135008" data-claire-element-id="2352023">C'est de ce répertoire <strong>restreint</strong> que nous allons limiter l'accès aux utilisateurs connectés. Souvenez-vous bien du point suivant : pour le moment, nos pages JSP n'étant pas situées sous le répertoire <strong>/WEB-INF</strong>, elles sont accessibles au public directement depuis leurs URL respectives. Par exemple, vous pouvez vous rendre sur <a href="http://localhost:8080/pro/restreint/accesRestreint.jsp">http://localhost:8080/pro/restreint/accesRestreint.jsp</a> même sans être connectés, le seul problème que vous rencontrerez est l'absence de l'adresse email dans le message affiché.</p><aside id="r-2135010" data-claire-element-id="2352025" data-claire-semantic="warning"><p id="r-2135009" data-claire-element-id="2352024">Supprimez ensuite la servlet <strong>Restriction</strong> que nous avions développée en début de chapitre, ainsi que sa déclaration dans le fichier web.xml : elle nous est dorénavant inutile.</p></aside><p id="r-2135011" data-claire-element-id="2352026">Nous pouvons maintenant créer notre filtre. Je vous propose de le placer dans un nouveau package <code>com.sdzee.filters</code>, et de le nommer <strong>RestrictionFilter</strong>. Voyez à la figure suivante comment procéder après un <kbd>Ctrl</kbd> + <kbd>N</kbd> sous Eclipse.</p><figure id="r-2135014" data-claire-element-id="3312378"><img id="r-2135012" data-claire-element-id="2352027" src="../../../user.oc-static.com/files/380001_381000/380729.png" alt="Création d'un filtre." /><figcaption>Création d'un filtre.</figcaption></figure><p id="r-2135015" data-claire-element-id="2352030">Remplacez alors le code généré automatiquement par Eclipse par le code suivant :</p><pre id="r-2135016" data-claire-element-id="2837825"><code data-claire-semantic="java">package com.sdzee.filters;

import java.io.IOException;

import javax.servlet.Filter;
import javax.servlet.FilterChain;
import javax.servlet.FilterConfig;
import javax.servlet.ServletException;
import javax.servlet.ServletRequest;
import javax.servlet.ServletResponse;

public class RestrictionFilter implements Filter {
    public void init( FilterConfig config ) throws ServletException {
    }

    public void doFilter( ServletRequest req, ServletResponse resp, FilterChain chain ) throws IOException,
            ServletException {
    }

    public void destroy() {
    }
}</code></pre><p id="r-2135017" data-claire-element-id="2352032">Rien de fondamental n'a changé par rapport à la version générée par Eclipse, j'ai simplement retiré les commentaires et renommé les arguments des méthodes pour que le code de notre filtre soit plus lisible par la suite.</p><p id="r-2135018" data-claire-element-id="2352033">Comme vous le savez, c'est dans la méthode <code>doFilter()</code> que nous allons réaliser notre vérification. Puisque nous avons déjà développé cette fonctionnalité dans une servlet en début de chapitre, il nous suffit de reprendre son code et de l'adapter un peu :</p><pre id="r-2135019" data-claire-element-id="2837826"><code data-claire-semantic="java">package com.sdzee.filters;

import java.io.IOException;

import javax.servlet.Filter;
import javax.servlet.FilterChain;
import javax.servlet.FilterConfig;
import javax.servlet.ServletException;
import javax.servlet.ServletRequest;
import javax.servlet.ServletResponse;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;

public class RestrictionFilter implements Filter {
    public static final String ACCES_PUBLIC     = &quot;/accesPublic.jsp&quot;;
    public static final String ATT_SESSION_USER = &quot;sessionUtilisateur&quot;;

    public void init( FilterConfig config ) throws ServletException {
    }

    public void doFilter( ServletRequest req, ServletResponse res, FilterChain chain ) throws IOException,
            ServletException {
        /* Cast des objets request et response */
        HttpServletRequest request = (HttpServletRequest) req;
        HttpServletResponse response = (HttpServletResponse) res;

        /* Récupération de la session depuis la requête */
        HttpSession session = request.getSession();

        /**
         * Si l'objet utilisateur n'existe pas dans la session en cours, alors
         * l'utilisateur n'est pas connecté.
         */
        if ( session.getAttribute( ATT_SESSION_USER ) == null ) {
            /* Redirection vers la page publique */
            response.sendRedirect( request.getContextPath() + ACCES_PUBLIC );
        } else {
            /* Affichage de la page restreinte */
            chain.doFilter( request, response );
        }
    }

    public void destroy() {
    }
}</code></pre><p id="r-2135020" data-claire-element-id="2352035">Quelques explications s'imposent.</p><ul id="r-2135025" data-claire-element-id="2352040"><li id="r-2135022" data-claire-element-id="2352037"><p id="r-2135021" data-claire-element-id="2352036">Aux lignes 25 et 26, vous constatez que nous convertissons les objets transmis en arguments à notre méthode <code>doFilter()</code>. La raison en est simple : comme je vous l'ai déjà dit, il n'existe pas de classe fille implémentant l'interface <code>Filter</code>, alors que côté servlet nous avons bien <code>HttpServlet</code> qui implémente <code>Servlet</code>. Ce qui signifie que notre filtre n'est pas spécialisé, il implémente uniquement <code>Filter</code> et peut traiter n'importe quel type de requête et pas seulement les requêtes HTTP. C'est donc pour cela que nous devons manuellement spécialiser nos objets, en effectuant un <em>cast</em> vers les objets dédiés aux requêtes et réponses HTTP : c'est seulement en procédant à cette conversion que nous aurons accès ensuite à la session, qui est propre à l'objet <code>HttpServletRequest</code>, et n'existe pas dans l'objet <code>ServletRequest</code>.</p></li><li id="r-2135024" data-claire-element-id="2352039"><p id="r-2135023" data-claire-element-id="2352038">À la ligne 40, nous avons remplacé le <em>forwarding</em> auparavant en place dans notre servlet par un appel à la méthode <code><a href="http://docs.oracle.com/javaee/6/api/javax/servlet/FilterChain.html#doFilter%28javax.servlet.ServletRequest,%20javax.servlet.ServletResponse%29">doFilter()</a></code> de l'objet <code>FilterChain</code>. Celle-ci a en effet une particularité intéressante : si un autre filtre existe après le filtre courant dans la chaîne, alors c'est vers ce filtre que la requête va être transmise. Par contre, si aucun autre filtre n'est présent ou si le filtre courant est le dernier de la chaîne, alors c'est vers la ressource initialement demandée que la requête va être acheminée. En l'occurrence, nous n'avons qu'un seul filtre en place, notre requête sera donc logiquement transmise à la page demandée.</p></li></ul><p id="r-2135026" data-claire-element-id="2352041">Pour mettre en scène notre filtre, il nous faut enfin le déclarer dans le fichier web.xml de notre application :</p><pre id="r-2135027" data-claire-element-id="2837827"><code data-claire-semantic="xml">...

&lt;filter&gt;
	&lt;filter-name&gt;RestrictionFilter&lt;/filter-name&gt;
	&lt;filter-class&gt;com.sdzee.filters.RestrictionFilter&lt;/filter-class&gt;
&lt;/filter&gt;
&lt;filter-mapping&gt;
	&lt;filter-name&gt;RestrictionFilter&lt;/filter-name&gt;
	&lt;url-pattern&gt;/restreint/*&lt;/url-pattern&gt;
&lt;/filter-mapping&gt;

...</code></pre><p id="r-2135028" data-claire-element-id="2352043">À la ligne 9, vous pouvez remarquer l'url-pattern précisé : le caractère <kbd>*</kbd> signifie que notre filtre va être appliqué à toutes les pages présentes sous le répertoire <strong>/restreint</strong>.</p><p id="r-2135029" data-claire-element-id="2352044">Redémarrez ensuite Tomcat pour que les modifications effectuées soient prises en compte, puis suivez ce scénario de tests :</p><ol id="r-2135042" data-claire-element-id="2352057"><li id="r-2135031" data-claire-element-id="2352046"><p id="r-2135030" data-claire-element-id="2352045">essayez d'accéder à la page <a href="http://localhost:8080/pro/restreint/accesRestreint.jsp">http://localhost:8080/pro/restreint/accesRestreint.jsp</a>, et constatez la redirection vers la page publique ;</p></li><li id="r-2135033" data-claire-element-id="2352048"><p id="r-2135032" data-claire-element-id="2352047">rendez-vous sur la page de connexion et connectez-vous avec des informations valides ;</p></li><li id="r-2135035" data-claire-element-id="2352050"><p id="r-2135034" data-claire-element-id="2352049">essayez à nouveau d'accéder à la page <a href="http://localhost:8080/pro/restreint/accesRestreint.jsp">http://localhost:8080/pro/restreint/accesRestreint.jsp</a>, et constatez le succès de l'opération ;</p></li><li id="r-2135037" data-claire-element-id="2352052"><p id="r-2135036" data-claire-element-id="2352051">essayez alors d'accéder aux pages <strong>accesRestreint2.jsp</strong> et <strong>accesRestreint3.jsp</strong>, et constatez là encore le succès de l'opération ;</p></li><li id="r-2135039" data-claire-element-id="2352054"><p id="r-2135038" data-claire-element-id="2352053">rendez-vous sur la page de déconnexion ;</p></li><li id="r-2135041" data-claire-element-id="2352056"><p id="r-2135040" data-claire-element-id="2352055">puis tentez alors d'accéder à la page <a href="http://localhost:8080/pro/restreint/accesRestreint.jsp">http://localhost:8080/pro/restreint/accesRestreint.jsp</a> et constatez cette fois l'échec de l'opération.</p></li></ol><p id="r-2135043" data-claire-element-id="2352058">Notre problème est bel et bien réglé ! Nous sommes maintenant capables de bloquer l'accès à un ensemble de pages avec une simple vérification dans un unique filtre : nous n'avons pas besoin de dupliquer le contrôle effectué dans des servlets appliquées à chacune des pages !</p><h4 id="r-2135128" data-claire-element-id="3312393">Restreindre l'application entière</h4><p id="r-2135045" data-claire-element-id="2352060">Avant de nous quitter, regardons brièvement comment forcer l'utilisateur à se connecter pour accéder à notre application. Ce principe est par exemple souvent utilisé sur les intranets d'entreprise, où la connexion est généralement obligatoire dès l'entrée sur le site.</p><p id="r-2135046" data-claire-element-id="2352061">La première chose à faire, c'est de modifier la portée d'application du filtre. Puisque nous souhaitons couvrir l'intégralité des requêtes entrantes, il suffit d'utiliser le caractère <kbd>*</kbd> appliqué à la racine. La déclaration de notre filtre devient donc :</p><pre id="r-2135047" data-claire-element-id="2837829"><code data-claire-semantic="xml">&lt;filter&gt;
        &lt;filter-name&gt;RestrictionFilter&lt;/filter-name&gt;
        &lt;filter-class&gt;com.sdzee.filters.RestrictionFilter&lt;/filter-class&gt;
&lt;/filter&gt;
&lt;filter-mapping&gt;
        &lt;filter-name&gt;RestrictionFilter&lt;/filter-name&gt;
        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;
&lt;/filter-mapping&gt;</code></pre><p id="r-2135048" data-claire-element-id="2352063">Redémarrez Tomcat pour que la modification soit prise en compte.</p><p id="r-2135049" data-claire-element-id="2352064">Maintenant, vous devez réfléchir à ce que nous venons de mettre en place : nous avons ordonné à notre filtre de bloquer toutes les requêtes entrantes si l'utilisateur n'est pas connecté. Le problème, c'est que si nous ne changeons pas le code de notre filtre, alors l'utilisateur ne pourra jamais accéder à notre site !</p><div id="r-2135051" data-claire-element-id="2352066" data-claire-semantic="question"><p id="r-2135050" data-claire-element-id="2352065">Pourquoi ? Notre filtre le redirigera vers la page <strong>accesPublic.jsp</strong> comme il le faisait dans le cas de la restriction d'accès au répertoire <strong>restreint</strong>, non ?</p></div><p id="r-2135052" data-claire-element-id="2352067">Eh bien non, plus maintenant ! La méthode de redirection que nous avons mise en place va bien être appelée, mais comme vous le savez elle va déclencher un échange HTTP, c'est-à-dire un aller-retour avec le navigateur du client. Le client va donc renvoyer automatiquement une requête, qui va à son tour être interceptée par notre filtre. Le client n'étant toujours pas connecté, le même phénomène va se reproduire, etc. Si vous y tenez, vous pouvez essayer : vous verrez alors votre navigateur vous avertir que la page que vous essayez de contacter pose problème. Voici aux figures suivantes les messages affichés respectivement par Chrome et Firefox.</p><figure id="r-2135055" data-claire-element-id="3312381"><img id="r-2135053" data-claire-element-id="2352068" src="../../../user.oc-static.com/files/380001_381000/380932.png" alt="Échec de la restriction" /><figcaption>Échec de la restriction</figcaption></figure><figure id="r-2135058" data-claire-element-id="3312383"><img id="r-2135056" data-claire-element-id="2352071" src="../../../user.oc-static.com/files/380001_381000/380933.png" alt="Échec de la restriction" /><figcaption>Échec de la restriction</figcaption></figure><p id="r-2135059" data-claire-element-id="2352074">La solution est simple :</p><ol id="r-2135064" data-claire-element-id="2352079"><li id="r-2135061" data-claire-element-id="2352076"><p id="r-2135060" data-claire-element-id="2352075">il faut envoyer l'utilisateur vers la page de connexion, et non plus vers la page <strong>accesPublic.jsp</strong> ;</p></li><li id="r-2135063" data-claire-element-id="2352078"><p id="r-2135062" data-claire-element-id="2352077">il faut effectuer non plus une redirection HTTP mais un <em>forwarding</em>, afin qu'aucun nouvel échange HTTP n'ait lieu et que la demande aboutisse.</p></li></ol><p id="r-2135065" data-claire-element-id="2352080">Voici ce que devient le code de notre filtre, les changements intervenant aux lignes 16 et 37 :</p><pre id="r-2135066" data-claire-element-id="2837834"><code data-claire-semantic="java">package com.sdzee.filters;

import java.io.IOException;

import javax.servlet.Filter;
import javax.servlet.FilterChain;
import javax.servlet.FilterConfig;
import javax.servlet.ServletException;
import javax.servlet.ServletRequest;
import javax.servlet.ServletResponse;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;

public class RestrictionFilter implements Filter {
    public static final String ACCES_CONNEXION  = &quot;/connexion&quot;;
    public static final String ATT_SESSION_USER = &quot;sessionUtilisateur&quot;;

    public void init( FilterConfig config ) throws ServletException {
    }

    public void doFilter( ServletRequest req, ServletResponse res, FilterChain chain ) throws IOException,
            ServletException {
        /* Cast des objets request et response */
        HttpServletRequest request = (HttpServletRequest) req;
        HttpServletResponse response = (HttpServletResponse) res;

        /* Récupération de la session depuis la requête */
        HttpSession session = request.getSession();

        /**
         * Si l'objet utilisateur n'existe pas dans la session en cours, alors
         * l'utilisateur n'est pas connecté.
         */
        if ( session.getAttribute( ATT_SESSION_USER ) == null ) {
            /* Redirection vers la page publique */
            request.getRequestDispatcher( ACCES_CONNEXION ).forward( request, response );
        } else {
            /* Affichage de la page restreinte */
            chain.doFilter( request, response );
        }
    }

    public void destroy() {
    }
}</code></pre><p id="r-2135067" data-claire-element-id="3312384">C'est tout pour le moment. Tentez alors d'accéder à la page <a href="http://localhost:8080/pro/restreint/accesRestreint.jsp">http://localhost:8080/pro/restreint/accesRestreint.jsp</a>, vous obtiendrez le formulaire affiché à la figure suivante.</p><figure id="r-2135070" data-claire-element-id="3312386"><img id="r-2135068" data-claire-element-id="2352083" src="../../../user.oc-static.com/files/380001_381000/380934.png" alt="Ratage du CSS" /><figcaption>Ratage du CSS</figcaption></figure><p id="r-2135071" data-claire-element-id="2352086">Vous pouvez alors constater que notre solution fonctionne : l'utilisateur est maintenant bien redirigé vers la page de connexion. Oui, mais...</p><div id="r-2135073" data-claire-element-id="2352088" data-claire-semantic="question"><p id="r-2135072" data-claire-element-id="2352087">Où est passé le design de notre page ?!</p></div><p id="r-2135074" data-claire-element-id="2352089">Eh bien la réponse est simple : il a été bloqué ! En réalité lorsque vous accédez à une page web sur laquelle est attachée une feuille de style CSS, votre navigateur va, dans les coulisses, envoyer une deuxième requête au serveur pour récupérer silencieusement cette feuille et ensuite appliquer les styles au contenu HTML. Et vous pouvez le deviner, cette seconde requête a bien évidemment été bloquée par notre superfiltre ! :D</p><div id="r-2135076" data-claire-element-id="2352091" data-claire-semantic="question"><p id="r-2135075" data-claire-element-id="2352090">Comment régler ce problème ?</p></div><p id="r-2135077" data-claire-element-id="2352092">Il y a plusieurs solutions envisageables. Voici les deux plus courantes :</p><ul id="r-2135082" data-claire-element-id="2352097"><li id="r-2135079" data-claire-element-id="2352094"><p id="r-2135078" data-claire-element-id="2352093">ne plus appliquer le filtre à la racine de l'application, mais seulement sur des répertoires ou pages en particulier, en prenant soin d'éviter de restreindre l'accès à notre page CSS ;</p></li><li id="r-2135081" data-claire-element-id="2352096"><p id="r-2135080" data-claire-element-id="2352095">continuer à appliquer le filtre sur toute l'application, mais déplacer notre feuille de style dans un répertoire, et ajouter un passe-droit au sein de la méthode <code>doFilter()</code> du filtre.</p></li></ul><p id="r-2135083" data-claire-element-id="2352098">Je vais vous expliquer cette seconde méthode. Une bonne pratique d'organisation consiste en effet à placer sous un répertoire commun toutes les ressources destinées à être incluses, afin de permettre un traitement simplifié. Par &quot;ressources incluses&quot;, on entend généralement les feuilles de style CSS, les feuilles Javascript ou encore les images, bref tout ce qui est susceptible d'être inclus dans une page HTML ou une page JSP.</p><p id="r-2135084" data-claire-element-id="2352099">Pour commencer, créez donc un répertoire nommé <strong>inc</strong> sous la racine de votre application et placez-y le fichier CSS, comme indiqué à la figure suivante.</p><figure id="r-2135087" data-claire-element-id="3312388"><img id="r-2135085" data-claire-element-id="2352100" src="../../../user.oc-static.com/files/380001_381000/380936.png" alt="Image utilisateur" /></figure><p id="r-2135088" data-claire-element-id="2352103">Puisque nous venons de déplacer le fichier, nous devons également modifier son appel dans la page de connexion :</p><pre id="r-2135089" data-claire-element-id="2837839"><code data-claire-semantic="jsp">&lt;!-- Dans le fichier connexion.jsp, remplacez l'appel suivant : --&gt;
&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;form.css&quot; /&gt;

&lt;!-- Par celui-ci : --&gt;
&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;inc/form.css&quot; /&gt;</code></pre><p id="r-2135090" data-claire-element-id="2352105">Pour terminer, nous devons réaliser dans la méthode <code>doFilter()</code> de notre filtre ce fameux passe-droit sur le dossier <strong>inc</strong> :</p><pre id="r-2135091" data-claire-element-id="2837840"><code data-claire-semantic="java">package com.sdzee.filters;

import java.io.IOException;

import javax.servlet.Filter;
import javax.servlet.FilterChain;
import javax.servlet.FilterConfig;
import javax.servlet.ServletException;
import javax.servlet.ServletRequest;
import javax.servlet.ServletResponse;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;

public class RestrictionFilter implements Filter {
    public static final String ACCES_CONNEXION  = &quot;/connexion&quot;;
    public static final String ATT_SESSION_USER = &quot;sessionUtilisateur&quot;;

    public void init( FilterConfig config ) throws ServletException {
    }

    public void doFilter( ServletRequest req, ServletResponse res, FilterChain chain ) throws IOException,
            ServletException {
        /* Cast des objets request et response */
        HttpServletRequest request = (HttpServletRequest) req;
        HttpServletResponse response = (HttpServletResponse) res;

        /* Non-filtrage des ressources statiques */
        String chemin = request.getRequestURI().substring( request.getContextPath().length() );
        if ( chemin.startsWith( &quot;/inc&quot; ) ) {
            chain.doFilter( request, response );
            return;
        }

        /* Récupération de la session depuis la requête */
        HttpSession session = request.getSession();

        /**
         * Si l'objet utilisateur n'existe pas dans la session en cours, alors
         * l'utilisateur n'est pas connecté.
         */
        if ( session.getAttribute( ATT_SESSION_USER ) == null ) {
            /* Redirection vers la page publique */
            request.getRequestDispatcher( ACCES_CONNEXION ).forward( request, response );
        } else {
            /* Affichage de la page restreinte */
            chain.doFilter( request, response );
        }
    }

    public void destroy() {
    }
}</code></pre><p id="r-2135092" data-claire-element-id="2352107">Explications :</p><ul id="r-2135099" data-claire-element-id="2352114"><li id="r-2135094" data-claire-element-id="2352109"><p id="r-2135093" data-claire-element-id="2352108">à la ligne 29, nous récupérons l'URL d'appel de la requête HTTP via la méthode <code><a href="http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html#getRequestURI%28%29">getRequestURI()</a></code>, puis nous plaçons dans la chaîne <strong>chemin</strong> sa partie finale, c'est-à-dire la partie située après le contexte de l'application. Typiquement, dans notre cas si nous nous rendons sur <a href="http://localhost:8080/pro/restreint/accesRestreint.jsp">http://localhost:8080/pro/restreint/accesRestreint.jsp</a>, la méthode <code>getRequestURI()</code> va renvoyer /pro/restreint/accesRestreint.jsp et <strong>chemin</strong> va contenir uniquement <strong>/restreint/accesRestreint.jsp</strong> ;</p></li><li id="r-2135096" data-claire-element-id="2352111"><p id="r-2135095" data-claire-element-id="2352110">à la ligne 30, nous testons si cette chaîne <strong>chemin</strong> commence par <strong>/inc</strong> : si c'est le cas, cela signifie que la page demandée est une des ressources statiques que nous avons placées sous le répertoire <strong>inc</strong>, et qu'il ne faut donc pas lui appliquer le filtre !</p></li><li id="r-2135098" data-claire-element-id="2352113"><p id="r-2135097" data-claire-element-id="2352112">à la ligne 31, nous laissons la requête poursuivre son cheminement en appelant la méthode <code>doFilter()</code> de la chaîne.</p></li></ul><p id="r-2135100" data-claire-element-id="2352115">Faites les modifications, enregistrez et tentez d'accéder à la page <a href="http://localhost:8080/pro/connexion">http://localhost:8080/pro/connexion</a>. Observez la figure suivante.</p><figure id="r-2135103" data-claire-element-id="3312390"><img id="r-2135101" data-claire-element-id="2352116" src="../../../user.oc-static.com/files/380001_381000/380965.png" alt="Image utilisateur" /></figure><p id="r-2135104" data-claire-element-id="2352119">Le résultat est parfait, ça fonctionne ! Oui, mais...</p><div id="r-2135106" data-claire-element-id="2352121" data-claire-semantic="question"><p id="r-2135105" data-claire-element-id="2352120">Quoi encore ? Il n'y a plus de problème, toute l'application fonctionne maintenant !</p></div><p id="r-2135107" data-claire-element-id="2352122">Toute ? Non ! Un irréductible souci résiste encore et toujours... Par exemple, rendez-vous maintenant sur la page <a href="http://localhost:8080/pro/restreint/accesRestreint.jsp">http://localhost:8080/pro/restreint/accesRestreint.jsp</a>.</p><div id="r-2135109" data-claire-element-id="2352124" data-claire-semantic="question"><p id="r-2135108" data-claire-element-id="2352123">Pourquoi la feuille de style n'est-elle pas appliquée à notre formulaire de connexion dans ce cas ?</p></div><p id="r-2135110" data-claire-element-id="2352125">Eh bien cette fois, c'est à cause du <em>forwarding</em> que nous avons mis en place dans notre filtre ! Eh oui, souvenez-vous : le <em>forwarding</em> ne modifie pas l'URL côté client, comme vous pouvez d'ailleurs le voir dans votre dernière fenêtre. Cela veut dire que le navigateur du client reçoit bien le formulaire de connexion, mais ne sait pas que c'est la page <strong>/connexion.jsp</strong> qui le lui a renvoyé, il croit qu'il s'agit tout bonnement du retour de la page demandée, c'est-à-dire <strong>/restreint/accesRestreint.jsp</strong>.</p><p id="r-2135111" data-claire-element-id="2352126">De ce fait, lorsqu'il va silencieusement envoyer une requête au serveur pour récupérer la feuille CSS associée à la page de connexion, le navigateur va naïvement se baser sur l'URL qu'il a en mémoire pour interpréter l'appel suivant :</p><pre id="r-2135112" data-claire-element-id="2837843"><code data-claire-semantic="jsp">&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;inc/form.css&quot; /&gt;</code></pre><p id="r-2135113" data-claire-element-id="2352128">En conséquence, il va considérer que l'URL relative &quot;inc/form.css&quot; se rapporte au répertoire qu'il pense être le répertoire courant, à savoir <strong>/restreint</strong> (puisque pour lui, le formulaire a été affiché par <strong>/restreint/accesRestreint.jsp</strong>). Ainsi, le navigateur va demander au serveur de lui renvoyer la page <strong>/restreint/inc/forms.css</strong>, alors que cette page n'existe pas ! Voilà pourquoi le design de notre formulaire semble avoir disparu.</p><p id="r-2135114" data-claire-element-id="2352129">Pour régler ce problème, nous n'allons ni toucher au filtre ni au <em>forwarding</em>, mais nous allons tirer parti de la JSTL pour modifier la page <strong>connexion.jsp</strong> :</p><pre id="r-2135115" data-claire-element-id="2837844"><code data-claire-semantic="jsp">&lt;!-- Dans le fichier connexion.jsp, remplacez l'appel suivant : --&gt;
&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;inc/form.css&quot; /&gt;

&lt;!-- Par celui-ci : --&gt;
&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;&lt;c:url value=&quot;/inc/form.css&quot;/&gt;&quot; /&gt;</code></pre><p id="r-2135116" data-claire-element-id="2352131">Vous vous souvenez de ce que je vous avais expliqué à propos de la balise <code>&lt;c:url&gt;</code> ? Je vous avais dit qu'elle ajoutait automatiquement le contexte de l'application aux URL absolues qu'elle contenait. C'est exactement ce que nous souhaitons : dans ce cas, le rendu de la balise sera <strong>/pro/inc/form.css</strong>. Le navigateur reconnaîtra ici une URL absolue et non plus une URL relative comme c'était le cas auparavant, et il réalisera correctement l'appel au fichier CSS !</p><div id="r-2135118" data-claire-element-id="2352133" data-claire-semantic="question"><p id="r-2135117" data-claire-element-id="2352132">Dans ce cas, pourquoi ne pas avoir directement écrit l'URL absolue &quot;/pro/inc/form.css&quot; dans l'appel ? Pourquoi s'embêter avec <code>&lt;c:url&gt;</code> ?</p></div><p id="r-2135119" data-claire-element-id="2352134">Pour la même raison que nous avions utilisé <code>request.getContextPath()</code> dans la servlet que nous avions développée en première partie de ce chapitre. Si demain nous décidons de changer le nom du contexte, notre page fonctionnera toujours avec la balise <code>&lt;c:url&gt;</code>, alors qu'il faudra éditer et modifier l'URL absolue entrée à la main sinon. J'espère que cette fois, vous avez bien compris ! ;)</p><p id="r-2135120" data-claire-element-id="2352135">Une fois la modification effectuée, voici le résultat (voir la figure suivante).</p><figure id="r-2135123" data-claire-element-id="3312392"><img id="r-2135121" data-claire-element-id="2352136" src="../../../user.oc-static.com/files/380001_381000/380935.png" alt="Image utilisateur" /></figure><p id="r-2135124" data-claire-element-id="2352139">Finalement, nous y sommes : tout fonctionne comme prévu !</p><aside id="r-2135126" data-claire-element-id="2352141" data-claire-semantic="warning"><p id="r-2135125" data-claire-element-id="2352140">Si je vous fais mettre en place une telle restriction, c'est uniquement pour vous faire découvrir le principe. Dans une vraie application, il faudra bien prendre garde à ne pas restreindre des pages dont l'accès est supposé être libre !</p></aside><p id="r-2135127" data-claire-element-id="2352142">Par exemple, dans votre projet il est dorénavant impossible pour un utilisateur de s'inscrire ! Eh oui, réflechissez-bien : puisque le filtre est en place, dès lors qu'un utilisateur non inscrit (et donc non connecté) tente d'accéder à la page d'inscription, il est automatiquement redirigé vers la page de connexion ! Devoir se connecter avant même de pouvoir s'inscrire, admettez qu'on a connu plus logique... :-° Pour régler le problème, il suffirait en l'occurrence d'ajouter une exception au filtre pour autoriser l'accès à la page d'inscription, tout comme nous l'avons fait pour le dossier <strong>/inc</strong>. Mais ce n'est pas sur cette correction en particulier que je souhaite insister, vous devez surtout bien réaliser que <strong>lorsque vous appliquez des filtres avec un spectre très large, voire intégral, alors vous devez faire très attention et bien réfléchir à tous les cas d'utilisation de votre application</strong>.</p><h4 id="r-2135132" data-claire-element-id="2837849">Désactiver le filtre</h4><p id="r-2135129" data-claire-element-id="2352144">Une fois vos développements et tests terminés, pour plus de commodité dans les exemples à suivre, je vous conseille de désactiver ce filtre. Pour cela, commentez simplement sa déclaration dans le fichier <strong>web.xml</strong> de votre application :</p><pre id="r-2135130" data-claire-element-id="2837848"><code data-claire-semantic="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;web-app&gt;
    ...

&lt;!--
    &lt;filter&gt;
        &lt;filter-name&gt;RestrictionFilter&lt;/filter-name&gt;
        &lt;filter-class&gt;com.sdzee.filters.RestrictionFilter&lt;/filter-class&gt;
    &lt;/filter&gt;
    &lt;filter-mapping&gt;
        &lt;filter-name&gt;RestrictionFilter&lt;/filter-name&gt;
        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;
    &lt;/filter-mapping&gt;
--&gt;

    ...
&lt;/web-app&gt;</code></pre><p id="r-2135131" data-claire-element-id="2352146">Il faudra redémarrer Tomcat pour que la modification soit prise en compte.</p><h4 id="r-2135139" data-claire-element-id="2837852">Modifier le mode de déclenchement d'un filtre</h4><p id="r-2135133" data-claire-element-id="2352148">Je vous ai implicitement fait comprendre à travers ces quelques exemples qu'un filtre était déclenché lors de la réception d'une requête HTTP uniquement. Eh bien sachez qu'il s'agit là d'un comportement par défaut ! En réalité, un filtre est tout à fait capable de s'appliquer à un <em>forwarding</em>, mais il faut pour cela modifier sa déclaration dans le fichier <strong>web.xml</strong> :</p><pre id="r-2135134" data-claire-element-id="2837850"><code data-claire-semantic="xml">&lt;filter&gt;
    &lt;filter-name&gt;RestrictionFilter&lt;/filter-name&gt;
    &lt;filter-class&gt;com.sdzee.filters.RestrictionFilter&lt;/filter-class&gt;
&lt;/filter&gt;
&lt;filter-mapping&gt;
    &lt;filter-name&gt;RestrictionFilter&lt;/filter-name&gt;
    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;
    &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;    
    &lt;dispatcher&gt;FORWARD&lt;/dispatcher&gt; 
&lt;/filter-mapping&gt;</code></pre><p id="r-2135135" data-claire-element-id="2352150">Il suffit, comme vous pouvez l'observer, de rajouter un champ <code>&lt;dispatcher&gt;</code> à la fin de la section <code>&lt;filter-mapping&gt;</code>.</p><p id="r-2135136" data-claire-element-id="2352151">De même, si dans votre projet vous mettez en place des inclusions et souhaitez leur appliquer un filtre, alors il faudra ajouter cette ligne à la déclaration du filtre :</p><pre id="r-2135137" data-claire-element-id="2837851"><code data-claire-semantic="xml">&lt;dispatcher&gt;INCLUDE&lt;/dispatcher&gt;</code></pre><p id="r-2135138" data-claire-element-id="2352153">Nous n'allons pas nous amuser à vérifier le bon fonctionnement de ces changements. Retenez simplement qu'il est bel et bien possible de filtrer les <em>forwardings</em> et inclusions en plus des requêtes directes entrantes, en modifiant au cas par cas les déclarations des filtres à appliquer. Enfin, n'oubliez pas que ces ajouts au fichier <strong>web.xml</strong> ne sont pris en compte qu'après un redémarrage du serveur.</p><h3 id="r-622892" data-claire-element-id="3312399">Retour sur l'encodage UTF-8</h3><p id="r-2135140" data-claire-element-id="2352156">Avant de passer à la suite, je souhaite vous faire découvrir un autre exemple d'utilisation d'un filtre. Vous ne l'avez peut-être pas encore remarqué, mais notre application ne sait toujours pas correctement gérer les caractères accentués, ni les caractères spéciaux et alphabets non latins...</p><div id="r-2135142" data-claire-element-id="2352158" data-claire-semantic="question"><p id="r-2135141" data-claire-element-id="2352157">Comment est-ce possible ? Nous avons déjà paramétré Eclipse et notre projet pour que tous nos fichiers soient encodés en UTF-8, il ne devrait plus y avoir de problème !</p></div><p id="r-2135143" data-claire-element-id="2352159">Je vous ai déjà expliqué, lorsque nous avons associé notre première servlet à une page JSP, que les problématiques d'encodage intervenaient à deux niveaux : côté navigateur et côté serveur. Eh bien en réalité, ce n'est pas si simple. Avec ce que nous avons mis en place, le navigateur est bien capable de déterminer l'encodage des données envoyées par le serveur, mais le serveur quant à lui est incapable de déterminer l'encodage des données envoyées par le client, lors d'une requête GET ou POST. Essayez dans votre formulaire d'inscription d'entrer un nom qui contient un accent, par exemple (voir la figure suivante).</p><figure id="r-2135146" data-claire-element-id="3312396"><img id="r-2135144" data-claire-element-id="2352160" src="../../../user.oc-static.com/files/399001_400000/399340.png" alt="Image utilisateur" /></figure><p id="r-2135147" data-claire-element-id="2352163">Si vous cliquez alors sur le bouton d'inscription, votre navigateur va envoyer une requête POST au serveur, qui va alors retourner le résultat affiché à la figure suivante.</p><figure id="r-2135150" data-claire-element-id="3312398"><img id="r-2135148" data-claire-element-id="2352164" src="../../../user.oc-static.com/files/399001_400000/399341.png" alt="Image utilisateur" /></figure><p id="r-2135151" data-claire-element-id="2352167">Vous devez ici reconnaître le problème que nous avions rencontrés à nos débuts ! Là encore, il s'agit d'une erreur d'interprétation : le serveur considère par défaut que les données qui lui sont transmises suivent l'encodage latin ISO-8859-1, alors qu'en réalité ce sont des données en UTF-8 qui sont envoyées, d'où les symboles bizarroïdes à nouveau observés...</p><div id="r-2135153" data-claire-element-id="2352169" data-claire-semantic="question"><p id="r-2135152" data-claire-element-id="2352168">Très bien, mais quel est le rapport avec nos filtres ?</p></div><p id="r-2135154" data-claire-element-id="2352170">Pour corriger ce comportement, il est nécessaire d'effectuer un appel à la méthode <code><a href="http://docs.oracle.com/javaee/6/api/javax/servlet/ServletRequest.html#setCharacterEncoding%28java.lang.String%29">setCharacterEncoding()</a></code> non plus depuis l'objet <code>HttpServletResponse</code> comme nous l'avions fait dans notre toute première servlet, mais depuis l'objet <code>HttpServletRequest</code> ! En effet, nous cherchons bien ici à préciser l'encodage des données de nos requêtes ; nous l'avons déjà appris, l'encodage des données de nos réponses est quant à lui assuré par la ligne placée en tête de chacune de nos pages JSP.</p><p id="r-2135155" data-claire-element-id="2352171">Ainsi, nous pourrions manuellement ajouter une ligne <code>request.setCharacterEncoding(&quot;UTF-8&quot;);</code> dans les méthodes <code>doPost()</code> de chacune de nos servlets, mais nous savons que dupliquer cet appel dans toutes nos servlets n'est pas pratique du tout. En outre, la documentation de la méthode précise qu'il faut absolument réaliser l'appel avant toute lecture de données, afin que l'encodage soit bien pris en compte par le serveur.</p><p id="r-2135156" data-claire-element-id="2352172">Voilà donc deux raisons parfaites pour mettre en place... un filtre ! C'est l'endroit idéal pour effectuer simplement cet appel à chaque requête reçue, et sur l'intégralité de l'application. Et puisque qu'une bonne nouvelle n'arrive jamais seule, il se trouve que nous n'avons même pas besoin de créer nous-mêmes ce filtre, Tomcat en propose déjà un nativement ! Il va donc nous suffire d'ajouter une déclaration dans le fichier <strong>web.xml</strong> de notre application pour que notre projet soit enfin capable de gérer correctement les requêtes POST qu'il traite :</p><pre id="r-2135157" data-claire-element-id="2837858"><code data-claire-semantic="xml">...

&lt;filter&gt;
    &lt;filter-name&gt;Set Character Encoding&lt;/filter-name&gt;
    &lt;filter-class&gt;org.apache.catalina.filters.SetCharacterEncodingFilter&lt;/filter-class&gt;
    &lt;init-param&gt;
        &lt;param-name&gt;encoding&lt;/param-name&gt;
        &lt;param-value&gt;UTF-8&lt;/param-value&gt;
    &lt;/init-param&gt;
    &lt;init-param&gt;
        &lt;param-name&gt;ignore&lt;/param-name&gt;
        &lt;param-value&gt;false&lt;/param-value&gt;
    &lt;/init-param&gt;
&lt;/filter&gt;
&lt;filter-mapping&gt;
    &lt;filter-name&gt;Set Character Encoding&lt;/filter-name&gt;
    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;
&lt;/filter-mapping&gt;

...</code></pre><p id="r-2135158" data-claire-element-id="2352174">Vous retrouvez la déclaration que vous avez apprise un peu plus tôt, via la balise <code>&lt;filter&gt;</code>. La seule nouveauté, c'est l'utilisation du filtre natif <code><a href="http://tomcat.apache.org/tomcat-7.0-doc/api/org/apache/catalina/filters/SetCharacterEncodingFilter.html">SetCharacterEncodingFilter</a></code> issu du package <code>org.apache.catalina.filters</code>. Comme vous pouvez le constater, celui-ci nécessite deux paramètres d’initialisation dont un nommé <strong>encoding</strong>, qui permet au développeur de spécifier l'encodage à utiliser. Je vous laisse parcourir la documentation du filtre pour plus d'informations. ;)</p><p id="r-2135159" data-claire-element-id="2352175">De même, vous retrouvez dans la section <code>&lt;filter-mapping&gt;</code> l'application du filtre au projet entier, grâce au caractère <kbd>*</kbd> appliqué à la racine.</p><p id="r-2135160" data-claire-element-id="2352176">Une fois les modifications effectuées, il vous suffit alors de redémarrer Tomcat et d'essayer à nouveau de saisir un nom accentué.<br /> Vous remarquez cette fois la bonne gestion du mot accentué, qui est ré-affiché correctement. Bien évidemment, cela vaut également pour tout caractère issu d'un alphabet non latin : votre application est désormais capable de traiter des données écrites en arabe, en chinois, en russe, etc.</p><ul id="r-2135178" data-claire-element-id="2352194"><li id="r-2135162" data-claire-element-id="2352178"><p id="r-2135161" data-claire-element-id="2352177">Le forwarding s'effectue sur le serveur de manière transparente pour le client, alors que la redirection implique un aller/retour chez le client.</p></li><li id="r-2135173" data-claire-element-id="2352189"><p id="r-2135163" data-claire-element-id="2352179">Un filtre ressemble à une servlet en de nombreux aspects :</p><ul id="r-2135172" data-claire-element-id="2352188"><li id="r-2135165" data-claire-element-id="2352181"><p id="r-2135164" data-claire-element-id="2352180">il agit sur le couple requête / réponse initié par le conteneur de servlets ;</p></li><li id="r-2135167" data-claire-element-id="2352183"><p id="r-2135166" data-claire-element-id="2352182">il se déclare dans le fichier web.xml via deux sections <code>&lt;filter&gt;</code> et <code>&lt;filter-mapping&gt;</code> ;</p></li><li id="r-2135169" data-claire-element-id="2352185"><p id="r-2135168" data-claire-element-id="2352184">il contient une méthode de traitement, nommée <code>doFilter()</code> ;</p></li><li id="r-2135171" data-claire-element-id="2352187"><p id="r-2135170" data-claire-element-id="2352186">il peut s'appliquer à un pattern d'URL comme à une page en particulier.</p></li></ul></li><li id="r-2135175" data-claire-element-id="2352191"><p id="r-2135174" data-claire-element-id="2352190">Plusieurs filtres sont applicables en cascade sur une même paire requête / réponse, dans l'ordre défini par leur déclaration dans le web.xml.</p></li><li id="r-2135177" data-claire-element-id="2352193"><p id="r-2135176" data-claire-element-id="2352192">La transition d'un filtre vers le maillon suivant de la chaîne s'effectue via un appel à la méthode <code>doFilter()</code> de l'objet <code>FilterChain</code>.</p></li></ul>

                <div class="js-courseSelementActions sideActions">
    <ul class="sideActions__container">
        <li>
            <a class="sideActions__item  js-courseElementActions-copyUrl  js-tooltip"
               href="#" data-tooltip="Copier le lien"
               data-tooltip-done="Lien copié !">
            #
            </a>
        </li>
    </ul>
</div>
            </div>

            
            <nav class="course-pagination    clearfix">

            <a href="la-session-connectez-vos-clients.html" class="oc-btn dark-btn course-pagination__btn course-pagination__btn--previous">
            <i class="icon-previous"></i>
            <span>La session : connectez vos clients</span>
        </a>
    
    <span class="course-pagination__separator"></span>

            <a href="le-cookie-le-navigateur-vous-ouvre-ses-portes.html" class="oc-btn dark-btn course-pagination__btn course-pagination__btn--next">
            <span>Le cookie : le navigateur vous ouvre ses portes</span>
            <i class="icon-next"></i>
        </a>
    
</nav>

            
<aside  tabindex="-1"
        role="dialog"
                    aria-labelledby="popin-view-restriction_popin_title"
                class="popin popin--illustrated  js-popin"
        id="popin-view-restriction"
>
    <i class="popin__close-button icon-close js-close-button"></i>

    <div class="popin__inner">
                    <div class="popin__illustrationWrapper">
                <div class="popin__illustration illustration--balloon"></div>
            </div>
        
        <div class="popin__mainContainer">
                            <h3 id="popin-view-restriction_popin_title" class="popin__title  js-popin-title">Waouh !</h3>
            
            
            
            <div class="popin__content  js-popin-content">
                <div class="popin__contentWrapper">
                                                <p>
            Très heureux de voir que nos cours vous plaisent, déjà 3 pages lues aujourd&#039;hui ! Vous pouvez continuer la lecture de nos cours en devenant un Roomie, un membre de la communauté d&#039;OpenClassrooms. C&#039;est gratuit !
        </p>
        <p>
            Vous pourrez aussi suivre votre avancement dans le cours, faire les exercices et discuter avec les autres Roomies.
        </p>
                    </div>
            </div>

                            <div class="popin__actions  js-popin-actions">
                                                                        <a class="oc-btn orange-alt-btn "  href="https://openclassrooms.com/register">S'inscrire</a>
                                                    <a class="oc-btn dark-btn "  href="https://openclassrooms.com/login">Se connecter</a>
                                                            </div>
            
                        
                    </div>
    </div>
</aside>

        </div>


    </section>
</div>
    </div>

    
    <div id="popin-not-certifying-yet"
     class="popin"
     data-popin-title="Vous ne pouvez pas encore obtenir de certificat de réussite à l&#039;issue de ce cours.
                            <a href='https://openclassrooms.com/premium'><i class='icon-star'></i> Devenez Premium</a>
                    ">
    <img alt="Exemple de certificat de réussite" src="../../../static.oc-static.com/prod/images/courses/certif.jpg"/>
</div>


                </main>

                <aside class="contentWithSidebar__sidebar  js-contentWithSidebar-slidingElement" >
                        <nav class="col-nav">
    <div id="tab-courseMenu" class="col-nav__inner js-sidebar-inner">
        <div class="col-nav__block  col-nav__block--summary">

            <div class="side-paginate">
                                    <a href="la-session-connectez-vos-clients.html" class="side-paginate__previous">
                        <i class="icon-previous"></i>
                    </a>

                    <span class="side-paginate__separator"></span>
                
                <h6 class="side-paginate__title">
                    Une application interactive !
                </h6>

                                    <span class="side-paginate__separator"></span>

                    <a href="le-cookie-le-navigateur-vous-ouvre-ses-portes.html" class="side-paginate__next">
                        <i class="icon-next"></i>
                    </a>
                            </div>

                            <div class="col-nav__block--summary-list">
                    <ol class="col-nav__chapters">
                                                    <li class="">
                                                                                                    <a class="col-nav__chapterTitle" href="formulaires-le-b-a-ba.html">Formulaires : le b.a.-ba</a>
                                                            </li>
                                                    <li class="">
                                                                                                    <a class="col-nav__chapterTitle" href="formulaires-a-la-mode-mvc.html">Formulaires : à la mode MVC</a>
                                                            </li>
                                                    <li class="">
                                                                                                    <a class="col-nav__chapterTitle" href="tp-fil-rouge-etape-3.html">TP Fil rouge - Étape 3</a>
                                                            </li>
                                                    <li class="">
                                                                                                    <a class="col-nav__chapterTitle" href="la-session-connectez-vos-clients.html">La session : connectez vos clients</a>
                                                            </li>
                                                    <li class="selected">
                                                                                                    <span class="col-nav__chapterTitle">Le filtre : créez un espace membre</span>
                                                            </li>
                                                    <li class="">
                                                                                                    <a class="col-nav__chapterTitle" href="le-cookie-le-navigateur-vous-ouvre-ses-portes.html">Le cookie : le navigateur vous ouvre ses portes</a>
                                                            </li>
                                                    <li class="">
                                                                                                    <a class="col-nav__chapterTitle" href="tp-fil-rouge-etape-4.html">TP Fil rouge - Étape 4</a>
                                                            </li>
                                                    <li class="">
                                                                                                    <a class="col-nav__chapterTitle" href="formulaires-l-envoi-de-fichiers.html">Formulaires : l&#039;envoi de fichiers</a>
                                                            </li>
                                                    <li class="">
                                                                                                    <a class="col-nav__chapterTitle" href="le-telechargement-de-fichiers.html">Le téléchargement de fichiers</a>
                                                            </li>
                                                    <li class="">
                                                                                                    <a class="col-nav__chapterTitle" href="tp-fil-rouge-etape-5.html">TP Fil rouge - Étape 5</a>
                                                            </li>
                                            </ol>

                                    </div>
                    </div>

        
        
            <div class="col-nav__block  col-nav__block--subscribe">
            <a href="https://openclassrooms.com/login" class="oc-btn orange-alt-btn js-popin-activator" data-popin-selector="#popin-log-in">
                <i class="icon-lock"></i>
                Suivre ce cours
            </a>

            <a href="https://openclassrooms.com/how-does-it-work">
                <small>Comment ça marche ?</small>
            </a>
        </div>
    


        
                    <div class="col-nav__block col-nav__block--institution">
    <h2>Créé par</h2>
            <a  href="https://openclassrooms.com/partners/openclassrooms" target="_blank">
            <img src="../../../sdz-upload.s3.amazonaws.com/prod/partners/img/logo_logo-oc.png" alt="logo OpenClassrooms" class="col-nav__institutionLogo"/>
            <p class="col-nav__block--institutionDescription">
                OpenClassrooms, 1ère plateforme  <span class='nowrap'>e-Education<span> en Europe
            </p>
        </a>
    </div>
        
        
        
    
                        
            
    <div class="socialNetwork col-nav__block">
        <ul class="socialButtons  js-socialButtons"
    data-options="
                title: 'Découvrez le cours &quot;Le filtre : créez un espace membre&quot; sur @OpenClassrooms',
        mailTitle: 'Cours &quot;Le filtre : créez un espace membre&quot; sur OpenClassrooms',
        mailContent: 'Découvrez le cours &quot;Le filtre : créez un espace membre&quot; sur OpenClassrooms.'">

    <li>
        <a class="roundIcon  roundIcon--twitter addthis_button_twitter  js-socialButtons-btn" data-tooltip="Partagez sur Twitter" >
            <i class="roundIcon__icon  icon-twitter"></i>
        </a>
    </li>

    <li>
        <a class="roundIcon  roundIcon--facebook  addthis_button_facebook  js-socialButtons-btn" data-tooltip="Partagez sur Facebook">
            <i class="roundIcon__icon  icon-facebook"></i>
        </a>
    </li>

    <li>
        <a class="roundIcon  roundIcon--googlePlus  addthis_button_google_plusone_share  js-socialButtons-btn" data-tooltip="Partagez sur Google+" >
            <i class="roundIcon__icon  icon-google"></i>
        </a>
    </li>

    <li>
        <a class="roundIcon  addthis_button_email  js-socialButtons-btn  js-socialButtons-email" data-tooltip="Partagez par e-mail">
            <i class="roundIcon__icon  icon-letter"></i>
        </a>
    </li>

</ul>

    </div>
    </div>
</nav>
                </aside>
            </div>
        </div>

                    <footer class="alt-section">
    <div class="centered">

        <div class="row">
                            <div class="col4 course-bottom__category">
                    <h2 class="highlighted">
                        L&#039;auteur
                    </h2>
                    <div>
                                                    <a itemprop="author" itemscope itemtype="http://schema.org/Person" href="https://openclassrooms.com/membres/coyote-92394" class="no-underlined">
                                <div class="course-bottom__text-illustrated">
                                    <span data-author="Médéric Munier" style="background-image: url(../../../www.gravatar.com/avatar/15c349ac5313535fba91e5dbfa8803ec/indexd6dc.html?s=256&amp;r=g&amp;d=https%3A%2F%2Fopenclassrooms.com%2Fbundles%2Fcommon%2Fimages%2Favatar_defaut.png);"></span>
                                    <h4 itemprop="name">Médéric Munier</h4>
                                                                            <p itemprop="description">
                                            Auteur du livre sur le Java EE.
                                        </p>
                                                                    </div>
                            </a>
                                            </div>
                </div>
            
                            <div class="col8 course-bottom__category">
                    <h2 class="highlighted">Découvrez aussi ce cours en...</h2>

                    <ul class="course-bottom__format">
                                                    <li>
                                <a
                                                                                    href="https://openclassrooms.com/ebooks/creez-votre-application-web-avec-java-ee" class="text-decoration-none"
                                                                        >
                                    <div class="circle circle--x-small">
                                        <span class="circle__content"></span>
                                        <i class="icon-ebook"></i>
                                                                                    <div class="ribbon ribbon--orange">
                                                <div class="ribbon__content">
                                                    <span>Premium</span>
                                                </div>
                                            </div>
                                                                            </div>
                                    <div class="course-bottom__format-entitled">eBook</div>
                                </a>
                            </li>
                                                    <li>
                                <a
                                                                                    href="http://www.eyrolles.com/Informatique/Livre/creez-des-applications-web-avec-java-ee-9791090085244?societe=openclassrooms" target="_blank" class="text-decoration-none"
                                                                        >
                                    <div class="circle circle--x-small">
                                        <span class="circle__content"></span>
                                        <i class="icon-book"></i>
                                                                            </div>
                                    <div class="course-bottom__format-entitled">Livre papier</div>
                                </a>
                            </li>
                                                    <li>
                                <a
                                                                                    href="https://openclassrooms.com/ebooks/creez-votre-application-web-avec-java-ee" class="text-decoration-none"
                                                                        >
                                    <div class="circle circle--x-small">
                                        <span class="circle__content"></span>
                                        <i class="icon-ebook pdf"></i>
                                                                                    <div class="ribbon ribbon--orange">
                                                <div class="ribbon__content">
                                                    <span>Premium</span>
                                                </div>
                                            </div>
                                                                            </div>
                                    <div class="course-bottom__format-entitled">PDF</div>
                                </a>
                            </li>
                                            </ul>
                </div>
                    </div>

    </div>
</footer>


    </article>
            </div>
        </div>

                    <footer class="footer">
    <div class="centered">
        <div class="row">

            <div class="col3 col6-s  footer__item  linksList  foldable  js-foldable" data-options="mobileOnly: true, disableOnLargeScreen: true, initialState: 'closed'">
                <h2 class="linksList__title  foldable__button  js-foldable-button">
                    OpenClassrooms
                    <i class="icon-next  foldable__icon"></i>
                </h2>

                <ul class="linksList__content foldable__content">
                    <li>
                        <a href="https://openclassrooms.com/about-us" class="footer__link">Qui sommes-nous ?</a>
                    </li>
                    <li>
                        <a href="https://openclassrooms.com/how-does-it-work" class="footer__link">Fonctionnement de nos cours</a>
                    </li>
                    <li>
                        <a href="https://openclassrooms.com/jobs" class="footer__link">Recrutement</a>
                    </li>
                    <li>
                        <a href="#" class="js-zendesk-show footer__link">Nous contacter</a>
                    </li>
                </ul>
            </div>

            <div class="col3 col6-s  footer__item  linksList  foldable  js-foldable" data-options="mobileOnly: true, disableOnLargeScreen: true, initialState: 'closed'">
                <h2 class="linksList__title  foldable__button  js-foldable-button">
                    Professionnels
                    <i class="icon-next  foldable__icon"></i>
                </h2>

                <ul class="linksList__content foldable__content">
                    <li>
                        <a href="https://openclassrooms.com/affiliation" class="footer__link">
                            Affiliation
                        </a>
                    </li>
                    <li>
                        <a href="https://openclassrooms.com/business" class="footer__link">Entreprises</a>
                    </li>
                    <li>
                        <a href="https://openclassrooms.com/universities" class="footer__link">Universités et écoles</a>
                    </li>
                </ul>
            </div>

            <div class="col3 col6-s  footer__item  linksList  foldable  js-foldable" data-options="mobileOnly: true, disableOnLargeScreen: true, initialState: 'closed'">
                <h2 class="linksList__title  foldable__button  js-foldable-button">
                    Participez
                    <i class="icon-next  foldable__icon"></i>
                </h2>

                <ul class="linksList__content foldable__content">
                    <li>
                        <a href="https://openclassrooms.com/new-teachers" class="footer__link">Créer un cours</a>
                    </li>
                    <li>
                        <a href="https://openclassrooms.com/courses/courselab" class="footer__link">CourseLab</a>
                    </li>
                    <li>
                        <a href="https://openclassrooms.com/terms-conditions/fr" class="footer__link">
                            <strong>Conditions Générales d&#039;Utilisation</strong>
                        </a>
                    </li>
                </ul>
            </div>

            <div class="col3 col6-s  footer__item  linksList  foldable  js-foldable" data-options="mobileOnly: true, disableOnLargeScreen: true, initialState: 'closed'">
                <h2 class="linksList__title  foldable__button  js-foldable-button">
                    Suivez-nous
                    <i class="icon-next  foldable__icon"></i>
                </h2>
                                                                    <ul class="linksList__content foldable__content">
                    <li>
                        <a href="http://blog.openclassrooms.com/" class="footer__link">Le blog OpenClassrooms</a>
                    </li>
                    <li>
                        <ul class="footer__socialNetwork">
                            <li>
                                <a href="https://www.facebook.com/openclassrooms" target="_blank" class="roundIcon roundIcon--facebook footer__socialButtons">
                                    <i class="icon-facebook roundIcon__icon"></i>
                                </a>
                            </li>
                            <li>
                                <a href="https://twitter.com/openclassrooms" target="_blank" class="roundIcon roundIcon--twitter footer__socialButtons">
                                    <i class="icon-twitter roundIcon__icon"></i>
                                </a>
                            </li>
                            <li>
                                <a href="https://plus.google.com/+OpenClassrooms/posts" target="_blank" class="roundIcon roundIcon--youtube footer__socialButtons">
                                    <i class="icon-google roundIcon__icon"></i>
                                </a>
                            </li>
                            <li>
                                <a href="http://instagram.com/openclassrooms" target="_blank" class="roundIcon roundIcon--instagram footer__socialButtons">
                                    <i class="icon-instagram roundIcon__icon"></i>
                                </a>
                            </li>
                            <li>
                                <a href="https://www.youtube.com/user/TheOpenClassrooms" target="_blank" class="roundIcon roundIcon--googlePlus footer__socialButtons">
                                    <i class="icon-youtube roundIcon__icon"></i>
                                </a>
                            </li>
                            <li>
                                <a href="https://www.linkedin.com/company/openclassrooms" target="_blank" class="roundIcon roundIcon--linkedin footer__socialButtons">
                                    <i class="icon-linkedin roundIcon__icon"></i>
                                </a>
                            </li>
                        </ul>
                    </li>
                </ul>

            </div>
        </div>
    </div>
</footer>
        
        <!-- loaded javascript block -->

            
            <script type="text/javascript" src="../../js/maind0b3.js?095b5b3"></script>

        

    <script type="text/javascript" src="../../js/oc/courseViewd0b3.js?095b5b3"></script>


        <!-- loaded javascript block -->

        <script type="text/javascript">
    window.analytics=window.analytics||[],window.analytics.methods=["identify","group","track","page","pageview","alias","ready","on","once","off","trackLink","trackForm","trackClick","trackSubmit"],window.analytics.factory=function(t){return function(){var a=Array.prototype.slice.call(arguments);return a.unshift(t),window.analytics.push(a),window.analytics}};for(var i=0;i<window.analytics.methods.length;i++){var key=window.analytics.methods[i];window.analytics[key]=window.analytics.factory(key)}window.analytics.load=function(t){if(!document.getElementById("analytics-js")){var a=document.createElement("script");a.type="text/javascript",a.id="analytics-js",a.async=!0,a.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.io/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n)}},window.analytics.SNIPPET_VERSION="2.0.9",
    window.analytics.load('mou95e6tdn');
</script>

                            
        <!-- inlined javascript block -->

        <script type="text/javascript">
            
            if (App.modules) {
                App.modules.startAll();
            }
        </script>

                        
    <script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"beacon":"bam.nr-data.net","licenseKey":"90dc06697a","applicationID":"20302107","transactionName":"NANaYkJXC0ICAhdYVw1Je0NDQgpcTA4AblsPB1FEVWkGXhYTEFRnEwdKQm9GBEMXPhVYXRQ=","queueTime":0,"applicationTime":475,"atts":"GERZFApNGEw=","errorBeacon":"bam.nr-data.net","agent":""}</script></body>

<!-- Mirrored from openclassrooms.com/courses/creez-votre-application-web-avec-java-ee/le-filtre-creez-un-espace-membre by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 06 Apr 2016 09:51:32 GMT -->
</html>
