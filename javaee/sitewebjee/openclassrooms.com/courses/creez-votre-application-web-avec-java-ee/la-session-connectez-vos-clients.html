


<!DOCTYPE html>
<html class="no-js" lang="fr" prefix="og: http://ogp.me/ns#">
    
<!-- Mirrored from openclassrooms.com/courses/creez-votre-application-web-avec-java-ee/la-session-connectez-vos-clients by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 06 Apr 2016 09:50:40 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
        <meta charset="utf-8" /><script type="text/javascript">window.NREUM||(NREUM={}),__nr_require=function(e,t,n){function r(n){if(!t[n]){var o=t[n]={exports:{}};e[n][0].call(o.exports,function(t){var o=e[n][1][t];return r(o||t)},o,o.exports)}return t[n].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<n.length;o++)r(n[o]);return r}({1:[function(e,t,n){function r(e,t){return function(){o(e,[(new Date).getTime()].concat(a(arguments)),null,t)}}var o=e("handle"),i=e(2),a=e(3);"undefined"==typeof window.newrelic&&(newrelic=NREUM);var u=["setPageViewName","addPageAction","setCustomAttribute","finished","addToTrace","inlineHit"],c=["addPageAction"],f="api-";i(u,function(e,t){newrelic[t]=r(f+t,"api")}),i(c,function(e,t){newrelic[t]=r(f+t)}),t.exports=newrelic,newrelic.noticeError=function(e){"string"==typeof e&&(e=new Error(e)),o("err",[e,(new Date).getTime()])}},{}],2:[function(e,t,n){function r(e,t){var n=[],r="",i=0;for(r in e)o.call(e,r)&&(n[i]=t(r,e[r]),i+=1);return n}var o=Object.prototype.hasOwnProperty;t.exports=r},{}],3:[function(e,t,n){function r(e,t,n){t||(t=0),"undefined"==typeof n&&(n=e?e.length:0);for(var r=-1,o=n-t||0,i=Array(0>o?0:o);++r<o;)i[r]=e[t+r];return i}t.exports=r},{}],ee:[function(e,t,n){function r(){}function o(e){function t(e){return e&&e instanceof r?e:e?u(e,a,i):i()}function n(n,r,o){e&&e(n,r,o);for(var i=t(o),a=l(n),u=a.length,c=0;u>c;c++)a[c].apply(i,r);var s=f[g[n]];return s&&s.push([m,n,r,i]),i}function p(e,t){w[e]=l(e).concat(t)}function l(e){return w[e]||[]}function d(e){return s[e]=s[e]||o(n)}function v(e,t){c(e,function(e,n){t=t||"feature",g[n]=t,t in f||(f[t]=[])})}var w={},g={},m={on:p,emit:n,get:d,listeners:l,context:t,buffer:v};return m}function i(){return new r}var a="nr@context",u=e("gos"),c=e(2),f={},s={},p=t.exports=o();p.backlog=f},{}],gos:[function(e,t,n){function r(e,t,n){if(o.call(e,t))return e[t];var r=n();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!1}),r}catch(i){}return e[t]=r,r}var o=Object.prototype.hasOwnProperty;t.exports=r},{}],handle:[function(e,t,n){function r(e,t,n,r){o.buffer([e],r),o.emit(e,t,n)}var o=e("ee").get("handle");t.exports=r,r.ee=o},{}],id:[function(e,t,n){function r(e){var t=typeof e;return!e||"object"!==t&&"function"!==t?-1:e===window?0:a(e,i,function(){return o++})}var o=1,i="nr@id",a=e("gos");t.exports=r},{}],loader:[function(e,t,n){function r(){if(!w++){var e=v.info=NREUM.info,t=s.getElementsByTagName("script")[0];if(e&&e.licenseKey&&e.applicationID&&t){c(l,function(t,n){e[t]||(e[t]=n)});var n="https"===p.split(":")[0]||e.sslForHttp;v.proto=n?"https://":"http://",u("mark",["onload",a()],null,"api");var r=s.createElement("script");r.src=v.proto+e.agent,t.parentNode.insertBefore(r,t)}}}function o(){"complete"===s.readyState&&i()}function i(){u("mark",["domContent",a()],null,"api")}function a(){return(new Date).getTime()}var u=e("handle"),c=e(2),f=window,s=f.document;NREUM.o={ST:setTimeout,CT:clearTimeout,XHR:f.XMLHttpRequest,REQ:f.Request,EV:f.Event,PR:f.Promise,MO:f.MutationObserver},e(1);var p=""+location,l={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-918.min.js"},d=window.XMLHttpRequest&&XMLHttpRequest.prototype&&XMLHttpRequest.prototype.addEventListener&&!/CriOS/.test(navigator.userAgent),v=t.exports={offset:a(),origin:p,features:{},xhrWrappable:d};s.addEventListener?(s.addEventListener("DOMContentLoaded",i,!1),f.addEventListener("load",r,!1)):(s.attachEvent("onreadystatechange",o),f.attachEvent("onload",r)),u("mark",["firstbyte",a()],null,"api");var w=0},{}]},{},["loader"]);</script>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
        <meta name="application-name" content="OpenClassrooms"/>
        <meta name="msapplication-TileColor" content="#e95325"/>
        <meta name="msapplication-TileImage" content="/fav-icon.png?v=1"/>

        <meta name="theme-color" content="#E95325">
        <link rel="icon" sizes="144x144" href="../../fav-icon3860.png?v=1">

        
        
        <link href="../../bundles/common/css/masterd0b3.css?095b5b3" type="text/css" rel="stylesheet" media="all"  />
        

        <link rel="apple-touch-icon" href="../../apple-touch-icon.png" />
        <link rel="apple-touch-icon" href="../../apple-touch-icon-iphone.png" />
        <link rel="apple-touch-icon" sizes="72x72" href="../../apple-touch-icon-ipad.png" />
        <link rel="apple-touch-icon" sizes="114x114" href="../../apple-touch-icon-iphone-retina-display.png" />
        <link rel="apple-touch-icon" sizes="144x144" href="../../apple-touch-icon-ipad-retina-display.png" />

        <link rel="apple-touch-icon-precomposed" href="../../apple-touch-icon-precomposed.png" />

            <link href="../../bundles/course/css/maind0b3.css?095b5b3" type="text/css" rel="stylesheet" media="all"/>

        <script type="text/javascript" src="../../js/modernizrd0b3.js?095b5b3"></script>

        <link rel="shortcut icon" href="https://openclassrooms.com/favicon.ico?095b5b3" />

            
    <meta property="og:locale" content="fr"/>
    <meta property="og:type" content="website"/>

    <meta property="og:title" content="Découvrez le cours &quot;La session : connectez vos clients&quot; sur @OpenClassrooms"/>
    <meta property="og:url" content="https://openclassrooms.com/courses/creez-votre-application-web-avec-java-ee/la-session-connectez-vos-clients"/>
    <meta property="og:site_name" content="OpenClassrooms"/>
    <meta property="og:image" content="https://static.oc-static.com/prod/courses/illustrations/illu_creez-votre-application-web-avec-java-ee.png"/>
    <meta property="og:description" content="Pour réaliser des sites web en Java, on utilise l&#039;environnement Java EE (anciennement appelé J2EE). Celui-ci impose de développer de façon très structurée, ce qui explique certainement pour quoi on le retrouve dans un très grand nombre d&#039;applications web notamment en entreprise (banques, administrations...)."/>

            
    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:site" content="@OpenClassrooms"/>
    <meta name="twitter:title" content="Découvrez le cours &quot;La session : connectez vos clients&quot; sur @OpenClassrooms"/>
    <meta name="twitter:description" content=""/>

                
        <title>La session : connectez vos clients</title>

        <!-- inlined top javascript block -->


        <script type="text/javascript">
            var App = {
                startTime: (new Date()).getTime(),
                debug: false
            };

            App.user = {
                
                
                
                isPremium: false
            };


            App.preferences = {
                assetVersion: '095b5b3',
                contactMail: 'hello@openclassrooms.com',
                adyenPublicKey: '10001|889EBFD4D434B82683E21DCA26E77C3E20E0EE09A5ECE3830B0ED51F2FA721A2F7E9EC871C6AB9A1E12C4492F4717673047757E02C5256D8E265CD51E413E5EFCCFEAC41B39C662A424ADC13EE187C38C372A7FCCEC1EA5DF841989437D78B252A8EB51008E60BB55B1E55A7A80DE1A9D60D998C128A576BFAE1DDB97D514AF0A073AEDDE84CEE40D1F8F6ECE85D0FFA50C95C06DB274021C1371376C6EB16561FD65C5E2704B570A7504D617D0F3820F176A0609F6162BDF5890533289FDC3DA7DB03B50BB3BD60A613E1FF72060F22987627E8F1A29F0128A94EC4C8FF7CF6B7AB9558D8433BF86D7A388AB927641CD6C02689139CEE3AAC9ACBFFE83806CB',
                algolia: {
                    appId: 'JGRXRFVQM0',
                    apiKey: 'dfbdea500cb0b5f46e449ad334916c44', indexName: 'prod_COURSES_fr'
                },
                routes: {
                    COURSE_EVENT: '/components/courses/:courseId',
                    COURSE_PART_EVENT: '/components/courses/:courseId/parts/:partId',

                    ACCEPT_COOKIE: '/components/user-accept-consent-cookie'
                }

                                            };

            App.preferences.navigationPreference = {
                            };

            App.preferences.modules = {
                'smiley': {
                    basePath: '/bundles/common/images/smiley/'
                }
            };
        </script>
        <!-- inlined top javascript block end -->

        <script>    App.preferences.modules['course/view/internalFolding'] = {
        isBigCourse: true
    };

    App.data = App.data || {};
App.data.currentCourse = {"partId":622596,"courseId":626954};
App.preferences.modules['view/currentCoursePage'] = App.data.currentCourse;

</script>

        
        
    </head>

    <body class="course oc-body ">

        

        
    
    
    <script id="_EVENTS-PAGE" type="application/json">
        {"type":"page"}
    </script>


        <!--[if lt IE 9]>
<div class="disclaimer  disclaimer-error">
    Vous utilisez un navigateur obsolète, veuillez le <a href="http://browsehappy.com/">mettre à jour</a>.
</div>
<![endif]-->

<noscript>
    <div class="disclaimer  disclaimer--error">
        Veuillez utiliser un <a href="http://browsehappy.com/">navigateur internet moderne</a> avec JavaScript activé pour naviguer sur OpenClassrooms.com
    </div>
</noscript>


                    

<header id="oc-header" class="js-tabs-mobile mainHeader ">

        <div class="disclaimer  disclaimer--info hidden  js-cookie-disclaimer">
        <div class="disclaimer__wrapper">
            <span class="disclaimer__content">Bienvenue sur OpenClassrooms ! En poursuivant votre navigation, vous acceptez l'utilisation de cookies. <a href="https://openclassrooms.com/privacy-policy#personal-data-gathering">En savoir plus</a></span>
            <span class="disclaimer__actions">
                <a href="#" class="disclaimer__button  js-close-button">ok</a>
            </span>
        </div>
    </div>

    <div class="mainHeader__wrapper">

        <div class="mainHeader__topLine">
                <a href="https://openclassrooms.com/pole-emploi/partenariat?utm_source=SiteWeb-OC&amp;utm_medium=Lien-PhraseHeader&amp;utm_campaign=relancePE"> Vous êtes demandeur d'emploi ? On vous offre le Premium Solo en 3 clics :) ! </a>

        </div>

        <div class="mainHeader__top">
            <a href="https://openclassrooms.com/" class="mainHeader__logo" title="OpenClassrooms.com">OpenClassrooms.com</a>

            
<nav role="navigation" class="icoTabs  mainHeader__tabSet">
    <span class="mainHeader__mobileNav">

        
        
        <a class="js-tabs-tab  icoTabs__tab  is-disabled" href="#tab-courseMenu">
            <span class="icoTabs__inner--mobileRightSeparator">
                <i class="icon-plus  icoTabs__icon"></i>
            </span>
        </a>

        <a class="js-tabs-tab  icoTabs__tab  is-disabled" href="#tab-courseEditMenu">
            <span class="icoTabs__inner--mobileRightSeparator">
                <i class="icon-plus  icoTabs__icon"></i>
            </span>
        </a>

        <a class="js-tabs-tab  icoTabs__tab  is-disabled" data-tabs-default="true" href="#tab-searchMenu">
            <span class="icoTabs__inner--mobileRightSeparator">
                <i class="icon-search  icoTabs__icon"></i>
            </span>
        </a>

        <a class="js-tabs-tab  icoTabs__tab" href="#tab-main">
            <i class="icon-menu  icoTabs__icon"></i>
        </a>
    </span>

</nav>
        </div>

                <div class="js-tabs-content  mainHeader__content"></div>

        <div class="mainHeader__content">
            <div id="tab-main" class="mainHeader__tabs">
                <nav class="mainTopNav  scrollPanel  js-scrollPanel-mobileMenu">
    <div class="mainTopNav__container  scrollPanel__container  js-scrollPanel-container">
        <ul class="mainHeader__container  mainHeader__container--mainMenu  js-scrollPanel-content">
            <li class="mainHeader__containerItem">
                <a class="mainTopNav__item" href="http://openclassrooms.com/paths/">Parcours</a>
            </li>
            <li class="mainHeader__containerItem">
                <a class="mainTopNav__item" href="https://openclassrooms.com/courses">Cours</a>
            </li>
            <li class="mainHeader__containerItem">
                <a class="mainTopNav__item" href="https://openclassrooms.com/forum/">Forums</a>
            </li>

            <li class="mainHeader__containerItem">
                <a class="mainTopNav__item" href="https://openclassrooms.com/partners">Partenaires</a>
            </li>

            <li class="mainHeader__containerItem">
                <a class="mainTopNav__item" href="https://openclassrooms.com/premium">Premium</a>
            </li>
        </ul>
    </div>
</nav>

                <div class="mainHeader__contentInner">
                    <div class="mainHeader__container  mainHeader__container--search">
                                                                                                                                                                            
                                                                          
 <div class="js-courseSearch  topSearchBox">
     <form tabindex="0" class="js-courseSearch-form  oc-form" action="https://openclassrooms.com/courses" method="get">
         <div class="js-courseSearch-inputGroup oc-form__widget  inputGroup  topSearchBox__inner">
             <input id="algolia-search-input"
                    type="search"
                    class="js-courseSearch-input oc-form__control inputGroup__input  topSearchBox__input"
                    title="Rechercher"
                    autocomplete="off"
                    data-option_source="/components/courses/search?q=<%= term %>"
                    placeholder="Rechercher"
                    name="q" />

             <button class="js-courseSearch-button  oc-btn dark-btn  only-icon  inputGroup__button  topSearchBox__button" type="submit" title="Rechercher un cours">
                 <i class="inputGroup__icon icon-search"></i>
                 <i class="inputGroup__icon inputGroup__icon--load icon-spinner icon-spin"></i>
             </button>
         </div>
     </form>
 </div>
                    </div>

                                            <div class="mainHeader__container  mainHeader__container--separatorLarge  hidden-s"></div>
                    


                    
                                            <div class="mainHeader__container  mainHeader__container--login">
    <a href="https://openclassrooms.com/register" class="oc-btn orange-alt-btn js-popin-activator space-right" data-popin-selector="#popin-sign-in">
    S&#039;inscrire
</a>
<a href="https://openclassrooms.com/login" class="oc-btn dark-btn js-popin-activator" data-popin-selector="#popin-log-in">
    Se connecter
</a>
</div>


<aside  tabindex="-1"
        role="dialog"
                    aria-labelledby="popin-sign-in_popin_title"
                class="popin popin--small  js-popin"
        id="popin-sign-in"
>
    <i class="popin__close-button icon-close js-close-button"></i>

    <div class="popin__inner">
        
        <div class="popin__mainContainer">
                            <h3 id="popin-sign-in_popin_title" class="popin__title  js-popin-title">Inscription</h3>
            
            
            
            <div class="popin__content  js-popin-content">
                <div class="popin__contentWrapper">
                                                <div class="formLogin formLogin--smallSize">
            
<ul class="table table--fullwidth u--noMargin">
    <li class="formLogin__column">
        <a class="facebook-btn oc-btn fullwidth formLogin__facebook" href="https://www.facebook.com/v2.3/dialog/oauth?client_id=277769842283905&amp;redirect_uri=https%3A%2F%2Fopenclassrooms.com%2Flogin_check_facebook&amp;state=6f19e98f566be0e58b6a52a5691ee9b5&amp;sdk=php-sdk-4.0.23&amp;scope=public_profile%2Cemail">
            <i class="icon-facebook"></i>S&#039;inscrire avec Facebook
        </a>
        <a class="google-btn oc-btn fullwidth formLogin__google" href="https://accounts.google.com/o/oauth2/auth?response_type=code&amp;redirect_uri=https%3A%2F%2Fopenclassrooms.com%2Flogin_check_google&amp;client_id=132418960718-jdnmpug3g9e6ub2p41ergcci1492qh82.apps.googleusercontent.com&amp;scope=https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fplus.me+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile&amp;access_type=online&amp;approval_prompt=auto">
            <i class="icon-google"></i>S&#039;inscrire avec Google
        </a>
    </li>

    <li class="formLogin__column">
        
            
    
    

    <form name="register" method="post" action="https://openclassrooms.com/register" class="js-registerForm oc-form">

        <div class="accessibility-hidden">
                <label class="oc-form__row    "><span class="oc-form__label-text ">
                            Wonder&nbsp;                        </span><span class="oc-form__widget"><input type="text" id="register_wonder" name="register[wonder]" class="" /></span></label>
        </div>

        <div class="oc-form__group oc-form--requiredHidden">
                <label class="oc-form__row    "><span class="oc-form__label-text ">
                            Prénom&nbsp;<abbr class="oc-form__required" title="requis"><span>*</span></abbr></span><span class="oc-form__widget"><input type="text" id="register_firstName" name="register[firstName]" required="required" autofocus="autofocus" class="" /></span></label>
        </div>

        <div class="oc-form__group oc-form--requiredHidden">
                <label class="oc-form__row    "><span class="oc-form__label-text ">
                            Nom&nbsp;<abbr class="oc-form__required" title="requis"><span>*</span></abbr></span><span class="oc-form__widget"><input type="text" id="register_lastName" name="register[lastName]" required="required" class="" /></span></label>
        </div>

        <div class="oc-form__group oc-form--requiredHidden">
                <label class="oc-form__row    "><span class="oc-form__label-text ">
                            Adresse email&nbsp;<abbr class="oc-form__required" title="requis"><span>*</span></abbr></span><span class="oc-form__widget"><input type="email" id="register_email" name="register[email]" required="required" class="" /></span></label>
            <p>
                <em>
                    Vous recevrez votre mot de passe sur cette adresse email.
                </em>
            </p>
        </div>

        <div class="oc-form__group oc-form--requiredHidden">
                <label class="oc-form__row  oc-form__row--reversed  "><span class="oc-form__widget"><span class="ocCheckbox"><input type="checkbox" id="register_terms" name="register[terms]" required="required" class="" value="1" /><span class="ocCheckbox__check"></span></span></span><span class="oc-form__label-text"><span class="oc-form__label-text ">
                            J'ai lu et j'accepte les <a href="https://openclassrooms.com/terms-conditions/fr">Conditions Générales d'Utilisation</a>.&nbsp;<abbr class="oc-form__required" title="requis"><span>*</span></abbr></span></span></label>
        </div>


        <div class="oc-form__group  center-text">
            
    <button type="submit" id="register_create" name="register[create]" class="oc-btn orange-alt-btn oc-btn"> S'inscrire</button>
        </div>

        <input type="hidden" id="register__target_path" name="register[_target_path]" value="https://openclassrooms.com/courses/creez-votre-application-web-avec-java-ee/la-session-connectez-vos-clients" /><input type="hidden" id="register__token" name="register[_token]" value="LEhsW-IhokD4hQHYoHva_FZzYy-PP2cG-886IBpx9HY" /></form>
    </li>
</ul>
        </div>
                    </div>
            </div>

            
                        
                    </div>
    </div>
</aside>



<aside  tabindex="-1"
        role="dialog"
                    aria-labelledby="popin-log-in_popin_title"
                class="popin popin--small  js-popin"
        id="popin-log-in"
>
    <i class="popin__close-button icon-close js-close-button"></i>

    <div class="popin__inner">
        
        <div class="popin__mainContainer">
                            <h3 id="popin-log-in_popin_title" class="popin__title  js-popin-title">Connexion</h3>
            
            
            
            <div class="popin__content  js-popin-content">
                <div class="popin__contentWrapper">
                                                <div class="formLogin formLogin--smallSize">
            
<ul class="table table--fullwidth u--noMargin">
    <li class="formLogin__column">
        <a class="facebook-btn oc-btn fullwidth formLogin__facebook" href="https://www.facebook.com/v2.3/dialog/oauth?client_id=277769842283905&amp;redirect_uri=https%3A%2F%2Fopenclassrooms.com%2Flogin_check_facebook&amp;state=6f19e98f566be0e58b6a52a5691ee9b5&amp;sdk=php-sdk-4.0.23&amp;scope=public_profile%2Cemail"><i class="icon-facebook"></i> Se connecter avec Facebook</a>
        <a class="google-btn oc-btn fullwidth formLogin__google" href="https://accounts.google.com/o/oauth2/auth?response_type=code&amp;redirect_uri=https%3A%2F%2Fopenclassrooms.com%2Flogin_check_google&amp;client_id=132418960718-jdnmpug3g9e6ub2p41ergcci1492qh82.apps.googleusercontent.com&amp;scope=https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fplus.me+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile&amp;access_type=online&amp;approval_prompt=auto"><i class="icon-google"></i> Se connecter avec Google</a>
    </li>

    <li class="formLogin__column">

        
            
    
    

    <form name="" method="post" action="https://openclassrooms.com/login_check" class=" oc-form">

        <div class="oc-form__group oc-form--requiredHidden">
                <label class="oc-form__row    "><span class="oc-form__label-text ">
                            Adresse email ou nom d'utilisateur&nbsp;<abbr class="oc-form__required" title="requis"><span>*</span></abbr></span><span class="oc-form__widget"><input type="text" id="_username" name="_username" required="required" autofocus="autofocus" class="" /></span></label>
        </div>

        <div class="oc-form__group oc-form--requiredHidden">
                <label class="oc-form__row    "><span class="oc-form__label-text ">
                            Mot de passe&nbsp;<abbr class="oc-form__required" title="requis"><span>*</span></abbr></span><span class="oc-form__widget"><input type="password" id="_password" name="_password" required="required" class="" /></span></label>
        </div>

        <div class="oc-form__group">
                <label class="oc-form__row  oc-form__row--reversed  "><span class="oc-form__widget"><span class="ocCheckbox"><input type="checkbox" id="_remember_me" name="_remember_me" class="" value="1" checked="checked" /><span class="ocCheckbox__check"></span></span></span><span class="oc-form__label-text"><span class="oc-form__label-text ">
                            Se souvenir de moi&nbsp;                        </span></span></label>
        </div>

        <div class="oc-form__group right-text">
            <a href="https://openclassrooms.com/set-new-password">Mot de passe oublié</a>
        </div>

        <div class="oc-form__group  center-text">
            <input type="hidden" id="_target_path" name="_target_path" value="https://openclassrooms.com/courses/creez-votre-application-web-avec-java-ee/la-session-connectez-vos-clients" /><div>
    <button type="submit" id="login" name="login" class="orange-alt-btn oc-btn"> Se connecter</button></div><input type="hidden" id="_csrf_token" name="_csrf_token" value="WFIVlYEKEcL5v9hnQC1z3quXwgYs14KEFOLh1GUmi_I" />
        </div>

        </form>
    </li>
</ul>
<p class="text-center space-top">
    Pas encore membre ? <a href="https://openclassrooms.com/register">Inscrivez-vous gratuitement</a> en 30s.
</p>
        </div>
                    </div>
            </div>

            
                        
                    </div>
    </div>
</aside>
                    
                    <div class="mainHeader__container  mainHeader__container--langSelector">
                        <div class="js-popOut-header  popOut popOut--small  popOut--rightAlign" data-keep-it-mobile="true">
    <span class="js-popOut-button  popOut__button">
                    <a href="javascript:;" class="languageSelector__selected">Français</a>
            </span>
    <ul class="popOutList  popOut__content  popOutList--small">
                    <li class="popOutList__item">
                <a class="popOutList__link" href="https://openclassrooms.com/change-locale/en/wsADDEtTJgeOfRBlmygmpV2y0eneCLAuyYJYnverVSQ">English</a>
            </li>
                    <li class="popOutList__item">
                <a class="popOutList__link" href="https://openclassrooms.com/change-locale/es/wsADDEtTJgeOfRBlmygmpV2y0eneCLAuyYJYnverVSQ">Español</a>
            </li>
            </ul>
</div>

                    </div>
                </div>
            </div>

        </div>
    </div>
</header>

        
        <div id="mainSearch" class="centered search-content">
        </div>

        <div id="mainContentWithHeader">
            <div id="pre-main-part">
                
                                        <section class="inset no-padding">
        <div class="centered">

            <h6 class="accessibility-hidden">Fil d&#039;Ariane</h6>

            <nav class="breadcrumb">
                <ul class="breadcrumbtrail">
                                                                        <li class="home" itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
                                                                            <a href="https://openclassrooms.com/" itemprop="url">
                                <span itemprop="title">Accueil</span>
                            </a>
                                                                            <div class="arrow-right"></div>
                                                </li>
                                                                        <li itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
                                                                            <a href="https://openclassrooms.com/courses" itemprop="url">
                                <span itemprop="title">Cours</span>
                            </a>
                                                                            <div class="arrow-right"></div>
                                                </li>
                                                                        <li itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
                                                                            <a href="https://openclassrooms.com/courses/creez-votre-application-web-avec-java-ee?status=published" itemprop="url">
                                <span itemprop="title">Créez votre application web avec Java EE</span>
                            </a>
                                                                            <div class="arrow-right"></div>
                                                </li>
                                                                        <li class="current" itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
                                                                            La session : connectez vos clients
                                                                        </li>
                                    </ul>
            </nav>
        </div>
    </section>

                
                            </div>

            <div class="claire clearfix" >
                    <article itemscope itemtype="http://schema.org/Article">

                        
<header class="course-header" xmlns="http://www.w3.org/1999/html">
    <div class="centered"><div class="course-header__topPart"><div class="course-header__info"><a itemprop="url" href="https://openclassrooms.com/courses/creez-votre-application-web-avec-java-ee"><h1 data-course-title="Créez votre application web avec Java EE">Créez votre application web avec Java EE</h1></a><span class="course-header__updatedTime visible-l">Mis à jour le lundi 13 juillet 2015</span></div></div></div><div class="course-header__details-container"><div class="centered"><div class="row"><div class="col12"><div class="course-header__details  iconBar"><div class="course-header__detailsGroup  course-header__detailsGroup--formats iconBar__group"><ul data-option_popinselector="#popin-formats-availables" class="course-types iconBar__list js-course-formats-bar"><li class="iconBar__item  course-types__item  js-tooltip" title="Ce cours est visible gratuitement en ligne."><a href="https://openclassrooms.com/courses/creez-votre-application-web-avec-java-ee"><i class="icon-desktop  course-types__icon"></i><span class="course-header__format-current"></span></a></li><li class="iconBar__item  course-types__item iconBar__item--dimmed js-tooltip" title="Ce cours n&#039;est pas encore en vidéo."><span><i class="icon-video course-types__icon"></i></span></li><li class="iconBar__item  course-types__item  js-tooltip" title="Ce cours existe en livre papier."><a href="http://www.eyrolles.com/Informatique/Livre/creez-des-applications-web-avec-java-ee-9791090085244?societe=openclassrooms" target="_blank"><i class="icon-book  course-types__icon"></i></a></li><li class="iconBar__item  course-types__item  js-tooltip" title="Ce cours existe en eBook."><a href="https://openclassrooms.com/ebooks/creez-votre-application-web-avec-java-ee"><i class="icon-ebook  course-types__icon"></i></a></li><li class="iconBar__item  course-types__item iconBar__item--dimmed js-tooltip"
                                                                                            title="Vous ne pouvez pas encore obtenir de certificat de réussite à l&#039;issue de ce cours."
                                                                                ><a
                                                                                        ><i class="icon-badge  course-types__icon"></i></a></li><li class="iconBar__item  course-types__item iconBar__item--dimmed js-tooltip" title="Ce cours n&#039;est pas encore diplômant et ne vous permet pas d&#039;obtenir des crédits universitaires européens (ECTS)."><span><i class="icon-hat  course-types__icon"></i></span></li><li class="iconBar__item  course-types__item  js-tooltip" title="Vous pouvez être accompagné sur ce cours par un mentor dédié en visioconférence."><a  href="https://openclassrooms.com/premium#discover-premium-plus-offer" ><i class="icon-mentor  course-types__icon"></i></a></li></ul></div><div class="course-header__detailsGroup  course-header__detailsGroup--info  iconBar__group"><ul class="iconBar__list"><li class="iconBar__item"><i class="icon-duration iconBar__icon js-tooltip" title="Ce cours demande en moyenne 40 heures de travail pour être réussi."></i><span class="iconBar__label">40 heures</span></li><li class="iconBar__item"><i class="icon-level iconBar__icon"></i><span class="iconBar__label">
                                                                                                    Moyenne
                                                                                            </span></li></ul></div><div class="course-header__detailsGroup course-header__detailsGroup--licences iconBar__group"><a target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/2.0"><span class="iconBar__label">Licence</span><ul class="iconBar__list"><li class="iconBar__item"><i class="icon-cc iconBar__icon" title="CC"></i></li><li class="iconBar__item"><i class="icon-ccby iconBar__icon" title="BY"></i></li><li class="iconBar__item"><i class="icon-ccnc iconBar__icon" title="NC"></i></li><li class="iconBar__item"><i class="icon-ccsa iconBar__icon" title="SA"></i></li></ul></a></div></div></div></div></div></div>
    <div id="popin-formats-availables" class="popin popin--course-formats-availables">
        <i class="popin__close-button icon-close js-close-button"></i>

        <div class="course-types course-types--withSpace">
                            <a class="course-types__item" href="https://openclassrooms.com/courses/creez-votre-application-web-avec-java-ee">
                    <i class="icon-desktop course-types__icon"></i>
                </a>
            
            
                            <a class="course-types__item" href="http://www.eyrolles.com/Informatique/Livre/creez-des-applications-web-avec-java-ee-9791090085244?societe=openclassrooms">
                    <i class="icon-book course-types__icon"></i>
                </a>
            
                            <a class="course-types__item" href="https://openclassrooms.com/ebooks/creez-votre-application-web-avec-java-ee">
                    <i class="icon-ebook course-types__icon"></i>
                </a>
            
            
                                        <a class="course-types__item" href="https://openclassrooms.com/premium#discover-premium-plus-offer">
                    <i class="icon-mentor course-types__icon"></i>
                </a>
                    </div>

                    <p>Ce cours est visible <a href="https://openclassrooms.com/courses/creez-votre-application-web-avec-java-ee">gratuitement en ligne</a>.</p>
        
        
                    <p>
                Ce cours existe en livre papier.
            </p>
        
                    <p>Ce cours existe <a href="https://openclassrooms.com/ebooks/creez-votre-application-web-avec-java-ee">en eBook</a>.</p>
        
        
        
                    <p>
                Vous pouvez être <a href="https://openclassrooms.com/premium#discover-premium-plus-offer">accompagné et mentoré par un professeur particulier</a> par visioconférence sur ce cours.
            </p>
        
        <a class="oc-btn orange-alt-btn js-close-button" href="#">J&#039;ai tout compris !</a>
    </div>

    
</header>

    <div class="centered">
                            
        
            <div class="row">
        <div class="col12 col11-s">
                            <nav class="timeline">
        <div class="timeline__inner">

        <span class="timeline__iconContainer">
            <a href="https://openclassrooms.com/courses/creez-votre-application-web-avec-java-ee" title="Retour sur le sommaire du cours" class="roundIcon timeline__roundIcon">
                <i class="icon-home roundIcon__icon"></i>
            </a>
        </span>
            <div class="timeline__steps">
                
                    <span class="timeline__splitChapter"></span>

                                            
                                                        
                            <a
                                                                    href="introduction-au-java-ee.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Introduction au Java EE
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="le-java-ee-mis-a-nu.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Le Java EE mis à nu !
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="outils-et-environnement-de-developpement.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Outils et environnement de développement
                                </span>

                                                            </a>
                                            
                
                    <span class="timeline__splitChapter"></span>

                                            
                                                        
                            <a
                                                                    href="la-servlet.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    La servlet
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="servlet-avec-vue.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Servlet avec vue…
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="transmission-de-donnees.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Transmission de données
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="le-javabean.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Le JavaBean
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="la-technologie-jsp-1-2.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    La technologie JSP (1/2)
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="la-technologie-jsp-2-2.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    La technologie JSP (2/2)
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="des-problemes-de-vue.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Des problèmes de vue ?
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="tp-fil-rouge-etape-1.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    TP Fil rouge - Étape 1
                                </span>

                                                            </a>
                                            
                
                    <span class="timeline__splitChapter"></span>

                                            
                                                        
                            <a
                                                                    href="objectifs-et-configuration.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Objectifs et configuration
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="la-bibliotheque-core.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    La bibliothèque Core
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="jstl-core-exercice-d-application.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    JSTL core : exercice d&#039;application
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="la-bibliotheque-xml.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    La bibliothèque xml
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="jstl-xml-exercice-d-application.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    JSTL xml : exercice d&#039;application
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="faisons-le-point-2.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Faisons le point !
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="tp-fil-rouge-etape-2.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    TP Fil rouge - Étape 2
                                </span>

                                                            </a>
                                            
                
                    <span class="timeline__splitChapter"></span>

                                            
                                                        
                            <a
                                                                    href="formulaires-le-b-a-ba.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Formulaires : le b.a.-ba
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="formulaires-a-la-mode-mvc.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Formulaires : à la mode MVC
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="tp-fil-rouge-etape-3.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    TP Fil rouge - Étape 3
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="la-session-connectez-vos-clients.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    La session : connectez vos clients
                                </span>

                                                                    <span class="timeline__progressMarker"></span>
                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="le-filtre-creez-un-espace-membre.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Le filtre : créez un espace membre
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="le-cookie-le-navigateur-vous-ouvre-ses-portes.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Le cookie : le navigateur vous ouvre ses portes
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="tp-fil-rouge-etape-4.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    TP Fil rouge - Étape 4
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="formulaires-l-envoi-de-fichiers.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Formulaires : l&#039;envoi de fichiers
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="le-telechargement-de-fichiers.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Le téléchargement de fichiers
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="tp-fil-rouge-etape-5.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    TP Fil rouge - Étape 5
                                </span>

                                                            </a>
                                            
                
                    <span class="timeline__splitChapter"></span>

                                            
                                                        
                            <a
                                                                    href="introduction-a-mysql-et-jdbc.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Introduction à MySQL et JDBC
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="communiquez-avec-votre-bdd.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Communiquez avec votre BDD
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="le-modele-dao.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Le modèle DAO
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="tp-fil-rouge-etape-6.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    TP Fil rouge - Étape 6
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="gerer-un-pool-de-connexions-avec-bonecp.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Gérer un pool de connexions avec BoneCP
                                </span>

                                                            </a>
                                            
                
                    <span class="timeline__splitChapter"></span>

                                            
                                                        
                            <a
                                                                    href="les-annotations.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Les annotations
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="la-persistance-des-donnees-avec-jpa.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    La persistance des données avec JPA
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="tp-fil-rouge-etape-7.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    TP Fil rouge - Étape 7
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="introduction-aux-frameworks-mvc.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Introduction aux frameworks MVC
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="premiers-pas-avec-jsf.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Premiers pas avec JSF
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="la-gestion-d-un-formulaire-avec-jsf.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    La gestion d&#039;un formulaire avec JSF
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="l-envoi-de-fichiers-avec-jsf.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    L&#039;envoi de fichiers avec JSF
                                </span>

                                                            </a>
                                            
                
                    <span class="timeline__splitChapter"></span>

                                            
                                                        
                            <a
                                                                    href="debugger-un-projet.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Débugger un projet
                                </span>

                                                            </a>
                                                                    
                                                        
                            <a
                                                                    href="empaquetage-et-deploiement-d-un-projet.html" class="timeline__step"
                                                            >
                                <span class="timeline__stepName">
                                    Empaquetage et déploiement d&#039;un projet
                                </span>

                                                            </a>
                                            
                
                <span class="timeline__splitChapter"></span>

            </div>

        <span class="timeline__iconContainer">
                            <span title="Ce cours n&#039;est pas encore certifiant." class="roundIcon roundIcon--disabled">
                    <i class="icon-trophy roundIcon__icon"></i>
                </span>
                    </span>

        </div>
    </nav>
        </div>
    </div>
    </div>

        
        <div class="centered">
            <div class="contentWithSidebar  spacer  js-contentWithSidebar" >
                <main class="contentWithSidebar__content" >
                        

        <div class="relative js-sidebar-container">
        <div class="static">
    <h2 itemprop="name" data-part-title="La session : connectez vos clients" class="part-title">La session : connectez vos clients</h2>

    <section class="row space-bottom js-desktop-sticky-container">
        <div class="col9 col11-s col__small-padding--right">

                <div class="tooltipMessage tooltipMessage--noArrow">
        <i class="tooltipMessage__icon  icon-lock"></i>
        <a href="https://openclassrooms.com/login" class="js-popin-activator" data-popin-selector="#popin-log-in" >Connectez-vous</a> ou <a href="https://openclassrooms.com/register" class="js-popin-activator" data-popin-selector="#popin-sign-in" >inscrivez-vous</a> pour bénéficier de toutes les fonctionnalités de ce cours !
    </div>

            <div
                itemprop="articleBody"
                data-page-indentifier="/courses/creez-votre-application-web-avec-java-ee/la-session-connectez-vos-clients"
                class="js-isRestrictablePage course-content js-course-container js-smilize "

                                    data-video-blocked-wrapper="<a href='https://openclassrooms.com/login#popin-log-in' class='js-popin-activator'>"
                            >

                <p id="r-2134426" data-claire-element-id="2351433">Nous allons ici découvrir par l'exemple comment utiliser <strong>la session</strong>.</p><p id="r-2134427" data-claire-element-id="2351434">La situation que nous allons mettre en place est un système de connexion des utilisateurs. Nous allons grandement nous inspirer de ce que nous venons de faire dans le précédent chapitre avec notre système d'inscription, et allons directement appliquer les bonnes pratiques découvertes. Là encore, nous n'allons pas pouvoir mettre en place un système complet de A à Z, puisqu'il nous manque toujours la gestion des données. Mais ce n'est pas important : ce qui compte, c'est que vous tenez là une occasion de plus pour pratiquer la gestion des formulaires en suivant MVC !</p><h3 id="r-622137" data-claire-element-id="2837713">Le formulaire</h3><p id="r-2134428" data-claire-element-id="2351435">La première chose que nous allons mettre en place est le formulaire de connexion, autrement dit la vue. Cela ne va pas nous demander trop d'efforts : nous allons reprendre l'architecture de la page JSP que nous avons créée dans le chapitre précédent, et l'adapter à nos nouveaux besoins !</p><p id="r-2134429" data-claire-element-id="2351436">Voici le code de notre page <strong>connexion.jsp</strong>, à placer sous le répertoire <strong>/WEB-INF</strong> :</p><pre id="r-2134430" data-claire-element-id="2837712"><code data-claire-semantic="jsp">&lt;%@ page pageEncoding=&quot;UTF-8&quot; %&gt;
&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;meta charset=&quot;utf-8&quot; /&gt;
        &lt;title&gt;Connexion&lt;/title&gt;
        &lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;form.css&quot; /&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;form method=&quot;post&quot; action=&quot;connexion&quot;&gt;
            &lt;fieldset&gt;
                &lt;legend&gt;Connexion&lt;/legend&gt;
                &lt;p&gt;Vous pouvez vous connecter via ce formulaire.&lt;/p&gt;

                &lt;label for=&quot;nom&quot;&gt;Adresse email &lt;span class=&quot;requis&quot;&gt;*&lt;/span&gt;&lt;/label&gt;
                &lt;input type=&quot;email&quot; id=&quot;email&quot; name=&quot;email&quot; value=&quot;&lt;c:out value=&quot;${utilisateur.email}&quot;/&gt;&quot; size=&quot;20&quot; maxlength=&quot;60&quot; /&gt;
                &lt;span class=&quot;erreur&quot;&gt;${form.erreurs['email']}&lt;/span&gt;
                &lt;br /&gt;

                &lt;label for=&quot;motdepasse&quot;&gt;Mot de passe &lt;span class=&quot;requis&quot;&gt;*&lt;/span&gt;&lt;/label&gt;
                &lt;input type=&quot;password&quot; id=&quot;motdepasse&quot; name=&quot;motdepasse&quot; value=&quot;&quot; size=&quot;20&quot; maxlength=&quot;20&quot; /&gt;
                &lt;span class=&quot;erreur&quot;&gt;${form.erreurs['motdepasse']}&lt;/span&gt;
                &lt;br /&gt;

                &lt;input type=&quot;submit&quot; value=&quot;Connexion&quot; class=&quot;sansLabel&quot; /&gt;
                &lt;br /&gt;
                
                &lt;p class=&quot;${empty form.erreurs ? 'succes' : 'erreur'}&quot;&gt;${form.resultat}&lt;/p&gt;
            &lt;/fieldset&gt;
        &lt;/form&gt;
    &lt;/body&gt;
&lt;/html&gt;</code></pre><p id="r-2134431" data-claire-element-id="2351438">Nous reprenons la même architecture que pour le système d'inscription : notre JSP exploite un objet <strong>form</strong> contenant les éventuels messages d'erreur, et un objet <strong>utilisateur</strong> contenant les données saisies et validées.</p><p id="r-2134432" data-claire-element-id="2351439">Par ailleurs, nous réutilisons la même feuille de style.</p><h3 id="r-3053310" data-claire-element-id="4349005">Le principe de la session</h3><p id="r-2134433" data-claire-element-id="2351441">Avant d'aller plus loin, nous devons nous attarder un instant sur ce qu'est une session.</p><div id="r-2134435" data-claire-element-id="2351443" data-claire-semantic="question"><p id="r-2134434" data-claire-element-id="2351442">Pourquoi les sessions existent-elles ?</p></div><p id="r-2134436" data-claire-element-id="2351444">Notre application web est basée sur le protocole HTTP, qui est un protocole dit &quot;sans état&quot; : cela signifie que le serveur, une fois qu'il a envoyé une réponse à la requête d'un client, ne conserve pas les données le concernant. Autrement dit, le serveur traite les clients requête par requête et est absolument incapable de faire un rapprochement entre leur origine : pour lui, chaque nouvelle requête émane d'un nouveau client, puisqu'il oublie le client après l'envoi de chaque réponse... Oui, le serveur HTTP est un peu gâteux ! :-°</p><p id="r-2134437" data-claire-element-id="2351445">C'est pour pallier cette lacune que le concept de session a été créé : il permet au serveur de mémoriser des informations relatives au client, d'une requête à l'autre.</p><div id="r-2134439" data-claire-element-id="2351447" data-claire-semantic="question"><p id="r-2134438" data-claire-element-id="2351446">Qu'est-ce qu'une session en Java EE ?</p></div><p id="r-2134440" data-claire-element-id="2351448">Souvenez-vous : nous en avions déjà parlé dans <a href="http://www.siteduzero.com/tutoriel-3-285014-la-technologie-jsp-1-2.html#ss_part_3">ce paragraphe dédié à la portée des objets</a> ainsi que dans <a href="http://www.siteduzero.com/tutoriel-3-285009-la-bibliotheque-core.html#ss_part_1">ce chapitre sur la JSTL Core</a> :</p><ul id="r-2134449" data-claire-element-id="2351457"><li id="r-2134442" data-claire-element-id="2351450"><p id="r-2134441" data-claire-element-id="2351449">la session représente un espace mémoire alloué pour chaque utilisateur, permettant de sauvegarder des informations tout le long de leur visite ;</p></li><li id="r-2134444" data-claire-element-id="2351452"><p id="r-2134443" data-claire-element-id="2351451">le contenu d'une session est conservé jusqu'à ce que l'utilisateur ferme son navigateur, reste inactif trop longtemps, ou encore lorsqu'il se déconnecte du site ;</p></li><li id="r-2134446" data-claire-element-id="2351454"><p id="r-2134445" data-claire-element-id="2351453">l'objet Java sur lequel se base une session est l'objet <code><a href="http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpSession.html">HttpSession</a></code> ;</p></li><li id="r-2134448" data-claire-element-id="2351456"><p id="r-2134447" data-claire-element-id="2351455">il existe un objet implicite <strong>sessionScope</strong> permettant d'accéder directement au contenu de la session depuis une expression EL dans une page JSP.</p></li></ul><div id="r-2134451" data-claire-element-id="2351459" data-claire-semantic="question"><p id="r-2134450" data-claire-element-id="2351458">Comment manipuler cet objet depuis une servlet ?</p></div><p id="r-2134452" data-claire-element-id="2351460">Pour commencer, il faut le récupérer depuis l'objet <code>HttpServletRequest</code>. Cet objet propose en effet une méthode <code><a href="http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html#getSession%28%29">getSession()</a></code>, qui permet de récupérer la session associée à la requête HTTP en cours si elle existe, ou d'en créer une si elle n'existe pas encore :</p><pre id="r-2134453" data-claire-element-id="2837714"><code data-claire-semantic="java">HttpSession session = request.getSession();</code></pre><aside id="r-2134455" data-claire-element-id="2351463" data-claire-semantic="information"><p id="r-2134454" data-claire-element-id="2351462">Ainsi, tant que cette ligne de code n'a pas été appelée, la session n'existe pas !</p></aside><p id="r-2134456" data-claire-element-id="2351464">Ensuite, lorsque nous étudions attentivement <a href="http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpSession.html">la documentation</a> de cet objet, nous remarquons entre autres :</p><ul id="r-2134461" data-claire-element-id="2351469"><li id="r-2134458" data-claire-element-id="2351466"><p id="r-2134457" data-claire-element-id="2351465">qu'il propose un couple de méthodes <code><a href="http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpSession.html#setAttribute%28java.lang.String,%20java.lang.Object%29">setAttribute()</a></code> / <code><a href="http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpSession.html#getAttribute%28java.lang.String%29">getAttribute()</a></code>, permettant la mise en place d'objets au sein de la session et leur récupération, tout comme dans l'objet <code>HttpServletRequest</code> ;</p></li><li id="r-2134460" data-claire-element-id="2351468"><p id="r-2134459" data-claire-element-id="2351467">qu'il propose une méthode <code><a href="http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpSession.html#getId%28%29">getId()</a></code>, retournant un identifiant unique permettant de déterminer à qui appartient telle session.</p></li></ul><p id="r-2134462" data-claire-element-id="2351470">Nous savons donc maintenant qu'il nous suffit d'appeler le code suivant pour enregistrer un objet en session depuis notre servlet, puis le récupérer :</p><pre id="r-2134463" data-claire-element-id="2837715"><code data-claire-semantic="java">/* Création ou récupération de la session */
HttpSession session = request.getSession();

/* Mise en session d'une chaîne de caractères */
String exemple = &quot;abc&quot;;
session.setAttribute( &quot;chaine&quot;, exemple );

/* Récupération de l'objet depuis la session */
String chaine = (String) session.getAttribute( &quot;chaine&quot; );</code></pre><p id="r-2134464" data-claire-element-id="2351472">C'est tout ce que nous avons besoin de savoir pour le moment.</p><p id="r-2134465" data-claire-element-id="2351473">Observez sur la figure suivante l'enchaînement lors de la première visite d'un utilisateur sur une page ou servlet contenant un appel à <code>request.getSession()</code>.</p><figure id="r-3053307" data-claire-element-id="4349002"><img id="r-2134466" data-claire-element-id="2351474" src="../../../user.oc-static.com/files/383001_384000/383846.png" alt="Image utilisateur" /></figure><ol id="r-2134477" data-claire-element-id="2351485"><li id="r-2134470" data-claire-element-id="2351478"><p id="r-2134469" data-claire-element-id="2351477">le navigateur de l'utilisateur envoie une requête au serveur ;</p></li><li id="r-2134472" data-claire-element-id="2351480"><p id="r-2134471" data-claire-element-id="2351479">la servlet ne trouve aucune session existante lors de l'appel à <code>getSession()</code>, et crée donc un nouvel objet <code>HttpSession</code> qui contient un identifiant unique ;</p></li><li id="r-2134474" data-claire-element-id="2351482"><p id="r-2134473" data-claire-element-id="2351481">le serveur place automatiquement l'identifiant de l'objet session dans la réponse renvoyée au navigateur de l'utilisateur ;</p></li><li id="r-2134476" data-claire-element-id="2351484"><p id="r-2134475" data-claire-element-id="2351483">le navigateur enregistre l'identifiant que le serveur lui a envoyé.</p></li></ol><p id="r-2134478" data-claire-element-id="2351486">Observez alors à la figure suivante ce qui se passe lors des prochaines visites.</p><figure id="r-3053309" data-claire-element-id="4349004"><img id="r-2134479" data-claire-element-id="2351487" src="../../../user.oc-static.com/files/383001_384000/383847.png" alt="Image utilisateur" /></figure><ol id="r-2134488" data-claire-element-id="2351496"><li id="r-2134483" data-claire-element-id="2351491"><p id="r-2134482" data-claire-element-id="2351490">le navigateur place automatiquement l'identifiant enregistré dans la requête qu'il envoie au serveur ;</p></li><li id="r-2134485" data-claire-element-id="2351493"><p id="r-2134484" data-claire-element-id="2351492">la servlet retrouve la session associée à l'utilisateur lors de l'appel à <code>getSession()</code>, grâce à l'identifiant unique que le navigateur a placé dans la requête ;</p></li><li id="r-2134487" data-claire-element-id="2351495"><p id="r-2134486" data-claire-element-id="2351494">le serveur sait que le navigateur du client a déjà enregistré l'identifiant de la session courante, et renvoie donc une réponse classique à l'utilisateur : il sait qu'il n'est pas nécessaire de lui transmettre à nouveau l'identifiant !</p></li></ol><p id="r-2134489" data-claire-element-id="2351497">Vous avez maintenant tout en main pour comprendre comment l'établissement d'une session fonctionne. En ce qui concerne les rouages du système, chaque chose en son temps : dans la dernière partie de ce chapitre, nous analyserons comment tout cela s'organise dans les coulisses !</p><div id="r-2134491" data-claire-element-id="2351499" data-claire-semantic="question"><p id="r-2134490" data-claire-element-id="2351498">Très bien, nous avons compris comment ça marche. Maintenant dans notre cas, qu'avons-nous besoin d'enregistrer en session ?</p></div><p id="r-2134492" data-claire-element-id="2351500">En effet, c'est une très bonne question : qu'est-il intéressant et utile de stocker en session ? Rappelons-le, notre objectif est de connecter un utilisateur : nous souhaitons donc être capables de le reconnaître d'une requête à l'autre.</p><p id="r-2134493" data-claire-element-id="2351501">La première intuition qui nous vient à l'esprit, c'est naturellement de sauvegarder l'adresse mail et le mot de passe de l'utilisateur dans un objet, et de placer cet objet dans la session !</p><h3 id="r-622222" data-claire-element-id="3312027">Le modèle</h3><p id="r-2134494" data-claire-element-id="3312026">D'après ce que nous venons de déduire, nous pouvons nous inspirer de ce que nous avons créé dans le chapitre précédent. Il va nous falloir :</p><ul id="r-2134499" data-claire-element-id="2351508"><li id="r-2134496" data-claire-element-id="2351505"><p id="r-2134495" data-claire-element-id="2351504">un bean représentant un utilisateur, que nous placerons en session lors de la connexion ;</p></li><li id="r-2134498" data-claire-element-id="2351507"><p id="r-2134497" data-claire-element-id="2351506">un objet métier représentant le formulaire de connexion, pour traiter et valider les données et connecter l'utilisateur.</p></li></ul><p id="r-2134500" data-claire-element-id="2351509">En ce qui concerne l'utilisateur, nous n'avons besoin de rien de nouveau : nous disposons déjà du bean créé pour le système d'inscription ! Vous devez maintenant bien mieux saisir le caractère <strong>réutilisable</strong> du JavaBean, que je vous vantais dans <a href="http://www.siteduzero.com/tutoriel-3-285015-le-javabean.html">ce chapitre</a>.</p><p id="r-2134501" data-claire-element-id="2351510">En ce qui concerne le formulaire, là par contre nous allons devoir créer un nouvel objet métier. Eh oui, nous n'y coupons pas : pour chaque nouveau formulaire, nous allons devoir mettre en place un nouvel objet. Vous découvrez ici un des inconvénients majeurs de l'application de MVC dans une application Java EE uniquement basée sur le trio objets métier - servlets - pages JSP : il faut réécrire les méthodes de récupération, conversion et validation des paramètres de la requête HTTP à chaque nouvelle requête traitée !</p><aside id="r-2134503" data-claire-element-id="2351512" data-claire-semantic="information"><p id="r-2134502" data-claire-element-id="2351511">Plus loin dans ce cours, lorsque nous aurons acquis un bagage assez important pour nous lancer au-delà du Java EE &quot;nu&quot;, nous découvrirons comment les développeurs ont réussi à rendre ces étapes entièrement automatisées en utilisant un <strong>framework MVC</strong> pour construire leurs applications. En attendant, vous allez devoir faire preuve de patience et être assidus, nous avons encore du pain sur la planche !</p></aside><p id="r-2134504" data-claire-element-id="2351513">Nous devons donc créer un objet métier, que nous allons nommer <strong>ConnexionForm</strong> et qui va grandement s'inspirer de l'objet <strong>InscriptionForm</strong> :</p><pre id="r-2134505" data-claire-element-id="2837721"><code data-claire-semantic="java">package com.sdzee.forms;

import java.util.HashMap;
import java.util.Map;

import javax.servlet.http.HttpServletRequest;

import com.sdzee.beans.Utilisateur;

public final class ConnexionForm {
    private static final String CHAMP_EMAIL  = &quot;email&quot;;
    private static final String CHAMP_PASS   = &quot;motdepasse&quot;;

    private String              resultat;
    private Map&lt;String, String&gt; erreurs      = new HashMap&lt;String, String&gt;();

    public String getResultat() {
        return resultat;
    }

    public Map&lt;String, String&gt; getErreurs() {
        return erreurs;
    }

    public Utilisateur connecterUtilisateur( HttpServletRequest request ) {
        /* Récupération des champs du formulaire */
        String email = getValeurChamp( request, CHAMP_EMAIL );
        String motDePasse = getValeurChamp( request, CHAMP_PASS );

        Utilisateur utilisateur = new Utilisateur();

        /* Validation du champ email. */
        try {
            validationEmail( email );
        } catch ( Exception e ) {
            setErreur( CHAMP_EMAIL, e.getMessage() );
        }
        utilisateur.setEmail( email );

        /* Validation du champ mot de passe. */
        try {
            validationMotDePasse( motDePasse );
        } catch ( Exception e ) {
            setErreur( CHAMP_PASS, e.getMessage() );
        }
        utilisateur.setMotDePasse( motDePasse );

        /* Initialisation du résultat global de la validation. */
        if ( erreurs.isEmpty() ) {
            resultat = &quot;Succès de la connexion.&quot;;
        } else {
            resultat = &quot;Échec de la connexion.&quot;;
        }

        return utilisateur;
    }

    /**
     * Valide l'adresse email saisie.
     */
    private void validationEmail( String email ) throws Exception {
        if ( email != null &amp;&amp; !email.matches( &quot;([^.@]+)(\\.[^.@]+)*@([^.@]+\\.)+([^.@]+)&quot; ) ) {
            throw new Exception( &quot;Merci de saisir une adresse mail valide.&quot; );
        }
    }

    /**
     * Valide le mot de passe saisi.
     */
    private void validationMotDePasse( String motDePasse ) throws Exception {
        if ( motDePasse != null ) {
            if ( motDePasse.length() &lt; 3 ) {
                throw new Exception( &quot;Le mot de passe doit contenir au moins 3 caractères.&quot; );
            }
        } else {
            throw new Exception( &quot;Merci de saisir votre mot de passe.&quot; );
        }
    }

    /*
     * Ajoute un message correspondant au champ spécifié à la map des erreurs.
     */
    private void setErreur( String champ, String message ) {
        erreurs.put( champ, message );
    }

    /*
     * Méthode utilitaire qui retourne null si un champ est vide, et son contenu
     * sinon.
     */
    private static String getValeurChamp( HttpServletRequest request, String nomChamp ) {
        String valeur = request.getParameter( nomChamp );
        if ( valeur == null || valeur.trim().length() == 0 ) {
            return null;
        } else {
            return valeur;
        }
    }
}</code></pre><p id="r-2134506" data-claire-element-id="2351515">Nous retrouvons ici la même architecture que dans l'objet <strong>InscriptionForm</strong> :</p><ul id="r-2134515" data-claire-element-id="2351524"><li id="r-2134508" data-claire-element-id="2351517"><p id="r-2134507" data-claire-element-id="2351516">des constantes d'identification des champs du formulaire ;</p></li><li id="r-2134510" data-claire-element-id="2351519"><p id="r-2134509" data-claire-element-id="2351518">des méthodes de validation des champs ;</p></li><li id="r-2134512" data-claire-element-id="2351521"><p id="r-2134511" data-claire-element-id="2351520">une méthode de gestion des erreurs ;</p></li><li id="r-2134514" data-claire-element-id="2351523"><p id="r-2134513" data-claire-element-id="2351522">une méthode centrale, <code>connecterUtilisateur()</code>, qui fait intervenir les méthodes précédemment citées et renvoie un bean <strong>Utilisateur</strong>.</p></li></ul><h3 id="r-3053317" data-claire-element-id="4349012">La servlet</h3><p id="r-2134516" data-claire-element-id="2351526">Afin de rendre tout ce petit monde opérationnel, nous devons mettre en place une servlet dédiée à la connexion. Une fois n'est pas coutume, nous allons grandement nous inspirer de ce que nous avons créé dans les chapitres précédents. Voici donc le code de la servlet nommée <strong>Connexion</strong>, placée tout comme sa grande sœur dans le package <code>com.sdzee.servlets</code> :</p><pre id="r-2134517" data-claire-element-id="2837723"><code data-claire-semantic="java">package com.sdzee.servlets;

import java.io.IOException;

import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;

import com.sdzee.beans.Utilisateur;
import com.sdzee.forms.ConnexionForm;

public class Connexion extends HttpServlet {
    public static final String ATT_USER         = &quot;utilisateur&quot;;
    public static final String ATT_FORM         = &quot;form&quot;;
    public static final String ATT_SESSION_USER = &quot;sessionUtilisateur&quot;;
    public static final String VUE              = &quot;/WEB-INF/connexion.jsp&quot;;

    public void doGet( HttpServletRequest request, HttpServletResponse response ) throws ServletException, IOException {
        /* Affichage de la page de connexion */
        this.getServletContext().getRequestDispatcher( VUE ).forward( request, response );
    }

    public void doPost( HttpServletRequest request, HttpServletResponse response ) throws ServletException, IOException {
        /* Préparation de l'objet formulaire */
        ConnexionForm form = new ConnexionForm();

        /* Traitement de la requête et récupération du bean en résultant */
        Utilisateur utilisateur = form.connecterUtilisateur( request );

        /* Récupération de la session depuis la requête */
        HttpSession session = request.getSession();

        /**
         * Si aucune erreur de validation n'a eu lieu, alors ajout du bean
         * Utilisateur à la session, sinon suppression du bean de la session.
         */
        if ( form.getErreurs().isEmpty() ) {
            session.setAttribute( ATT_SESSION_USER, utilisateur );
        } else {
            session.setAttribute( ATT_SESSION_USER, null );
        }

        /* Stockage du formulaire et du bean dans l'objet request */
        request.setAttribute( ATT_FORM, form );
        request.setAttribute( ATT_USER, utilisateur );

        this.getServletContext().getRequestDispatcher( VUE ).forward( request, response );
    }
}</code></pre><p id="r-2134518" data-claire-element-id="2351528">Au niveau de la structure, rien de nouveau : la servlet joue bien un rôle d'aiguilleur, en appelant les traitements présents dans l'objet <strong>ConnexionForm</strong>, et en récupérant le bean <strong>utilisateur</strong>. Ce qui change cette fois, c'est bien entendu la gestion de la session :</p><ul id="r-2134523" data-claire-element-id="2351533"><li id="r-2134520" data-claire-element-id="2351530"><p id="r-2134519" data-claire-element-id="2351529">à la ligne 33, nous appelons la méthode <code>request.getSession()</code> pour créer une session ou récupérer la session existante ;</p></li><li id="r-2134522" data-claire-element-id="2351532"><p id="r-2134521" data-claire-element-id="2351531">dans le bloc <code>if</code> lignes 39 à 43, nous enregistrons le bean <strong>utilisateur</strong> en tant qu'attribut de session uniquement si aucune erreur de validation n'a été envoyée lors de l'exécution de la méthode <code>connecterUtilisateur()</code>. À partir du moment où une seule erreur est détectée, c'est-à-dire si <code>form.getErreurs().isEmpty()</code> renvoie <code>false</code>, alors le bean <strong>utilisateur</strong> est supprimé de la session, via un passage de l'attribut à <code>null</code>.</p></li></ul><p id="r-2134524" data-claire-element-id="2351534">Pour terminer, voici la configuration de cette servlet dans le fichier <strong>web.xml</strong> de l'application :</p><pre id="r-2134525" data-claire-element-id="2837724"><code data-claire-semantic="xml">...

&lt;servlet&gt;
	&lt;servlet-name&gt;Connexion&lt;/servlet-name&gt;
	&lt;servlet-class&gt;com.sdzee.servlets.Connexion&lt;/servlet-class&gt;
&lt;/servlet&gt;

...

&lt;servlet-mapping&gt;
	&lt;servlet-name&gt;Connexion&lt;/servlet-name&gt;
	&lt;url-pattern&gt;/connexion&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;

...</code></pre><p id="r-2134526" data-claire-element-id="2351536">Une fois tout ce code bien en place et votre serveur redémarré, vous pouvez accéder à la page de connexion via votre navigateur en vous rendant sur l'URL <a href="http://localhost:8080/pro/connexion">http://localhost:8080/pro/connexion</a>. À la figure suivante, le résultat attendu.</p><figure id="r-3053312" data-claire-element-id="4349007"><img id="r-2134527" data-claire-element-id="2351537" src="../../../user.oc-static.com/files/380001_381000/380394.png" alt="Formulaire de connexion" /><figcaption>Formulaire de connexion</figcaption></figure><p id="r-2134530" data-claire-element-id="2351540">Oui mais voilà, nous n'avons pas encore de moyen de tester le bon fonctionnement de ce semblant de système de connexion ! Et pour cause, les seuls messages que nous affichons dans notre vue, ce sont les résultats des vérifications du contenu des champs du formulaire... Aux figures suivantes, le résultat actuel respectivement lors d'un échec et d'un succès de la validation.</p><figure id="r-3053314" data-claire-element-id="4349009"><img id="r-2134531" data-claire-element-id="2351541" src="../../../user.oc-static.com/files/380001_381000/380395.png" alt="Échec de la connexion" /><figcaption>Échec de la connexion</figcaption></figure><figure id="r-3053316" data-claire-element-id="4349011"><img id="r-2134534" data-claire-element-id="2351544" src="../../../user.oc-static.com/files/380001_381000/380396.png" alt="Succès de la connexion" /><figcaption>Succès de la connexion</figcaption></figure><p id="r-2134537" data-claire-element-id="2351547">Ce qu'il serait maintenant intéressant de vérifier dans notre vue, c'est le contenu de la session. Et comme le hasard fait très bien les choses, je vous ai justement rappelé en début de chapitre qu'il existe un objet implicite nommé <strong>sessionScope</strong> dédié à l'accès au contenu de la session !</p><h3 id="r-3053333" data-claire-element-id="4349028">Les vérifications</h3><h4 id="r-3053324" data-claire-element-id="4349019">Test du formulaire de connexion</h4><p id="r-2134538" data-claire-element-id="2351549">Pour commencer, nous allons donc modifier notre page JSP afin d'afficher le contenu de la session :</p><pre id="r-2134539" data-claire-element-id="2837732"><code data-claire-semantic="jsp">&lt;%@ page pageEncoding=&quot;UTF-8&quot; %&gt;
&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;meta charset=&quot;utf-8&quot; /&gt;
        &lt;title&gt;Connexion&lt;/title&gt;
        &lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;form.css&quot; /&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;form method=&quot;post&quot; action=&quot;connexion&quot;&gt;
            &lt;fieldset&gt;
                &lt;legend&gt;Connexion&lt;/legend&gt;
                &lt;p&gt;Vous pouvez vous connecter via ce formulaire.&lt;/p&gt;

                &lt;label for=&quot;nom&quot;&gt;Adresse email &lt;span class=&quot;requis&quot;&gt;*&lt;/span&gt;&lt;/label&gt;
                &lt;input type=&quot;email&quot; id=&quot;email&quot; name=&quot;email&quot; value=&quot;&lt;c:out value=&quot;${utilisateur.email}&quot;/&gt;&quot; size=&quot;20&quot; maxlength=&quot;60&quot; /&gt;
                &lt;span class=&quot;erreur&quot;&gt;${form.erreurs['email']}&lt;/span&gt;
                

                &lt;label for=&quot;motdepasse&quot;&gt;Mot de passe &lt;span class=&quot;requis&quot;&gt;*&lt;/span&gt;&lt;/label&gt;
                &lt;input type=&quot;password&quot; id=&quot;motdepasse&quot; name=&quot;motdepasse&quot; value=&quot;&quot; size=&quot;20&quot; maxlength=&quot;20&quot; /&gt;
                &lt;span class=&quot;erreur&quot;&gt;${form.erreurs['motdepasse']}&lt;/span&gt;


                &lt;input type=&quot;submit&quot; value=&quot;Connexion&quot; class=&quot;sansLabel&quot; /&gt;
                
                
                &lt;p class=&quot;${empty form.erreurs ? 'succes' : 'erreur'}&quot;&gt;${form.resultat}&lt;/p&gt;
                
                &lt;%-- Vérification de la présence d'un objet utilisateur en session --%&gt;
                &lt;c:if test=&quot;${!empty sessionScope.sessionUtilisateur}&quot;&gt;
                    &lt;%-- Si l'utilisateur existe en session, alors on affiche son adresse email. --%&gt;
                    &lt;p class=&quot;succes&quot;&gt;Vous êtes connecté(e) avec l'adresse : ${sessionScope.sessionUtilisateur.email}&lt;/p&gt;
                &lt;/c:if&gt;
            &lt;/fieldset&gt;
        &lt;/form&gt;
    &lt;/body&gt;
&lt;/html&gt;</code></pre><p id="r-2134540" data-claire-element-id="2351551">Dans cette courte modification, aux lignes 31 à 35, vous pouvez remarquer :</p><ul id="r-2134551" data-claire-element-id="2351562"><li id="r-2134542" data-claire-element-id="2351553"><p id="r-2134541" data-claire-element-id="2351552">l'utilisation de l'objet implicite <strong>sessionScope</strong> pour cibler la portée session ;</p></li><li id="r-2134544" data-claire-element-id="2351555"><p id="r-2134543" data-claire-element-id="2351554">la mise en place d'un test conditionnel via la balise <code>&lt;c:if&gt;</code>. Son contenu (les lignes 33 et 34) s'affichera uniquement si le test est validé ;</p></li><li id="r-2134546" data-claire-element-id="2351557"><p id="r-2134545" data-claire-element-id="2351556">le test de l'existence d'un objet via l'expression <code>${!empty ...}</code>. Si aucun objet n'est trouvé, ce test renvoie <code>false</code> ;</p></li><li id="r-2134548" data-claire-element-id="2351559"><p id="r-2134547" data-claire-element-id="2351558">l'accès au bean <strong>sessionUtilisateur</strong> de la session via l'expression <code>${sessionScope.sessionUtilisateur}</code> ;</p></li><li id="r-2134550" data-claire-element-id="2351561"><p id="r-2134549" data-claire-element-id="2351560">l'accès à la propriété <strong>email</strong> du bean <strong>sessionUtilisateur</strong> via l'expression <code>${sessionScope.sessionUtilisateur.email}</code>.</p></li></ul><aside id="r-2134553" data-claire-element-id="2351564" data-claire-semantic="information"><p id="r-2134552" data-claire-element-id="2351563">Rappelez-vous : nous pourrions très bien accéder à l'objet en écrivant simplement <code>${sessionUtilisateur}</code>, et l'expression EL chercherait alors d'elle-même un objet nommé <strong>sessionUtilisateur</strong> dans chaque portée. Mais je vous ai déjà dit que la bonne pratique était de réserver cette écriture à l'accès des objets de la portée <strong>page</strong>, et de toujours accéder aux objets des autres portées en précisant l'objet implicite correspondant (<strong>requestScope</strong>, <strong>sessionScope</strong> ou <strong>applicationScope</strong>).</p></aside><p id="r-2134554" data-claire-element-id="2351565">Accédez maintenant à la page <a href="http://localhost:8080/pro/connexion">http://localhost:8080/pro/connexion</a>, et entrez des données valides. Voici à la figure suivante le résultat attendu après succès de la connexion.</p><figure id="r-3053319" data-claire-element-id="4349014"><img id="r-2134555" data-claire-element-id="2351566" src="../../../user.oc-static.com/files/380001_381000/380518.png" alt="Image utilisateur" /></figure><p id="r-2134558" data-claire-element-id="2351569">Ensuite, réaffichez la page <a href="http://localhost:8080/pro/connexion">http://localhost:8080/pro/connexion</a>, mais attention pas en appuyant sur <kbd>F5</kbd> ni en actualisant la page : cela renverrait les données de votre formulaire ! Non, simplement entrez à nouveau l'URL dans le même onglet de votre navigateur, ou bien ouvrez un nouvel onglet. Voici à la figure suivante le résultat attendu.</p><figure id="r-3053321" data-claire-element-id="4349016"><img id="r-2134559" data-claire-element-id="2351570" src="../../../user.oc-static.com/files/380001_381000/380519.png" alt="Image utilisateur" /></figure><p id="r-2134562" data-claire-element-id="2351573">Vous pouvez alors constater que la mémorisation de l'utilisateur a fonctionné ! Lorsqu'il a reçu la deuxième requête d'affichage du formulaire, le serveur vous a reconnus : il sait que vous êtes le client qui a effectué la requête de connexion auparavant, et a conservé vos informations dans la session. En outre, vous voyez également que les informations qui avaient été saisies dans les champs du formulaire lors de la première requête sont bien évidemment perdues : elles n'avaient été gérées que via l'objet <strong>request</strong>, et ont donc été détruites après envoi de la première réponse au client.</p><aside id="r-2134564" data-claire-element-id="2351575" data-claire-semantic="information"><p id="r-2134563" data-claire-element-id="2351574">Vous devez maintenant mieux comprendre cette histoire de portée des objets : l'objet qui a été enregistré en session reste accessible sur le serveur au fil des requêtes d'un même client, alors que l'objet qui a été enregistré dans la requête n'est accessible que lors d'une requête donnée, et disparaît du serveur dès que la réponse est envoyée au client.</p></aside><p id="r-2134565" data-claire-element-id="2351576">Pour finir, testons l'effacement de l'objet de la session lorsqu'une erreur de validation survient. Remplissez le formulaire avec des données invalides, et regardez à la figure suivante le résultat renvoyé.</p><figure id="r-3053323" data-claire-element-id="4349018"><img id="r-2134566" data-claire-element-id="2351577" src="../../../user.oc-static.com/files/380001_381000/380520.png" alt="Image utilisateur" /></figure><p id="r-2134569" data-claire-element-id="2351580">Le contenu du corps de la balise <code>&lt;c:if&gt;</code> n'est ici pas affiché. Cela signifie que le test de présence de l'objet en session a retourné <code>false</code>, et donc que notre servlet a bien passé l'objet <strong>utilisateur</strong> à <code>null</code> dans la session. En conclusion, jusqu'à présent, tout roule ! ;)</p><h4 id="r-3053332" data-claire-element-id="4349027">Test de la destruction de session</h4><p id="r-2134571" data-claire-element-id="2351582">Je vous l'ai rappelé en début de chapitre, la session peut être détruite dans plusieurs circonstances :</p><ul id="r-2134578" data-claire-element-id="2351589"><li id="r-2134573" data-claire-element-id="2351584"><p id="r-2134572" data-claire-element-id="2351583">l'utilisateur ferme son navigateur ;</p></li><li id="r-2134575" data-claire-element-id="2351586"><p id="r-2134574" data-claire-element-id="2351585">la session expire après une période d'inactivité de l'utilisateur ;</p></li><li id="r-2134577" data-claire-element-id="2351588"><p id="r-2134576" data-claire-element-id="2351587">l'utilisateur se déconnecte.</p></li></ul><h5 id="r-2134590" data-claire-element-id="2351601">L'utilisateur ferme son navigateur</h5><p id="r-2134579" data-claire-element-id="2351590">Ce paragraphe va être très court. Faites le test vous-mêmes :</p><ol id="r-2134588" data-claire-element-id="2351599"><li id="r-2134581" data-claire-element-id="2351592"><p id="r-2134580" data-claire-element-id="2351591">ouvrez un navigateur et affichez le formulaire de connexion ;</p></li><li id="r-2134583" data-claire-element-id="2351594"><p id="r-2134582" data-claire-element-id="2351593">entrez des données valides et connectez-vous ;</p></li><li id="r-2134585" data-claire-element-id="2351596"><p id="r-2134584" data-claire-element-id="2351595">fermez votre navigateur ;</p></li><li id="r-2134587" data-claire-element-id="2351598"><p id="r-2134586" data-claire-element-id="2351597">rouvrez-le, et rendez-vous à nouveau sur le formulaire de connexion.</p></li></ol><p id="r-2134589" data-claire-element-id="2351600">Vous constaterez alors que le serveur ne vous a pas reconnus : les informations vous concernant n'existent plus, et le serveur considère que vous êtes un nouveau client.</p><h5 id="r-2134604" data-claire-element-id="2837741">La session expire après une période d'inactivité de l'utilisateur</h5><p id="r-2134591" data-claire-element-id="2351602">Par défaut avec Tomcat, la durée maximum de validité imposée au-delà de laquelle la session est automatiquement détruite par le serveur est de 30 minutes. Vous vous doutez bien que nous n'allons pas poireauter une demi-heure devant notre écran pour vérifier si cela fonctionne bien : vous avez la possibilité via le fichier <strong>web.xml</strong> de votre application de personnaliser cette durée. Ouvrez-le dans Eclipse et modifiez-le comme suit :</p><pre id="r-2134592" data-claire-element-id="2837740"><code data-claire-semantic="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;web-app&gt;
	&lt;session-config&gt; 
		&lt;session-timeout&gt;1&lt;/session-timeout&gt;
	&lt;/session-config&gt;

	&lt;servlet&gt;
		&lt;servlet-name&gt;Inscription&lt;/servlet-name&gt;
		&lt;servlet-class&gt;com.sdzee.servlets.Inscription&lt;/servlet-class&gt;
	&lt;/servlet&gt;
	&lt;servlet&gt;
		&lt;servlet-name&gt;Connexion&lt;/servlet-name&gt;
		&lt;servlet-class&gt;com.sdzee.servlets.Connexion&lt;/servlet-class&gt;
	&lt;/servlet&gt;

	&lt;servlet-mapping&gt;
		&lt;servlet-name&gt;Inscription&lt;/servlet-name&gt;
		&lt;url-pattern&gt;/inscription&lt;/url-pattern&gt;
	&lt;/servlet-mapping&gt;
	&lt;servlet-mapping&gt;
		&lt;servlet-name&gt;Connexion&lt;/servlet-name&gt;
		&lt;url-pattern&gt;/connexion&lt;/url-pattern&gt;
	&lt;/servlet-mapping&gt;
&lt;/web-app&gt;</code></pre><p id="r-2134593" data-claire-element-id="2351604">Le champ <code>&lt;session-timeout&gt;</code> permet de définir en minutes le temps d'inactivité de l'utilisateur après lequel sa session est détruite. Je l'ai ici abaissé à une minute, uniquement pour effectuer notre vérification. Redémarrez Tomcat afin que la modification apportée au fichier soit prise en compte, puis :</p><ol id="r-2134600" data-claire-element-id="2351611"><li id="r-2134595" data-claire-element-id="2351606"><p id="r-2134594" data-claire-element-id="2351605">ouvrez un navigateur et affichez le formulaire de connexion ;</p></li><li id="r-2134597" data-claire-element-id="2351608"><p id="r-2134596" data-claire-element-id="2351607">entrez des données valides et connectez-vous ;</p></li><li id="r-2134599" data-claire-element-id="2351610"><p id="r-2134598" data-claire-element-id="2351609">attendez quelques minutes, puis affichez à nouveau le formulaire, dans la même page ou dans un nouvel onglet.</p></li></ol><p id="r-2134601" data-claire-element-id="2351612">Vous constaterez alors que le serveur vous a oubliés : les informations vous concernant n'existent plus, et le serveur considère que vous êtes un nouveau client.</p><aside id="r-2134603" data-claire-element-id="2351614" data-claire-semantic="warning"><p id="r-2134602" data-claire-element-id="2351613">Une fois ce test effectué, éditez à nouveau votre fichier <strong>web.xml</strong> et supprimez la section fraîchement ajoutée : dans la suite de nos exemples, nous n'allons pas avoir besoin de cette limitation.</p></aside><h5 id="r-2134635" data-claire-element-id="2837744">L'utilisateur se déconnecte</h5><p id="r-2134605" data-claire-element-id="2351616">Cette dernière vérification va nécessiter un peu de développement. En effet, nous avons créé une servlet de connexion, mais nous n'avons pas encore mis en place de servlet de déconnexion. Par conséquent, il est pour le moment impossible pour le client de se déconnecter volontairement du site, il est obligé de fermer son navigateur ou d'attendre que la durée d'inactivité soit dépassée.</p><div id="r-2134607" data-claire-element-id="2351618" data-claire-semantic="question"><p id="r-2134606" data-claire-element-id="2351617">Comment détruire manuellement une session ?</p></div><p id="r-2134608" data-claire-element-id="2351619">Il faut regarder dans <a href="http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpSession.html">la documentation de l'objet <code>HttpSession</code></a> pour répondre à cette question : nous y trouvons une méthode <code><a href="http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpSession.html#invalidate%28%29">invalidate()</a></code>, qui supprime une session et les objets qu'elle contient, et envoie une exception si jamais elle est appliquée sur une session déjà détruite.</p><p id="r-2134609" data-claire-element-id="2351620">Créons sans plus attendre notre nouvelle servlet nommée <strong>Deconnexion</strong> :</p><pre id="r-2134610" data-claire-element-id="2837742"><code data-claire-semantic="java">package com.sdzee.servlets;

import java.io.IOException;

import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;

public class Deconnexion extends HttpServlet {
    public static final String URL_REDIRECTION = &quot;http://www.siteduzero.com&quot;;

    public void doGet( HttpServletRequest request, HttpServletResponse response ) throws ServletException, IOException {
        /* Récupération et destruction de la session en cours */
        HttpSession session = request.getSession();
        session.invalidate();

        /* Redirection vers le Site du Zéro ! */
        response.sendRedirect( URL_REDIRECTION );
    }
}</code></pre><p id="r-2134611" data-claire-element-id="2351622">Vous remarquez ici deux nouveautés :</p><ul id="r-2134616" data-claire-element-id="2351627"><li id="r-2134613" data-claire-element-id="2351624"><p id="r-2134612" data-claire-element-id="2351623">l'appel à la méthode <code>invalidate()</code> de l'objet <code>HttpSession</code> ;</p></li><li id="r-2134615" data-claire-element-id="2351626"><p id="r-2134614" data-claire-element-id="2351625">la redirection vers la page de connexion via la méthode <code><a href="http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletResponse.html#sendRedirect%28java.lang.String%29">sendRedirect()</a></code> de l'objet <code>HttpServletResponse</code>, en lieu et place du <em>forwarding</em> que nous utilisions auparavant.</p></li></ul><div id="r-2134618" data-claire-element-id="2351629" data-claire-semantic="question"><p id="r-2134617" data-claire-element-id="2351628">Quelle est la différence entre la redirection et le forwarding ?</p></div><p id="r-2134619" data-claire-element-id="2351630">En réalité, vous le savez déjà ! Eh oui, vous ne l'avez pas encore appliqué depuis une servlet, mais je vous ai déjà expliqué le principe lorsque nous avons découvert la balise <code>&lt;c:redirect&gt;</code>, dans <a href="http://www.siteduzero.com/tutoriel-3-285009-la-bibliotheque-core.html#ss_part_4">cette partie du chapitre</a> portant sur la JSTL Core.</p><p id="r-2134620" data-claire-element-id="2351631">Pour rappel donc, une redirection HTTP implique l'envoi d'une réponse au client, alors que le <em>forwarding</em> s'effectue sur le serveur et le client n'en est pas tenu informé. Cela implique notamment que, via un <em>forwarding</em>, il est uniquement possible de cibler des pages internes à l'application, alors que via la redirection il est possible d'atteindre n'importe quelle URL publique ! En l'occurrence, dans notre servlet j'ai fait en sorte que lorsque vous vous déconnectez, vous êtes redirigés vers votre site web préféré. :honte:</p><p id="r-2134621" data-claire-element-id="2351632">Fin du rappel, nous allons de toute manière y revenir dans le prochain paragraphe. Pour le moment, concentrons-nous sur la destruction de notre session !</p><p id="r-2134622" data-claire-element-id="2351633">Déclarons notre servlet dans le fichier <strong>web.xml</strong> de l'application :</p><pre id="r-2134623" data-claire-element-id="2837743"><code data-claire-semantic="xml">...

&lt;servlet&gt;
	&lt;servlet-name&gt;Deconnexion&lt;/servlet-name&gt;
	&lt;servlet-class&gt;com.sdzee.servlets.Deconnexion&lt;/servlet-class&gt;
&lt;/servlet&gt;

...

&lt;servlet-mapping&gt;
	&lt;servlet-name&gt;Deconnexion&lt;/servlet-name&gt;
	&lt;url-pattern&gt;/deconnexion&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;

...</code></pre><p id="r-2134624" data-claire-element-id="2351635">Redémarrez Tomcat pour que la modification du fichier <strong>web.xml</strong> soit prise en compte, et testez alors comme suit :</p><ol id="r-2134633" data-claire-element-id="2351644"><li id="r-2134626" data-claire-element-id="2351637"><p id="r-2134625" data-claire-element-id="2351636">ouvrez un navigateur et affichez le formulaire de connexion ;</p></li><li id="r-2134628" data-claire-element-id="2351639"><p id="r-2134627" data-claire-element-id="2351638">entrez des données valides et connectez-vous ;</p></li><li id="r-2134630" data-claire-element-id="2351641"><p id="r-2134629" data-claire-element-id="2351640">entrez l'URL <a href="http://localhost:8080/pro/deconnexion">http://localhost:8080/pro/deconnexion</a> ;</p></li><li id="r-2134632" data-claire-element-id="2351643"><p id="r-2134631" data-claire-element-id="2351642">affichez à nouveau le formulaire de connexion.</p></li></ol><p id="r-2134634" data-claire-element-id="2351645">Vous constaterez alors que lors de votre retour le serveur ne vous reconnaît pas : la session a bien été détruite.</p><h5 id="r-3053331" data-claire-element-id="4349026">Différence entre forwarding et redirection</h5><p id="r-2134636" data-claire-element-id="2351647">Avant de continuer, puisque nous y sommes, testons cette histoire de <em>forwarding</em> et de redirection. Modifiez le code de la servlet comme suit :</p><pre id="r-2134637" data-claire-element-id="2837745"><code data-claire-semantic="java">package com.sdzee.servlets;

import java.io.IOException;

import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;

public class Deconnexion extends HttpServlet {
    public static final String VUE = &quot;/connexion&quot;;

    public void doGet( HttpServletRequest request, HttpServletResponse response ) throws ServletException, IOException {
        /* Récupération et destruction de la session en cours */
        HttpSession session = request.getSession();
        session.invalidate();

        /* Affichage de la page de connexion */
        this.getServletContext().getRequestDispatcher( VUE ).forward( request, response );
    }
}</code></pre><p id="r-2134638" data-claire-element-id="2351649">Nous avons ici simplement mis en place un <em>forwarding</em> vers la servlet de connexion : une fois déconnectés, vous allez visualiser le formulaire de connexion dans votre navigateur. Oui, mais voyez plutôt ce qu'indique la figure suivante !</p><figure id="r-3053326" data-claire-element-id="4349021"><img id="r-2134639" data-claire-element-id="2351650" src="../../../user.oc-static.com/files/380001_381000/380521.png" alt="Forwarding." /><figcaption>Forwarding.</figcaption></figure><p id="r-2134642" data-claire-element-id="2351653">Vous comprenez ce qu'il s'est passé ? Comme je vous l'ai expliqué dans plusieurs chapitres, le client n'est pas au courant qu'un <em>forwarding</em> a été réalisé côté serveur. Pour lui, la page jointe est /pro/deconnexion, et c'est bien elle qui lui a renvoyé une réponse HTTP. Par conséquent, l'URL dans la barre d'adresses de votre navigateur n'a pas changé ! Pourtant, côté serveur, a été effectué un petit enchaînement de <em>forwardings</em>, comme on peut le voir à la figure suivante.</p><figure id="r-3053328" data-claire-element-id="4349023"><img id="r-2134643" data-claire-element-id="2351654" src="../../../user.oc-static.com/files/382001_383000/382877.png" alt="Avec un forwarding" /><figcaption>Avec un forwarding</figcaption></figure><ol id="r-2134654" data-claire-element-id="2351665"><li id="r-2134647" data-claire-element-id="2351658"><p id="r-2134646" data-claire-element-id="2351657">l'utilisateur accède à la page de déconnexion depuis son navigateur ;</p></li><li id="r-2134649" data-claire-element-id="2351660"><p id="r-2134648" data-claire-element-id="2351659">la servlet de déconnexion transfère la requête vers la servlet de connexion via un <em>forwarding</em> ;</p></li><li id="r-2134651" data-claire-element-id="2351662"><p id="r-2134650" data-claire-element-id="2351661">la servlet de connexion transfère la requête vers la JSP du formulaire de connexion via un <em>forwarding</em> ;</p></li><li id="r-2134653" data-claire-element-id="2351664"><p id="r-2134652" data-claire-element-id="2351663">la JSP renvoie le formulaire à l'utilisateur.</p></li></ol><p id="r-2134655" data-claire-element-id="3312164">Ce que vous devez comprendre avec ce schéma, c'est que du point de vue du client, pour qui le serveur est comme une grosse boîte noire, la réponse envoyée par la JSP finale correspond à la requête vers la servlet de déconnexion qu'il a effectuée. C'est donc pour cette raison que l'utilisateur croit que la réponse est issue de la servlet de déconnexion, et que son navigateur lui affiche toujours l'URL de la page de déconnexion dans la barre d'adresses : il ne voit pas ce qui se passe côté serveur, et ne sait pas qu'en réalité sa requête a été baladée de servlet en servlet.</p><p id="r-2134656" data-claire-element-id="2351667">Voyons maintenant ce qui se passerait si nous utilisions une redirection vers la page de connexion à la place du <em>forwarding</em> dans la servlet de déconnexion (voir la figure suivante).</p><figure id="r-3053330" data-claire-element-id="4349025"><img id="r-2134657" data-claire-element-id="2351668" src="../../../user.oc-static.com/files/382001_383000/382879.png" alt="Avec une redirection" /><figcaption>Avec une redirection</figcaption></figure><ol id="r-2134670" data-claire-element-id="2351681"><li id="r-2134661" data-claire-element-id="2351672"><p id="r-2134660" data-claire-element-id="2351671">l'utilisateur accède à la page de déconnexion depuis son navigateur ;</p></li><li id="r-2134663" data-claire-element-id="2351674"><p id="r-2134662" data-claire-element-id="2351673">la servlet de déconnexion envoie une demande de redirection au navigateur vers la servlet de connexion, via un <code>sendRedirect( &quot;/pro/connexion&quot; )</code> ;</p></li><li id="r-2134665" data-claire-element-id="2351676"><p id="r-2134664" data-claire-element-id="2351675">le navigateur de l'utilisateur exécute alors la redirection et effectue alors une nouvelle requête vers la servlet de connexion ;</p></li><li id="r-2134667" data-claire-element-id="2351678"><p id="r-2134666" data-claire-element-id="2351677">la servlet de connexion transfère la requête vers la JSP du formulaire de connexion via un <em>forwarding</em> ;</p></li><li id="r-2134669" data-claire-element-id="2351680"><p id="r-2134668" data-claire-element-id="2351679">la JSP renvoie le formulaire à l'utilisateur.</p></li></ol><p id="r-2134671" data-claire-element-id="2351682">Cette fois, vous voyez bien que la réponse envoyée par la JSP finale correspond à la seconde requête effectuée par le navigateur, à savoir celle vers la servlet de connexion. Ainsi, l'URL affichée dans la barre d'adresses du navigateur est bien celle de la page de connexion, et l'utilisateur n'est pas dérouté.</p><p id="r-2134672" data-claire-element-id="2351683">Certes, dans le cas de notre page de déconnexion et de notre <em>forwarding</em>, le fait que le client ne soit pas au courant du cheminement de sa requête au sein du serveur n'a rien de troublant, seule l'URL n'est pas en accord avec l'affichage final. En effet, si le client appuie sur <kbd>F5</kbd> et actualise la page, cela va appeler à nouveau la servlet de déconnexion, qui va supprimer sa session si elle existe, puis à nouveau faire un <em>forwarding</em>, puis finir par afficher le formulaire de connexion à nouveau.</p><p id="r-2134673" data-claire-element-id="2351684">Seulement imaginez maintenant que nous n'avons plus affaire à un système de déconnexion, mais à un système de gestion de compte en banque, dans lequel la servlet de déconnexion deviendrait une servlet de transfert d'argent, et la servlet de connexion deviendrait une servlet d'affichage du solde du compte. Si nous gardons ce système de <em>forwarding</em>, après que le client effectue un transfert d'argent, il est redirigé de manière transparente vers l'affichage du solde de son compte. Et là, ça devient problématique : si le client ne fait pas attention, et qu'il actualise la page en pensant simplement actualiser l'affichage de son solde, il va en réalité à nouveau effectuer un transfert d'argent, puisque l'URL de son navigateur est restée figée sur la première servlet contactée...</p><p id="r-2134674" data-claire-element-id="2351685">Vous comprenez mieux maintenant pourquoi je vous avais conseillé d'utiliser <code>&lt;c:redirect&gt;</code> plutôt que <code>&lt;jsp:forward&gt;</code> dans le chapitre sur la JSTL Core, et pourquoi dans notre exemple j'ai mis en place une redirection HTTP via <code>sendRedirect()</code> plutôt qu'un <em>forwarding</em> ? :D</p><aside id="r-2134676" data-claire-element-id="2351687" data-claire-semantic="warning"><p id="r-2134675" data-claire-element-id="2351686">Avant de poursuivre, éditez le code de votre servlet de déconnexion et remettez en place la redirection HTTP vers votre site préféré, comme je vous l'ai montré avant de faire cet aparté sur le <em>forwarding</em>.</p></aside><h3 id="r-3053386" data-claire-element-id="4349081">Derrière les rideaux</h3><h4 id="r-2134703" data-claire-element-id="2351715">La théorie : principe de fonctionnement</h4><p id="r-2134679" data-claire-element-id="2351691">C'est bien joli tout ça, mais nous n'avons toujours pas abordé la question fatidique :</p><div id="r-2134681" data-claire-element-id="2351693" data-claire-semantic="question"><p id="r-2134680" data-claire-element-id="2351692">Comment fonctionnent les sessions ?</p></div><p id="r-2134682" data-claire-element-id="2351694">Jusqu'à présent, nous ne sommes pas inquiétés de ce qui se passe derrière les rideaux. Et pourtant croyez-moi, il y a de quoi faire !</p><p id="r-2134683" data-claire-element-id="2351695">La chose la plus importante à retenir, c'est que c'est vous qui contrôlez l'existence d'une session dans votre application. Un objet <code><a href="http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpSession.html">HttpSession</a></code> dédié à un utilisateur sera créé ou récupéré <strong>uniquement lorsque la page qu'il visite implique un appel à</strong><code>request.getSession()</code>, en d'autres termes uniquement lorsque vous aurez placé un tel appel dans votre code. En ce qui concerne la gestion de l'objet, c'est le conteneur de servlets qui va s'en charger, en le créant et le stockant en mémoire. Au passage, le serveur dispose d'un moyen pour identifier chaque session qu'il crée : il leur attribue un identifiant unique, que nous pouvons d'ailleurs retrouver via la méthode <code>session.getId()</code>.</p><p id="r-2134684" data-claire-element-id="2351696">Ensuite, le conteneur va mettre en place un élément particulier dans la réponse HTTP qu'il va renvoyer au client : un <code><a href="http://docs.oracle.com/javaee/6/api/javax/servlet/http/Cookie.html">Cookie</a></code>. Nous reviendrons plus tard sur ce que sont exactement ces cookies, et comment les manipuler. Pour le moment, voyez simplement un cookie comme un simple marqueur, un petit fichier texte qui :</p><ul id="r-2134691" data-claire-element-id="2351703"><li id="r-2134686" data-claire-element-id="2351698"><p id="r-2134685" data-claire-element-id="2351697">contient des informations envoyées par le serveur ;</p></li><li id="r-2134688" data-claire-element-id="2351700"><p id="r-2134687" data-claire-element-id="2351699">est stocké par votre navigateur, directement sur votre poste ;</p></li><li id="r-2134690" data-claire-element-id="2351702"><p id="r-2134689" data-claire-element-id="2351701">a obligatoirement un nom et une valeur.</p></li></ul><p id="r-2134692" data-claire-element-id="2351704">En l'occurrence, le cookie mis en place lors de la gestion d'une session utilisateur par le serveur se nomme <strong>JSESSIONID</strong>, et contient l'identifiant de session unique en tant que valeur.</p><p id="r-2134693" data-claire-element-id="2351705">Pour résumer, le serveur va placer directement chez le client son identifiant de session. Donc, chaque fois qu'il crée une session pour un nouveau client, le serveur va envoyer son identifiant au navigateur de celui-ci.</p><div id="r-2134695" data-claire-element-id="2351707" data-claire-semantic="question"><p id="r-2134694" data-claire-element-id="2351706">Comment est géré ce cookie ?</p></div><p id="r-2134696" data-claire-element-id="2351708">Je vous l'ai déjà dit, nous allons y revenir plus en détail dans un prochain chapitre. Toutefois, nous pouvons déjà esquisser brièvement ce qui se passe dans les coulisses. La <a href="http://www.faqs.org/rfcs/rfc2965.html">spécification du cookie HTTP</a>, qui constitue un contrat auquel tout navigateur web décent ainsi que tout serveur web doit adhérer, est très claire : elle demande au navigateur de renvoyer ce cookie dans les requêtes suivantes tant que le cookie reste valide.</p><p id="r-2134697" data-claire-element-id="2351709">Voilà donc la clé du système : le conteneur de servlets va analyser chaque requête HTTP entrante, y chercher le cookie ayant pour nom <strong>JSESSIONID</strong> et utiliser sa valeur, c'est-à-dire l'identifiant de session, afin de récupérer l'objet <code>HttpSession</code> associé dans la mémoire du serveur.</p><div id="r-2134699" data-claire-element-id="2351711" data-claire-semantic="question"><p id="r-2134698" data-claire-element-id="2351710">Quand les données ainsi stockées deviennent-elles obsolètes ?</p></div><p id="r-2134700" data-claire-element-id="2351712">Côté serveur, vous le savez déjà : l'objet <code>HttpSesssion</code> existera tant que sa durée de vie n'aura pas dépassé le temps qu'il est possible de spécifier dans la section <code>&lt;session-timeout&gt;</code> du fichier <strong>web.xml</strong>, qui est par défaut de trente minutes. Donc si le client n'utilise plus l'application pendant plus de trente minutes, le conteneur de servlets détruira sa session. Aucune des requêtes suivantes, y compris celles contenant le cookie, n'aura alors accès à la précédente session : le conteneur de servlets en créera une nouvelle.</p><p id="r-2134701" data-claire-element-id="2351713">Côté client, le cookie de session a une durée de vie également, qui par défaut est limitée au temps durant lequel le navigateur reste ouvert. Lorsque le client ferme son navigateur, le cookie est donc détruit côté client. Si le client ouvre à nouveau son navigateur, le cookie associé à la précédente session ne sera alors plus envoyé. Nous revenons alors au principe général que je vous ai énoncé quelques lignes plus tôt : un appel à <code>request.getSession()</code> retournerait alors un nouvel objet <code>HttpSession</code>, et mettrait ainsi en place un nouveau cookie contenant un nouvel identifiant de session.</p><p id="r-2134702" data-claire-element-id="2351714">Plutôt que de vous ressortir les schémas précédents en modifiant et complétant les légendes et explications pour y faire apparaître la gestion du cookie, je vais vous faire pratiquer ! Nous allons directement tester notre petit système de connexion, et analyser ce qui se trame dans les entrailles des échanges HTTP... :pirate:</p><h4 id="r-3053385" data-claire-element-id="4349080">La pratique : scrutons nos requêtes et réponses</h4><p id="r-2134704" data-claire-element-id="2351716">Pour commencer, nous allons reprendre notre exemple de connexion et analyser les échanges qu'il engendre :</p><ol id="r-3053339" data-claire-element-id="4349034"><li id="r-2134706" data-claire-element-id="2351718"><p id="r-2134705" data-claire-element-id="2351717">redémarrez votre serveur Tomcat ;</p></li><li id="r-2134708" data-claire-element-id="2351720"><p id="r-2134707" data-claire-element-id="2351719">fermez votre navigateur, puis ouvrez-le à nouveau ;</p></li><li id="r-3053338" data-claire-element-id="4349033"><p id="r-2134709" data-claire-element-id="2351721">supprimez toutes les données qui y sont automatiquement enregistrées. Depuis Firefox ou Chrome, il suffit d'appuyer simultanément sur <kbd>Ctrl</kbd> + <kbd>Maj</kbd> + <kbd>Suppr</kbd> pour qu'un menu de suppression du cache, des cookies et autres données diverses apparaisse (voir les figures suivantes).</p><figure id="r-3053335" data-claire-element-id="4349030"><img id="r-2134710" data-claire-element-id="2351722" src="../../../user.oc-static.com/files/382001_383000/382043.png" alt="Suppression des données sous Firefox" /><figcaption>Suppression des données sous Firefox</figcaption></figure><figure id="r-3053337" data-claire-element-id="4349032"><img id="r-2134713" data-claire-element-id="2351725" src="../../../user.oc-static.com/files/382001_383000/382044.png" alt="Suppression des données sous Chrome" /><figcaption>Suppression des données sous Chrome</figcaption></figure></li><li id="r-2134718" data-claire-element-id="2351730"><p id="r-2134717" data-claire-element-id="2351729">ouvrez un nouvel onglet vide, et appuyez alors sur <kbd>F12</kbd> pour lancer Firebug depuis Firefox, ou l'outil équivalent intégré depuis Chrome ;</p></li><li id="r-2134720" data-claire-element-id="2351732"><p id="r-2134719" data-claire-element-id="2351731">cliquez alors sur l'onglet <strong>Réseau</strong> de Firebug, ou sur l'onglet <strong>Network</strong> de l'outil intégré à Chrome.</p></li></ol><h5 id="r-3053344" data-claire-element-id="4349039">Le tout premier accès</h5><p id="r-2134722" data-claire-element-id="2351734">Rendez-vous ensuite sur la page <a href="http://localhost:8080/pro/connexion">http://localhost:8080/pro/connexion</a>. Les données enregistrées côté client ont été effacées, et le serveur a été redémarré, il s'agit donc ici de notre toute première visite sur une page du site. En outre, nous savons que la servlet <strong>Connexion</strong> associée à cette page contient un appel à <code>request.getSession()</code>. Observez alors ce qui s'affiche dans votre outil (voir les figures suivantes).</p><figure id="r-3053341" data-claire-element-id="4349036"><img id="r-2134723" data-claire-element-id="2351735" src="../../../user.oc-static.com/files/382001_383000/382034.png" alt="Cookie dans la réponse avec l'outil Firebug" /><figcaption>Cookie dans la réponse avec l'outil Firebug</figcaption></figure><figure id="r-3053343" data-claire-element-id="4349038"><img id="r-2134726" data-claire-element-id="2351738" src="../../../user.oc-static.com/files/382001_383000/382035.png" alt="Cookie dans la réponse avec l'outil de Chrome" /><figcaption>Cookie dans la réponse avec l'outil de Chrome</figcaption></figure><p id="r-2134729" data-claire-element-id="2351741">Vous pouvez ici remarquer plusieurs choses importantes :</p><ul id="r-2134736" data-claire-element-id="2351748"><li id="r-2134731" data-claire-element-id="2351743"><p id="r-2134730" data-claire-element-id="2351742">la réponse renvoyée par le serveur contient une instruction <strong>Set-Cookie</strong>, destinée à mettre en place le cookie de session dans le navigateur du client ;</p></li><li id="r-2134733" data-claire-element-id="2351745"><p id="r-2134732" data-claire-element-id="2351744">le nom du cookie est bien <strong>JSESSIONID</strong>, et sa valeur est bien un long identifiant unique ;</p></li><li id="r-2134735" data-claire-element-id="2351747"><p id="r-2134734" data-claire-element-id="2351746">bien que je sois le seul réel client qui accède au site, le serveur considère mes visites depuis Firefox et Chrome comme étant issues de deux clients distincts, et génère donc deux sessions différentes. Vérifiez les identifiants, ils sont bien différents d'un écran à l'autre.</p></li></ul><aside id="r-2134738" data-claire-element-id="2351750" data-claire-semantic="information"><p id="r-2134737" data-claire-element-id="2351749">Dorénavant, je vous afficherai uniquement des captures d'écran réalisées avec l'outil de Chrome, pour ne pas surcharger d'images ce chapitre. Si vous utilisez Firebug, reportez-vous à la capture précédente si jamais vous ne vous souvenez plus où regarder les informations relatives aux échanges HTTP.</p></aside><h5 id="r-3053347" data-claire-element-id="4349042">L'accès suivant, avec la même session</h5><p id="r-2134740" data-claire-element-id="2351752">Dans la foulée, rendez-vous à nouveau sur cette même page de connexion (actualisez la page via un appui sur <kbd>F5</kbd> par exemple). Observez alors la figure suivante.</p><figure id="r-3053346" data-claire-element-id="4349041"><img id="r-2134741" data-claire-element-id="2351753" src="../../../user.oc-static.com/files/382001_383000/382031.png" alt="Cookie dans la requête" /><figcaption>Cookie dans la requête</figcaption></figure><p id="r-2134744" data-claire-element-id="2351756">Là encore, vous pouvez remarquer plusieurs choses importantes :</p><ul id="r-2134753" data-claire-element-id="2351765"><li id="r-2134746" data-claire-element-id="2351758"><p id="r-2134745" data-claire-element-id="2351757">un cookie est, cette fois, envoyé par le navigateur au serveur, dans le paramètre <strong>Cookie</strong> de l'en-tête de la requête HTTP effectuée ;</p></li><li id="r-2134748" data-claire-element-id="2351760"><p id="r-2134747" data-claire-element-id="2351759">sa valeur correspond à celle contenue dans le cookie envoyé par le serveur dans la réponse précédente ;</p></li><li id="r-2134750" data-claire-element-id="2351762"><p id="r-2134749" data-claire-element-id="2351761">après réception de la première réponse contenant l'instruction <strong>Set-Cookie</strong>, le navigateur avait donc bien sauvegardé le cookie généré par le serveur, et le renvoie automatiquement lors des requêtes suivantes ;</p></li><li id="r-2134752" data-claire-element-id="2351764"><p id="r-2134751" data-claire-element-id="2351763">dans la deuxième réponse du serveur, il n'y a cette fois plus d'instruction <strong>Set-Cookie</strong> : le serveur ayant reçu un cookie nommé <strong>JSESSIONID</strong> depuis le client, et ayant trouvé dans sa mémoire une session correspondant à l'identifiant contenu dans la valeur du cookie, il sait que le client a déjà enregistré la session en cours et qu'il n'est pas nécessaire de demander à nouveau la mise en place d'un cookie !</p></li></ul><h5 id="r-3053350" data-claire-element-id="4349045">L'accès suivant, après une déconnexion !</h5><p id="r-2134755" data-claire-element-id="2351767">Rendez-vous maintenant sur la page <a href="http://localhost:8080/pro/deconnexion">http://localhost:8080/pro/deconnexion</a>, puis retournez ensuite sur <a href="http://localhost:8080/pro/connexion">http://localhost:8080/pro/connexion</a>. Observez la figure suivante.</p><figure id="r-3053349" data-claire-element-id="4349044"><img id="r-2134756" data-claire-element-id="2351768" src="../../../user.oc-static.com/files/382001_383000/382041.png" alt="Cookie dans la requête et la réponse" /><figcaption>Cookie dans la requête et la réponse</figcaption></figure><p id="r-2134759" data-claire-element-id="2351771">Cette fois encore, vous pouvez remarquer plusieurs choses importantes :</p><ul id="r-2134766" data-claire-element-id="2351778"><li id="r-2134761" data-claire-element-id="2351773"><p id="r-2134760" data-claire-element-id="2351772">deux cookies nommés <strong>JSESSIONID</strong> interviennent : un dans la requête et un dans la réponse ;</p></li><li id="r-2134763" data-claire-element-id="2351775"><p id="r-2134762" data-claire-element-id="2351774">la valeur de celui présent dans la requête contient l'identifiant de notre précédente session. Puisque nous n'avons pas fermé notre navigateur ni supprimé les cookies enregistrés, le navigateur considère que la session est toujours ouverte côté serveur, et envoie donc par défaut le cookie qu'il avait enregistré lors de l'échange précédent !</p></li><li id="r-2134765" data-claire-element-id="2351777"><p id="r-2134764" data-claire-element-id="2351776">la valeur de celui présent dans la réponse contient un nouvel identifiant de session. Le serveur ayant supprimé la session de sa mémoire lors de la déconnexion du client (souvenez-vous du code de notre servlet de déconnexion), il ne trouve aucune session qui correspond à l'identifiant envoyé par le navigateur dans le cookie de la requête. Il crée donc une nouvelle session, et demande aussitôt au navigateur de remplacer le cookie existant par celui contenant le nouveau numéro de session, toujours via l'instruction <strong>Set-Cookie</strong> de la réponse renvoyée !</p></li></ul><h5 id="r-3053355" data-claire-element-id="4349050">L'accès à une page sans session</h5><p id="r-2134768" data-claire-element-id="2351780">Nous allons cette fois accéder à une page qui n'implique aucun appel à <code>request.getSession()</code>. Il nous faut donc créer une page JSP pour l'occasion, que nous allons nommer <strong>accesPublic.jsp</strong> et placer directement à la racine de notre application, sous le répertoire <strong>WebContent</strong> :</p><pre id="r-2134769" data-claire-element-id="2837772"><code data-claire-semantic="jsp">&lt;%@ page pageEncoding=&quot;UTF-8&quot; %&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;meta charset=&quot;utf-8&quot; /&gt;
        &lt;title&gt;Accès public&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;p&gt;Bienvenue sur la page d'accès public.&lt;/p&gt;
    &lt;/body&gt;
&lt;/html&gt;</code></pre><p id="r-2134770" data-claire-element-id="2351782">Redémarrez Tomcat, effacez les données de votre navigateur via un <kbd>Ctrl</kbd> + <kbd>Maj</kbd> + <kbd>Suppr</kbd>, et rendez-vous alors sur la page <a href="http://localhost:8080/pro/accesPublic.jsp">http://localhost:8080/pro/accesPublic.jsp</a>. Observez la figure suivante.</p><figure id="r-3053352" data-claire-element-id="4349047"><img id="r-2134771" data-claire-element-id="2351783" src="../../../user.oc-static.com/files/382001_383000/382184.png" alt="Création de session par la JSP" /><figcaption>Création de session par la JSP</figcaption></figure><div id="r-2134775" data-claire-element-id="2351787" data-claire-semantic="question"><p id="r-2134774" data-claire-element-id="2351786">Pourquoi le serveur demande-t-il la mise en place d'un cookie de session dans le navigateur ?!</p></div><p id="r-2134776" data-claire-element-id="2351788">En effet, c'est un comportement troublant ! Je vous ai annoncé qu'une session n'existait que lorsqu'un appel à <code>request.getSession()</code> était effectué. Or, le contenu de notre page <strong>accesPublic.jsp</strong> ne fait pas intervenir de session, et aucune servlet ne lui est associée : d'où sort cette session ? Eh bien rassurez-vous, je ne vous ai pas menti : c'est bien vous qui contrôlez la création de la session. Seulement voilà, il existe un comportement qui vous est encore inconnu, celui d'une page JSP : <strong>par défaut, une page JSP va toujours tenter de créer ou récupérer une session</strong>.</p><p id="r-2134777" data-claire-element-id="2351789">Nous pouvons d'ailleurs le vérifier en jetant un œil au code de la servlet auto-générée par Tomcat. Nous l'avions déjà fait lorsque nous avions découvert les JSP pour la première fois, et je vous avais alors fait remarquer que le répertoire contenant ces fichiers pouvait varier selon votre installation et votre système. Voici un extrait du code du fichier <strong>accesPublic_jsp.java</strong> généré :</p><pre id="r-2134778" data-claire-element-id="2837775"><code data-claire-semantic="java">javax.servlet.http.HttpSession session = null;

...

session = pageContext.getSession();</code></pre><p id="r-2134779" data-claire-element-id="2351791">Voilà donc l'explication de l'existence d'une session lors de l'accès à notre page JSP : dans le code auto-généré, il existe un appel à la méthode <code>getSession()</code> !</p><div id="r-2134781" data-claire-element-id="2351793" data-claire-semantic="question"><p id="r-2134780" data-claire-element-id="2351792">Comment éviter la création automatique d'une session depuis une page JSP ?</p></div><p id="r-2134782" data-claire-element-id="2351794">La solution qui s'offre à nous est l'utilisation de la directive <strong>page</strong>. Voici la ligne à ajouter en début de page pour empêcher la création d'une session :</p><pre id="r-2134783" data-claire-element-id="2837776"><code data-claire-semantic="jsp">&lt;%@ page session=&quot;false&quot; %&gt;</code></pre><aside id="r-2134785" data-claire-element-id="2351797" data-claire-semantic="warning"><p id="r-2134784" data-claire-element-id="2351796">Toutefois, comprenez bien : cette directive désactive la session sur toute la page JSP. Autrement dit, en procédant ainsi vous interdisez la manipulation de sessions depuis votre page JSP. Dans ce cas précis, tout va bien, notre page n'en fait pas intervenir. Mais dans une page qui accède à des objets présents en session, vous ne devez bien évidemment pas mettre en place cette directive !</p></aside><p id="r-2134786" data-claire-element-id="2351798">Éditez donc votre page <strong>accesPublic.jsp</strong> et ajoutez-y cette directive en début de code. Redémarrez alors Tomcat, effacez les données de votre navigateur via un <kbd>Ctrl</kbd> + <kbd>Maj</kbd> + <kbd>Suppr</kbd>, et rendez-vous à nouveau sur la page <a href="http://localhost:8080/pro/accesPublic.jsp">http://localhost:8080/pro/accesPublic.jsp</a>. Observez la figure suivante.</p><figure id="r-3053354" data-claire-element-id="4349049"><img id="r-2134787" data-claire-element-id="2351799" src="../../../user.oc-static.com/files/382001_383000/382189.png" alt="Désactivation de la session dans la JSP" /><figcaption>Désactivation de la session dans la JSP</figcaption></figure><p id="r-2134790" data-claire-element-id="2351802">Vous pouvez cette fois remarquer qu'aucun cookie n'intervient dans l'échange HTTP ! Le serveur ne cherche pas à créer ni récupérer de session, et par conséquent il ne demande pas la mise en place d'un cookie dans le navigateur de l'utilisateur.</p><aside id="r-2134792" data-claire-element-id="2351804" data-claire-semantic="information"><p id="r-2134791" data-claire-element-id="2351803">Ce genre d'optimisation n'a absolument aucun impact sur une application de petite envergure, vous pouvez alors très bien vous en passer. Mais sur une application à très forte fréquentation ou simplement sur une page à très fort trafic, en désactivant l'accès à la session lorsqu'elle n'est pas utilisée, vous pouvez gagner en performances et en espace mémoire disponible : vous empêcherez ainsi la création d'objets inutilisés par le serveur, qui occuperont de la place jusqu'à ce qu'ils soient détruits après la période d'inactivité dépassée.</p></aside><h5 id="r-3053384" data-claire-element-id="4349079">L'accès à une page sans cookie</h5><p id="r-2134794" data-claire-element-id="2351806">Dernier scénario et non des moindres, l'accès à une page faisant intervenir un appel à <code>request.getSession()</code> depuis un navigateur qui n'accepte pas les cookies ! Eh oui, tous les navigateurs ne gardent pas leurs portes ouvertes, et certains refusent la sauvegarde de données sous forme de cookies. Procédez comme suit pour bloquer les cookies depuis votre navigateur.</p><p id="r-2134795" data-claire-element-id="2351807">Depuis Firefox :</p><ol id="r-3053360" data-claire-element-id="4349055"><li id="r-2134797" data-claire-element-id="2351809"><p id="r-2134796" data-claire-element-id="2351808">Allez sur la page <a href="http://localhost:8080/pro/connexion">http://localhost:8080/pro/connexion</a>.</p></li><li id="r-2134799" data-claire-element-id="2351811"><p id="r-2134798" data-claire-element-id="2351810">Faites un clic droit dans la page et sélectionnez <strong>Informations sur la page</strong>.</p></li><li id="r-2134801" data-claire-element-id="2351813"><p id="r-2134800" data-claire-element-id="2351812">Sélectionnez alors le panneau <strong>Permissions</strong>.</p></li><li id="r-3053359" data-claire-element-id="4349054"><figure id="r-3053358" data-claire-element-id="4349053"><img id="r-3053356" data-claire-element-id="4349051" src="../../../user.oc-static.com/files/382001_383000/382193.png" alt="Panneau Permissions" /><figcaption>Panneau Permissions</figcaption></figure><p id="r-2134802" data-claire-element-id="2351814">Sous <strong>Définir des cookies</strong>, décochez <strong>Permissions par défaut</strong> et cochez <strong>Bloquer</strong>, comme indiqué à la figure suivante.</p></li><li id="r-2134806" data-claire-element-id="2351818"><p id="r-2134805" data-claire-element-id="2351817">Fermez la fenêtre <strong>Informations sur la page</strong>.</p></li></ol><p id="r-2134808" data-claire-element-id="2351820">Depuis Chrome :</p><p id="r-3053362" data-claire-element-id="4349057"><img id="r-3053361" data-claire-element-id="4349056" src="../../../user.oc-static.com/files/382001_383000/382191.gif" alt="" /></p><ol id="r-3053368" data-claire-element-id="4349063"><li id="r-3053363" data-claire-element-id="4349058"><p id="r-2134809" data-claire-element-id="2351821">Cliquez sur l'icône représentant une clé à molette</p><p id="r-2134810" data-claire-element-id="2351822">qui est située dans la barre d'outils du navigateur.</p></li><li id="r-2134814" data-claire-element-id="2351826"><p id="r-2134813" data-claire-element-id="2351825">Sélectionnez <strong>Paramètres</strong>.</p></li><li id="r-2134816" data-claire-element-id="2351828"><p id="r-2134815" data-claire-element-id="2351827">Cliquez sur <strong>Afficher les paramètres avancés</strong>.</p></li><li id="r-2134818" data-claire-element-id="2351830"><p id="r-2134817" data-claire-element-id="2351829">Dans la section &quot;Confidentialité&quot;, cliquez sur le bouton <strong>Paramètres de contenu</strong>.</p></li><li id="r-3053367" data-claire-element-id="4349062"><figure id="r-3053366" data-claire-element-id="4349061"><img id="r-3053364" data-claire-element-id="4349059" src="../../../user.oc-static.com/files/382001_383000/382192.png" alt="Paramètres de contenu" /><figcaption>Paramètres de contenu</figcaption></figure><p id="r-2134819" data-claire-element-id="2351831">Dans la section &quot;Cookies&quot;, modifiez les paramètres comme indiqué à la figure suivante.</p></li></ol><p id="r-2134823" data-claire-element-id="2351835">Redémarrez ensuite Tomcat, effacez les données de votre navigateur via un <kbd>Ctrl</kbd> + <kbd>Maj</kbd> + <kbd>Suppr</kbd>, et rendez-vous sur la page <a href="http://localhost:8080/pro/connexion">http://localhost:8080/pro/connexion</a>. Vous observerez alors que la réponse du serveur contient une instruction <strong>Set-Cookie</strong>. Actualisez maintenant la page en appuyant sur <kbd>F5</kbd>, et vous constaterez cette fois que la requête envoyée par votre navigateur ne contient pas de cookie, et que la réponse du serveur contient à nouveau une instruction <strong>Set-Cookie</strong> présentant un identifiant de session différent ! C'est tout à fait logique :</p><ul id="r-2134828" data-claire-element-id="2351840"><li id="r-2134825" data-claire-element-id="2351837"><p id="r-2134824" data-claire-element-id="2351836">le navigateur n'accepte plus les cookies, il n'a donc pas enregistré le premier identifiant envoyé par le serveur dans la première réponse. Par conséquent, il n'a pas envoyé d'identifiant dans la requête suivante ;</p></li><li id="r-2134827" data-claire-element-id="2351839"><p id="r-2134826" data-claire-element-id="2351838">le serveur ne trouvant aucune information de session dans la seconde requête envoyée par le navigateur du client, il le considère comme un nouveau visiteur, crée une nouvelle session et lui demande d'en enregistrer le nouvel identifiant dans un cookie.</p></li></ul><div id="r-2134830" data-claire-element-id="2351842" data-claire-semantic="question"><p id="r-2134829" data-claire-element-id="2351841">Bien, c'est logique. Mais dans ce cas, comment le serveur peut-il associer une session à un utilisateur ?</p></div><p id="r-2134831" data-claire-element-id="2351843">Voilà en effet une excellente question : comment le serveur va-t-il être capable de retrouver des informations en session s'il n'est pas capable de reconnaître un visiteur d'une requête à l'autre ? Étant donné l'état actuel de notre code, la réponse est simple : il ne peut pas ! D'ailleurs, vous pouvez vous en rendre compte simplement.</p><ol id="r-3053377" data-claire-element-id="4349072"><li id="r-3053372" data-claire-element-id="4349067"><figure id="r-3053371" data-claire-element-id="4349066"><img id="r-3053369" data-claire-element-id="4349064" src="../../../user.oc-static.com/files/380001_381000/380518.png" alt="Succès de la connexion" /><figcaption>Succès de la connexion</figcaption></figure><p id="r-2134832" data-claire-element-id="2351844">Rendez-vous sur la page de connexion, saisissez des données correctes et validez le formulaire. Observez la figure suivante.</p></li><li id="r-3053376" data-claire-element-id="4349071"><figure id="r-3053375" data-claire-element-id="4349070"><img id="r-3053373" data-claire-element-id="4349068" src="../../../user.oc-static.com/files/380001_381000/380394.png" alt="Connexion" /><figcaption>Connexion</figcaption></figure><p id="r-2134835" data-claire-element-id="2351847">Ouvrez alors un nouvel onglet, et rendez-vous à nouveau sur la page de connexion. Observez la figure suivante.</p></li></ol><p id="r-2134839" data-claire-element-id="2351851">Lors de nos précédents tests, dans la partie sur les vérifications, le formulaire réaffichait l'adresse mail avec laquelle vous vous étiez connectés auparavant. Cette fois, aucune information n'est réaffichée et le formulaire de connexion apparaît à nouveau vierge. Vous constatez donc bien l'incapacité du serveur à vous reconnaître !</p><p id="r-2134840" data-claire-element-id="2351852">Pas de panique, nous allons y remédier très simplement. Dans notre page <strong>connexion.jsp</strong>, nous allons modifier une ligne de code :</p><pre id="r-2134841" data-claire-element-id="2837793"><code data-claire-semantic="jsp">&lt;!-- Dans la page connexion.jsp, remplacez la ligne suivante : --&gt;
&lt;form method=&quot;post&quot; action=&quot;connexion&quot;&gt;

&lt;!-- Par cette ligne : --&gt;
&lt;form method=&quot;post&quot; action=&quot;&lt;c:url value=&quot;/connexion&quot; /&gt;&quot;&gt;</code></pre><p id="r-2134842" data-claire-element-id="2351854">Si vous reconnaissez ici <a href="http://www.siteduzero.com/tutoriel-3-285009-la-bibliotheque-core.html#ss_part_4">la balise <code>&lt;c:url&gt;</code> de la JSTL Core</a>, vous devez également vous souvenir qu'elle est équipée pour la gestion automatique des sessions. Je vous avais en effet déjà expliqué que cette balise avait l'effet suivant :</p><pre id="r-2134843" data-claire-element-id="2837794"><code data-claire-semantic="jsp">&lt;%-- L'url ainsi générée --%&gt;
&lt;c:url value=&quot;test.jsp&quot; /&gt;

&lt;%-- Sera rendue ainsi dans la page web finale,
si le cookie est présent --%&gt;
test.jsp

&lt;%-- Et sera rendue sous cette forme si le cookie est absent --%&gt;
test.jsp;jsessionid=BB569C7F07C5E887A4D</code></pre><p id="r-2134844" data-claire-element-id="2351856">Et ça, c'est exactement ce dont nous avons besoin ! Puisque notre navigateur n'accepte plus les cookies, nous n'avons pas d'autre choix que de faire passer l'identifiant de session directement au sein de l'URL.</p><p id="r-2134845" data-claire-element-id="2351857">Une fois la modification sur la page <strong>connexion.jsp</strong> effectuée, suivez le scénario de tests suivant.</p><p id="r-2134846" data-claire-element-id="2351858">Rendez-vous à nouveau sur la page <a href="http://localhost:8080/pro/connexion">http://localhost:8080/pro/connexion</a>, et regardez à la fois la réponse envoyée par le serveur et le code source de la page de connexion. Vous constaterez alors que, puisque le serveur ne détecte aucun cookie présent chez le client, il va d'un côté tenter de passer l'identifiant de session via l'instruction <strong>Set-Cookie</strong>, et de l'autre générer une URL précisant l'identifiant de session. Voyez plutôt la figure suivante.</p><figure id="r-3053379" data-claire-element-id="4349074"><img id="r-2134847" data-claire-element-id="2351859" src="../../../user.oc-static.com/files/382001_383000/382196.png" alt="Image utilisateur" /></figure><p id="r-2134850" data-claire-element-id="2351862">Connectez-vous alors avec des données valides. Vous retrouverez alors, dans la barre d'adresses de votre navigateur, l'URL modifiée par la balise <code>&lt;c:url&gt;</code>, contenant l'identifiant de session passé par le serveur (voir la figure suivante).</p><figure id="r-3053381" data-claire-element-id="4349076"><img id="r-2134851" data-claire-element-id="2351863" src="../../../user.oc-static.com/files/382001_383000/382195.png" alt="Image utilisateur" /></figure><p id="r-2134854" data-claire-element-id="2351866">Ouvrez un nouvel onglet, et copiez/collez l'URL dans la barre d'adresses pour y ouvrir à nouveau la page de connexion en conservant le <strong>JSESSIONID</strong>. Vous constaterez cette fois que le serveur vous a bien reconnus en se basant sur l'identifiant contenu dans l'URL que vous lui transmettez, et qu'il est capable de retrouver l'adresse mail avec laquelle vous vous êtes connectés (voir la figure suivante).</p><figure id="r-3053383" data-claire-element-id="4349078"><img id="r-2134855" data-claire-element-id="2351867" src="../../../user.oc-static.com/files/382001_383000/382197.png" alt="Image utilisateur" /></figure><p id="r-2134858" data-claire-element-id="2351870">Accédez maintenant à la page <a href="http://localhost:8080/pro/connexion">http://localhost:8080/pro/connexion</a> sans préciser le <strong>JSESSIONID</strong> dans l'URL, et constatez que le serveur est à nouveau incapable de vous reconnaître et vous affiche un formulaire vierge !</p><p id="r-2134859" data-claire-element-id="2351871">Nous en avons enfin terminé avec notre batterie de tests, et avec tout ce que vous avez découvert, les sessions n'ont maintenant presque plus aucun secret pour vous !</p><h4 id="r-2134885" data-claire-element-id="2351897">En résumé</h4><ul id="r-2134884" data-claire-element-id="2351896"><li id="r-2134863" data-claire-element-id="2351875"><p id="r-2134862" data-claire-element-id="2351874">La session complète un manque du protocole HTTP, en permettant au serveur de reconnaître et tracer un visiteur ;</p></li><li id="r-2134865" data-claire-element-id="2351877"><p id="r-2134864" data-claire-element-id="2351876">une session est un espace mémoire alloué sur le serveur, et dont le contenu n'est accessible que depuis le serveur ;</p></li><li id="r-2134867" data-claire-element-id="2351879"><p id="r-2134866" data-claire-element-id="2351878">le serveur représente une session par l'objet <code>HttpSession</code>, initialisé par un simple appel à <code>request.getSession()</code> ;</p></li><li id="r-2134869" data-claire-element-id="2351881"><p id="r-2134868" data-claire-element-id="2351880">afin de savoir quel client est associé à telle session créée, le serveur transmet au client l'identifiant de la session qui lui est dédiée, le <strong>JSESSIONID</strong>, dans les en-têtes de la réponse HTTP sous forme d'un cookie ;</p></li><li id="r-2134871" data-claire-element-id="2351883"><p id="r-2134870" data-claire-element-id="2351882">si le navigateur accepte les cookies, il stocke alors ce cookie contenant l'identifiant de session, et le retransmet au serveur dans les en-têtes de chaque requête HTTP qui va suivre ;</p></li><li id="r-2134873" data-claire-element-id="2351885"><p id="r-2134872" data-claire-element-id="2351884">si le serveur lui renvoie un nouveau numéro, autrement dit si le serveur a fermé l'ancienne session et en a ouvert une nouvelle, alors le navigateur remplace l'ancien numéro stocké par ce nouveau numéro, en écrasant l'ancien cookie par le nouveau ;</p></li><li id="r-2134875" data-claire-element-id="2351887"><p id="r-2134874" data-claire-element-id="2351886">si le navigateur n'accepte pas les cookies, alors le serveur dispose d'un autre moyen pour identifier le client : il est capable de chercher l'identifiant directement dans l'URL de la requête, et pas uniquement dans ses en-têtes ;</p></li><li id="r-2134877" data-claire-element-id="2351889"><p id="r-2134876" data-claire-element-id="2351888">il suffit au développeur de manipuler correctement les URL qu'il met en place dans son code - avec <code>&lt;c:url&gt;</code> par exemple - pour permettre une gestion continue des sessions, indépendante de l'acceptation ou non des cookies côté client ;</p></li><li id="r-2134879" data-claire-element-id="2351891"><p id="r-2134878" data-claire-element-id="2351890">une session expire et est détruite après le départ d'un visiteur (fermeture de son navigateur), après son inactivité prolongée ou après sa déconnexion manuelle ;</p></li><li id="r-2134881" data-claire-element-id="2351893"><p id="r-2134880" data-claire-element-id="2351892">pour effectuer une déconnexion manuellement, côté serveur il suffit d'appeler la méthode <code>session.invalidate()</code> ;</p></li><li id="r-2134883" data-claire-element-id="2351895"><p id="r-2134882" data-claire-element-id="2351894">la désactivation de la gestion des sessions sur une page en particulier est possible via la directive JSP <code>&lt;%@ page session=&quot;false&quot; %&gt;</code>.</p></li></ul>

                <div class="js-courseSelementActions sideActions">
    <ul class="sideActions__container">
        <li>
            <a class="sideActions__item  js-courseElementActions-copyUrl  js-tooltip"
               href="#" data-tooltip="Copier le lien"
               data-tooltip-done="Lien copié !">
            #
            </a>
        </li>
    </ul>
</div>
            </div>

            
            <nav class="course-pagination    clearfix">

            <a href="tp-fil-rouge-etape-3.html" class="oc-btn dark-btn course-pagination__btn course-pagination__btn--previous">
            <i class="icon-previous"></i>
            <span>TP Fil rouge - Étape 3</span>
        </a>
    
    <span class="course-pagination__separator"></span>

            <a href="le-filtre-creez-un-espace-membre.html" class="oc-btn dark-btn course-pagination__btn course-pagination__btn--next">
            <span>Le filtre : créez un espace membre</span>
            <i class="icon-next"></i>
        </a>
    
</nav>

            
<aside  tabindex="-1"
        role="dialog"
                    aria-labelledby="popin-view-restriction_popin_title"
                class="popin popin--illustrated  js-popin"
        id="popin-view-restriction"
>
    <i class="popin__close-button icon-close js-close-button"></i>

    <div class="popin__inner">
                    <div class="popin__illustrationWrapper">
                <div class="popin__illustration illustration--balloon"></div>
            </div>
        
        <div class="popin__mainContainer">
                            <h3 id="popin-view-restriction_popin_title" class="popin__title  js-popin-title">Waouh !</h3>
            
            
            
            <div class="popin__content  js-popin-content">
                <div class="popin__contentWrapper">
                                                <p>
            Très heureux de voir que nos cours vous plaisent, déjà 3 pages lues aujourd&#039;hui ! Vous pouvez continuer la lecture de nos cours en devenant un Roomie, un membre de la communauté d&#039;OpenClassrooms. C&#039;est gratuit !
        </p>
        <p>
            Vous pourrez aussi suivre votre avancement dans le cours, faire les exercices et discuter avec les autres Roomies.
        </p>
                    </div>
            </div>

                            <div class="popin__actions  js-popin-actions">
                                                                        <a class="oc-btn orange-alt-btn "  href="https://openclassrooms.com/register">S'inscrire</a>
                                                    <a class="oc-btn dark-btn "  href="https://openclassrooms.com/login">Se connecter</a>
                                                            </div>
            
                        
                    </div>
    </div>
</aside>

        </div>


    </section>
</div>
    </div>

    
    <div id="popin-not-certifying-yet"
     class="popin"
     data-popin-title="Vous ne pouvez pas encore obtenir de certificat de réussite à l&#039;issue de ce cours.
                            <a href='https://openclassrooms.com/premium'><i class='icon-star'></i> Devenez Premium</a>
                    ">
    <img alt="Exemple de certificat de réussite" src="../../../static.oc-static.com/prod/images/courses/certif.jpg"/>
</div>


                </main>

                <aside class="contentWithSidebar__sidebar  js-contentWithSidebar-slidingElement" >
                        <nav class="col-nav">
    <div id="tab-courseMenu" class="col-nav__inner js-sidebar-inner">
        <div class="col-nav__block  col-nav__block--summary">

            <div class="side-paginate">
                                    <a href="tp-fil-rouge-etape-3.html" class="side-paginate__previous">
                        <i class="icon-previous"></i>
                    </a>

                    <span class="side-paginate__separator"></span>
                
                <h6 class="side-paginate__title">
                    Une application interactive !
                </h6>

                                    <span class="side-paginate__separator"></span>

                    <a href="le-filtre-creez-un-espace-membre.html" class="side-paginate__next">
                        <i class="icon-next"></i>
                    </a>
                            </div>

                            <div class="col-nav__block--summary-list">
                    <ol class="col-nav__chapters">
                                                    <li class="">
                                                                                                    <a class="col-nav__chapterTitle" href="formulaires-le-b-a-ba.html">Formulaires : le b.a.-ba</a>
                                                            </li>
                                                    <li class="">
                                                                                                    <a class="col-nav__chapterTitle" href="formulaires-a-la-mode-mvc.html">Formulaires : à la mode MVC</a>
                                                            </li>
                                                    <li class="">
                                                                                                    <a class="col-nav__chapterTitle" href="tp-fil-rouge-etape-3.html">TP Fil rouge - Étape 3</a>
                                                            </li>
                                                    <li class="selected">
                                                                                                    <span class="col-nav__chapterTitle">La session : connectez vos clients</span>
                                                            </li>
                                                    <li class="">
                                                                                                    <a class="col-nav__chapterTitle" href="le-filtre-creez-un-espace-membre.html">Le filtre : créez un espace membre</a>
                                                            </li>
                                                    <li class="">
                                                                                                    <a class="col-nav__chapterTitle" href="le-cookie-le-navigateur-vous-ouvre-ses-portes.html">Le cookie : le navigateur vous ouvre ses portes</a>
                                                            </li>
                                                    <li class="">
                                                                                                    <a class="col-nav__chapterTitle" href="tp-fil-rouge-etape-4.html">TP Fil rouge - Étape 4</a>
                                                            </li>
                                                    <li class="">
                                                                                                    <a class="col-nav__chapterTitle" href="formulaires-l-envoi-de-fichiers.html">Formulaires : l&#039;envoi de fichiers</a>
                                                            </li>
                                                    <li class="">
                                                                                                    <a class="col-nav__chapterTitle" href="le-telechargement-de-fichiers.html">Le téléchargement de fichiers</a>
                                                            </li>
                                                    <li class="">
                                                                                                    <a class="col-nav__chapterTitle" href="tp-fil-rouge-etape-5.html">TP Fil rouge - Étape 5</a>
                                                            </li>
                                            </ol>

                                    </div>
                    </div>

        
        
            <div class="col-nav__block  col-nav__block--subscribe">
            <a href="https://openclassrooms.com/login" class="oc-btn orange-alt-btn js-popin-activator" data-popin-selector="#popin-log-in">
                <i class="icon-lock"></i>
                Suivre ce cours
            </a>

            <a href="https://openclassrooms.com/how-does-it-work">
                <small>Comment ça marche ?</small>
            </a>
        </div>
    


        
                    <div class="col-nav__block col-nav__block--institution">
    <h2>Créé par</h2>
            <a  href="https://openclassrooms.com/partners/openclassrooms" target="_blank">
            <img src="../../../sdz-upload.s3.amazonaws.com/prod/partners/img/logo_logo-oc.png" alt="logo OpenClassrooms" class="col-nav__institutionLogo"/>
            <p class="col-nav__block--institutionDescription">
                OpenClassrooms, 1ère plateforme  <span class='nowrap'>e-Education<span> en Europe
            </p>
        </a>
    </div>
        
        
        
    
                        
            
    <div class="socialNetwork col-nav__block">
        <ul class="socialButtons  js-socialButtons"
    data-options="
                title: 'Découvrez le cours &quot;La session : connectez vos clients&quot; sur @OpenClassrooms',
        mailTitle: 'Cours &quot;La session : connectez vos clients&quot; sur OpenClassrooms',
        mailContent: 'Découvrez le cours &quot;La session : connectez vos clients&quot; sur OpenClassrooms.'">

    <li>
        <a class="roundIcon  roundIcon--twitter addthis_button_twitter  js-socialButtons-btn" data-tooltip="Partagez sur Twitter" >
            <i class="roundIcon__icon  icon-twitter"></i>
        </a>
    </li>

    <li>
        <a class="roundIcon  roundIcon--facebook  addthis_button_facebook  js-socialButtons-btn" data-tooltip="Partagez sur Facebook">
            <i class="roundIcon__icon  icon-facebook"></i>
        </a>
    </li>

    <li>
        <a class="roundIcon  roundIcon--googlePlus  addthis_button_google_plusone_share  js-socialButtons-btn" data-tooltip="Partagez sur Google+" >
            <i class="roundIcon__icon  icon-google"></i>
        </a>
    </li>

    <li>
        <a class="roundIcon  addthis_button_email  js-socialButtons-btn  js-socialButtons-email" data-tooltip="Partagez par e-mail">
            <i class="roundIcon__icon  icon-letter"></i>
        </a>
    </li>

</ul>

    </div>
    </div>
</nav>
                </aside>
            </div>
        </div>

                    <footer class="alt-section">
    <div class="centered">

        <div class="row">
                            <div class="col4 course-bottom__category">
                    <h2 class="highlighted">
                        L&#039;auteur
                    </h2>
                    <div>
                                                    <a itemprop="author" itemscope itemtype="http://schema.org/Person" href="https://openclassrooms.com/membres/coyote-92394" class="no-underlined">
                                <div class="course-bottom__text-illustrated">
                                    <span data-author="Médéric Munier" style="background-image: url(../../../www.gravatar.com/avatar/15c349ac5313535fba91e5dbfa8803ec/indexd6dc.html?s=256&amp;r=g&amp;d=https%3A%2F%2Fopenclassrooms.com%2Fbundles%2Fcommon%2Fimages%2Favatar_defaut.png);"></span>
                                    <h4 itemprop="name">Médéric Munier</h4>
                                                                            <p itemprop="description">
                                            Auteur du livre sur le Java EE.
                                        </p>
                                                                    </div>
                            </a>
                                            </div>
                </div>
            
                            <div class="col8 course-bottom__category">
                    <h2 class="highlighted">Découvrez aussi ce cours en...</h2>

                    <ul class="course-bottom__format">
                                                    <li>
                                <a
                                                                                    href="https://openclassrooms.com/ebooks/creez-votre-application-web-avec-java-ee" class="text-decoration-none"
                                                                        >
                                    <div class="circle circle--x-small">
                                        <span class="circle__content"></span>
                                        <i class="icon-ebook"></i>
                                                                                    <div class="ribbon ribbon--orange">
                                                <div class="ribbon__content">
                                                    <span>Premium</span>
                                                </div>
                                            </div>
                                                                            </div>
                                    <div class="course-bottom__format-entitled">eBook</div>
                                </a>
                            </li>
                                                    <li>
                                <a
                                                                                    href="http://www.eyrolles.com/Informatique/Livre/creez-des-applications-web-avec-java-ee-9791090085244?societe=openclassrooms" target="_blank" class="text-decoration-none"
                                                                        >
                                    <div class="circle circle--x-small">
                                        <span class="circle__content"></span>
                                        <i class="icon-book"></i>
                                                                            </div>
                                    <div class="course-bottom__format-entitled">Livre papier</div>
                                </a>
                            </li>
                                                    <li>
                                <a
                                                                                    href="https://openclassrooms.com/ebooks/creez-votre-application-web-avec-java-ee" class="text-decoration-none"
                                                                        >
                                    <div class="circle circle--x-small">
                                        <span class="circle__content"></span>
                                        <i class="icon-ebook pdf"></i>
                                                                                    <div class="ribbon ribbon--orange">
                                                <div class="ribbon__content">
                                                    <span>Premium</span>
                                                </div>
                                            </div>
                                                                            </div>
                                    <div class="course-bottom__format-entitled">PDF</div>
                                </a>
                            </li>
                                            </ul>
                </div>
                    </div>

    </div>
</footer>


    </article>
            </div>
        </div>

                    <footer class="footer">
    <div class="centered">
        <div class="row">

            <div class="col3 col6-s  footer__item  linksList  foldable  js-foldable" data-options="mobileOnly: true, disableOnLargeScreen: true, initialState: 'closed'">
                <h2 class="linksList__title  foldable__button  js-foldable-button">
                    OpenClassrooms
                    <i class="icon-next  foldable__icon"></i>
                </h2>

                <ul class="linksList__content foldable__content">
                    <li>
                        <a href="https://openclassrooms.com/about-us" class="footer__link">Qui sommes-nous ?</a>
                    </li>
                    <li>
                        <a href="https://openclassrooms.com/how-does-it-work" class="footer__link">Fonctionnement de nos cours</a>
                    </li>
                    <li>
                        <a href="https://openclassrooms.com/jobs" class="footer__link">Recrutement</a>
                    </li>
                    <li>
                        <a href="#" class="js-zendesk-show footer__link">Nous contacter</a>
                    </li>
                </ul>
            </div>

            <div class="col3 col6-s  footer__item  linksList  foldable  js-foldable" data-options="mobileOnly: true, disableOnLargeScreen: true, initialState: 'closed'">
                <h2 class="linksList__title  foldable__button  js-foldable-button">
                    Professionnels
                    <i class="icon-next  foldable__icon"></i>
                </h2>

                <ul class="linksList__content foldable__content">
                    <li>
                        <a href="https://openclassrooms.com/affiliation" class="footer__link">
                            Affiliation
                        </a>
                    </li>
                    <li>
                        <a href="https://openclassrooms.com/business" class="footer__link">Entreprises</a>
                    </li>
                    <li>
                        <a href="https://openclassrooms.com/universities" class="footer__link">Universités et écoles</a>
                    </li>
                </ul>
            </div>

            <div class="col3 col6-s  footer__item  linksList  foldable  js-foldable" data-options="mobileOnly: true, disableOnLargeScreen: true, initialState: 'closed'">
                <h2 class="linksList__title  foldable__button  js-foldable-button">
                    Participez
                    <i class="icon-next  foldable__icon"></i>
                </h2>

                <ul class="linksList__content foldable__content">
                    <li>
                        <a href="https://openclassrooms.com/new-teachers" class="footer__link">Créer un cours</a>
                    </li>
                    <li>
                        <a href="https://openclassrooms.com/courses/courselab" class="footer__link">CourseLab</a>
                    </li>
                    <li>
                        <a href="https://openclassrooms.com/terms-conditions/fr" class="footer__link">
                            <strong>Conditions Générales d&#039;Utilisation</strong>
                        </a>
                    </li>
                </ul>
            </div>

            <div class="col3 col6-s  footer__item  linksList  foldable  js-foldable" data-options="mobileOnly: true, disableOnLargeScreen: true, initialState: 'closed'">
                <h2 class="linksList__title  foldable__button  js-foldable-button">
                    Suivez-nous
                    <i class="icon-next  foldable__icon"></i>
                </h2>
                                                                    <ul class="linksList__content foldable__content">
                    <li>
                        <a href="http://blog.openclassrooms.com/" class="footer__link">Le blog OpenClassrooms</a>
                    </li>
                    <li>
                        <ul class="footer__socialNetwork">
                            <li>
                                <a href="https://www.facebook.com/openclassrooms" target="_blank" class="roundIcon roundIcon--facebook footer__socialButtons">
                                    <i class="icon-facebook roundIcon__icon"></i>
                                </a>
                            </li>
                            <li>
                                <a href="https://twitter.com/openclassrooms" target="_blank" class="roundIcon roundIcon--twitter footer__socialButtons">
                                    <i class="icon-twitter roundIcon__icon"></i>
                                </a>
                            </li>
                            <li>
                                <a href="https://plus.google.com/+OpenClassrooms/posts" target="_blank" class="roundIcon roundIcon--youtube footer__socialButtons">
                                    <i class="icon-google roundIcon__icon"></i>
                                </a>
                            </li>
                            <li>
                                <a href="http://instagram.com/openclassrooms" target="_blank" class="roundIcon roundIcon--instagram footer__socialButtons">
                                    <i class="icon-instagram roundIcon__icon"></i>
                                </a>
                            </li>
                            <li>
                                <a href="https://www.youtube.com/user/TheOpenClassrooms" target="_blank" class="roundIcon roundIcon--googlePlus footer__socialButtons">
                                    <i class="icon-youtube roundIcon__icon"></i>
                                </a>
                            </li>
                            <li>
                                <a href="https://www.linkedin.com/company/openclassrooms" target="_blank" class="roundIcon roundIcon--linkedin footer__socialButtons">
                                    <i class="icon-linkedin roundIcon__icon"></i>
                                </a>
                            </li>
                        </ul>
                    </li>
                </ul>

            </div>
        </div>
    </div>
</footer>
        
        <!-- loaded javascript block -->

            
            <script type="text/javascript" src="../../js/maind0b3.js?095b5b3"></script>

        

    <script type="text/javascript" src="../../js/oc/courseViewd0b3.js?095b5b3"></script>


        <!-- loaded javascript block -->

        <script type="text/javascript">
    window.analytics=window.analytics||[],window.analytics.methods=["identify","group","track","page","pageview","alias","ready","on","once","off","trackLink","trackForm","trackClick","trackSubmit"],window.analytics.factory=function(t){return function(){var a=Array.prototype.slice.call(arguments);return a.unshift(t),window.analytics.push(a),window.analytics}};for(var i=0;i<window.analytics.methods.length;i++){var key=window.analytics.methods[i];window.analytics[key]=window.analytics.factory(key)}window.analytics.load=function(t){if(!document.getElementById("analytics-js")){var a=document.createElement("script");a.type="text/javascript",a.id="analytics-js",a.async=!0,a.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.io/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n)}},window.analytics.SNIPPET_VERSION="2.0.9",
    window.analytics.load('mou95e6tdn');
</script>

                            
        <!-- inlined javascript block -->

        <script type="text/javascript">
            
            if (App.modules) {
                App.modules.startAll();
            }
        </script>

                        
    <script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"beacon":"bam.nr-data.net","licenseKey":"90dc06697a","applicationID":"20302107","transactionName":"NANaYkJXC0ICAhdYVw1Je0NDQgpcTA4AblsPB1FEVWkGXhYTEFRnEwdKQm9GBEMXPhVYXRQ=","queueTime":0,"applicationTime":539,"atts":"GERZFApNGEw=","errorBeacon":"bam.nr-data.net","agent":""}</script></body>

<!-- Mirrored from openclassrooms.com/courses/creez-votre-application-web-avec-java-ee/la-session-connectez-vos-clients by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 06 Apr 2016 09:51:20 GMT -->
</html>
